<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
<title type="text">Smart Digital Agriculture</title>
<generator uri="https://github.com/mojombo/jekyll">Jekyll</generator>
<link rel="self" type="application/atom+xml" href="/feed.xml" />
<link rel="alternate" type="text/html" href="" />
<updated>2019-01-06T10:27:47+11:00</updated>
<id>/</id>
<author>
  <name>Smart Digital Agriculture</name>
  <uri>/</uri>
  <email>malone.brendan1001@gmail.com</email>
</author>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2019/01/journalDigest" />
  <id>/2019/01/journalDigest</id>
  <updated>2019-01-04T00:00:00-00:00</updated>
  <published>2019-01-04T00:00:00+11:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2019-1&quot;&gt;Journal Paper Digests 2019 #1&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Estimating Field Capacity from Volumetric Soil Water Content Time Series Using Automated Processing Algorithms&lt;/li&gt;
  &lt;li&gt;Effect of Air- and Water-Filled Voids on Neutron Moisture Meter Measurements of Clay Soil&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;estimating-field-capacity-from-volumetric-soil-water-content-time-series-using-automated-processing-algorithms&quot;&gt;Estimating Field Capacity from Volumetric Soil Water Content Time Series Using Automated Processing Algorithms&lt;/h3&gt;

&lt;p&gt;Authors:
Bean, EZ; Huffaker, RG; Migliaccio, KW&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;VADOSE ZONE JOURNAL&lt;/em&gt;, 17 (1):80073-80073; DEC 13 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Vadose zone measurements of volumetric soil water content (theta) using soil moisture sensors (SMSs) have become more common due to advances in technology and reduction of costs. Soil moisture sensor data exhibit a characteristic cyclical pattern reflecting water flux dynamics into and out of the observed soil volume. Expert review of SMS datasets to distinguish valid from corrupt or incomplete soil water cycles is arguably the most precise method for determining field capacity (theta(FC)) but is impractically cumbersome and time consuming for increasingly large SMS datasets. We evaluated competing approaches for automated soil water cycles analysis that use widely available R packages based on pattern recognition and machine learning (findpeaks [R-FP], symbolic aggregate approximation [R-SAX], and density histogram [R-DH]), and a MATLAB code based on soil water dynamic principles (SWDP). These approaches were applied to three SMS datasets. Our empirical results showed superi
 ority of R-SAX for identifying valid soil water cycles, probably due to benefiting from training sets to calibrate to correct cycles. Two other approaches (SWDP and R-FP) provided similar results without need of training sets or preprocessing data. Three approaches for estimating field capacity were applied to valid cycles, R-FP, regression of exponential decay (SWDP-R), and estimated “knee” of curve (SWDP-K). Each performed similarly to the expert defined values, with R-FP and SWDP-R generally performing best across analyses. Results of this study also show temporal dynamics of theta(FC) within datasets used here. There is potential for optimizing theta(FC) and a need for automated, objective analysis to leverage dynamics in irrigation management and modeling.&lt;/p&gt;

&lt;h3 id=&quot;effect-of-air--and-water-filled-voids-on-neutron-moisture-meter-measurements-of-clay-soil&quot;&gt;Effect of Air- and Water-Filled Voids on Neutron Moisture Meter Measurements of Clay Soil&lt;/h3&gt;

&lt;p&gt;Authors:
Bagnall, DK; Gutierrez, PMC; Yimam, YT; Morgan, CLS; Neely, HL;
Ackerson, JP&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;VADOSE ZONE JOURNAL&lt;/em&gt;, 17 (1):80137-80137; DEC 13 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Air- and water-filled voids around neutron moisture meter (NMM) access tubes have been cited as sources of volumetric water content (theta(v)) measurement error in cracking clay soils. The objectives of this study were to experimentally quantify this potential error stemming from (i) uncertainty in bulk density (rho(b)) sampling and (ii) the impact of air- and water-filled voids. Air- and water-filled voids were simulated using similar to 0.6-cm (small) and similar to 1.9-cm (large) annuli around access tubes. After NMM measurements were taken in a tightly installed access tube, either a small or large annulus was installed in the same borehole. Additional NMM measurements were taken with the annulus filled with air, and then water and rho(b) and theta(v) were measured. The RMSE of the NMM calibration using all 11 installations was 0.02 m(3) m(-3). However, if two cores were used for calibration, the ratio of NMM-measured theta(v) to in situ theta(v) was significantly differe
 nt (p &amp;lt; 0.05) from measured theta(v) half the time (RMSE, 0.012-0.05 m(3) m(-3)). Small air-filled voids created drier estimates of theta(v) (bias, -0.039 m(3) m(-3); p &amp;lt; 0.001), wherease small water-filled voids were not significantly different from the calibration. Air- and water-filled voids from larger annuli were significantly lower and higher (p &amp;lt; 0.001) than core-measured theta(v), with biases of -0.068 and 0.080 m(3) m(-3), respectively. Although this work does not correct NMM-predicted theta(v) to matrix theta(v), it does bound NMM error under field conditions in a cracking clay soil.&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/2019/01/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on January 04, 2019.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/12/journalDigest" />
  <id>/2018/12/journalDigest</id>
  <updated>2018-12-18T00:00:00-00:00</updated>
  <published>2018-12-18T00:00:00+11:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-23&quot;&gt;Journal Paper Digests 2018 #23&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Comparing optimal and empirical stomatal conductance models for application in Earth system models&lt;/li&gt;
  &lt;li&gt;SMAP soil moisture improves global evapotranspiration&lt;/li&gt;
  &lt;li&gt;Prediction of drought-induced reduction of agricultural productivity in Chile from MODIS, rainfall estimates, and climate oscillation indices&lt;/li&gt;
  &lt;li&gt;Susquehanna Shale Hills Critical Zone Observatory: Shale Hills in the Context of Shaver’s Creek Watershed&lt;/li&gt;
  &lt;li&gt;Cosmic Ray Neutron Sensing for Simultaneous Soil Water Content and Business Quantification in Drought conditions&lt;/li&gt;
  &lt;li&gt;Precise Temporal Disaggregation Preserving Marginals and Correlations (DiPMaC) for Stationary and Nonstationary Processes&lt;/li&gt;
  &lt;li&gt;Management of the major chemical soil constraints affecting yields in the grain growing region of Queensland and New South Wales, Australia - a review&lt;/li&gt;
  &lt;li&gt;Spatial variation in soil organic carbon and nitrogen at two field sites under crop and pasture rotations in southern New South Wales, Australia&lt;/li&gt;
  &lt;li&gt;AgrHyS: An Observatory of Response Times in Agro-Hydro Systems&lt;/li&gt;
  &lt;li&gt;OZCAR: The French Network of Critical Zone Observatories&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;comparing-optimal-and-empirical-stomatal-conductance-models-for-application-in-earth-system-models&quot;&gt;Comparing optimal and empirical stomatal conductance models for application in Earth system models&lt;/h3&gt;

&lt;p&gt;Authors:
Franks, PJ; Bonan, GB; Berry, JA; Lombardozzi, DL; Holbrook, NM; Herold,
N; Oleson, KW&lt;/p&gt;

&lt;p&gt;Source:
GLOBAL CHANGE BIOLOGY, 24 (12):5708-5723; DEC 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Earth system models (ESMs) rely on the calculation of canopy conductance
in land surface models (LSMs) to quantify the partitioning of land
surface energy, water, and CO2 fluxes. This is achieved by scaling
stomatal conductance, g(w), determined from physiological models
developed for leaves. Traditionally, models for g(w) have been
semi-empirical, combining physiological functions with empirically
determined calibration constants. More recently, optimization theory has
been applied to model g(w) in LSMs under the premise that it has a
stronger grounding in physiological theory and might ultimately lead to
improved predictive accuracy. However, this premise has not been
thoroughly tested. Using original field data from contrasting forest
systems, we compare a widely used empirical type and a more recently
developed optimization-type g(w) model, termed BB and MED, respectively.
Overall, we find no difference between the two models when used to
simulate g(w) from photosynthesis data, or leaf gas exchange from a
coupled photosynthesis-conductance model, or gross primary productivity
and evapotranspiration for a FLUXNET tower site with the CLM5 community
LSM. Field measurements reveal that the key fitted parameters for BB and
MED, g(1B) and g(1M,) exhibit strong species specificity in magnitude
and sensitivity to CO2, and CLM5 simulations reveal that failure to
include this sensitivity can result in significant overestimates of
evapotranspiration for high-CO2 scenarios. Further, we show that g(1B)
and g(1M) can be determined from mean c(i)/c(a) (ratio of leaf
intercellular to ambient CO2 concentration). Applying this relationship
with c(i)/c(a) values derived from a leaf delta C-13 database, we obtain
a global distribution of g(1B) and g(1M), and these values correlate
significantly with mean annual precipitation. This provides a new
methodology for global parameterization of the BB and MED models in
LSMs, tied directly to leaf physiology but unconstrained by spatial
boundaries separating designated biomes or plant functional types.&lt;/p&gt;

&lt;h3 id=&quot;smap-soil-moisture-improves-global-evapotranspiration&quot;&gt;SMAP soil moisture improves global evapotranspiration&lt;/h3&gt;

&lt;p&gt;Authors:
Purdy, AJ; Fisher, JB; Goulden, ML; Colliander, A; Halverson, G; Tu, K;
Farniglietti, JS&lt;/p&gt;

&lt;p&gt;Source:
REMOTE SENSING OF ENVIRONMENT, 219 1-14; DEC 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Accurate estimation of global evapotranspiration (ET) is essential to
understand water cycle and land-atmosphere feedbacks in the Earth
system. Satellite-driven ET models provide global estimates, but many of
the ET algorithms have been designed independently of soil moisture
observations. As water for ET is sourced from the soil, incorporating
soil moisture into global remote sensing algorithms of ET should, in
theory, improve performance, especially in water-limited regions. This
paper presents an update to the widely-used Priestley Taylor-Jet
Propulsion Laboratory (PT-JPL) ET algorithm to incorporate spatially
explicit daily surface soil moisture control on soil evaporation and
canopy transpiration. The updated algorithm is evaluated using 14
AmeriFlux eddy covariance towers co-located with COsmic-ray Soil
Moisture Observing System (COSMOS) soil moisture observations. The new
PT-JPL(SM) model shows reduced errors and increased explanation of
variance, with the greatest improvements in water-limited regions. Soil
moisture incorporation into soil evaporation improves ET estimates by
reducing bias and RMSE by 29.9% and 22.7% respectively, while soil
moisture incorporation into transpiration improves ET estimates by
reducing bias by 30.2%, RMSE by 16.9%. We apply the algorithm globally
using soil moisture observations from the Soil Moisture Active Passive
Mission (SMAP). These new global estimates of ET show reduced error at
finer spatial resolutions and provide a rich dataset to evaluate land
surface and climate models, vegetation response to changes in water
availability and environmental conditions, and anthropogenic
perturbations to the water cycle.&lt;/p&gt;

&lt;h3 id=&quot;prediction-of-drought-induced-reduction-of-agricultural-productivity-in-chile-from-modis-rainfall-estimates-and-climate-oscillation-indices&quot;&gt;Prediction of drought-induced reduction of agricultural productivity in Chile from MODIS, rainfall estimates, and climate oscillation indices&lt;/h3&gt;

&lt;p&gt;Authors:
Zambrano, F; Vrieling, A; Nelson, A; Meroni, M; Tadesse, T&lt;/p&gt;

&lt;p&gt;Source:
REMOTE SENSING OF ENVIRONMENT, 219 15-30; DEC 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Global food security is negatively affected by drought. Climate
projections show that drought frequency and intensity may increase in
different parts of the globe. These increases are particularly hazardous
for developing countries. Early season forecasts on drought occurrence
and severity could help to better mitigate the negative consequences of
drought. The objective of this study was to assess if interannual
variability in agricultural productivity in Chile can be accurately
predicted from freely-available, near real-time data sources. As the
response variable, we used the standard score of seasonal cumulative
NDVI (zcNDVI), based on 2000-2017 data from Moderate Resolution Imaging
Spectroradiometer (MODIS), as a proxy for anomalies of seasonal primary
productivity. The predictions were performed with forecast lead times
from one- to six-month before the end of the growing season, which
varied between census units in Chile. Predictor variables included the
zcNDVI obtained by cumulating NDVI from season start up to prediction
time; standardised precipitation indices derived from satellite rainfall
estimates, for time-scales of 1, 3, 6, 12 and 24 months; the Pacific
Decadal Oscillation and the Multivariate ENSO oscillation indices; the
length of the growing season, and latitude and longitude. For each of
the 758 census units considered, the time series of the response and the
predictor variables were averaged for agricultural areas resulting in a
17-season time series per unit for each variable. We used two prediction
approaches: (i) optimal linear regression (OLR) whereby for each census
unit the single predictor was selected that best explained the
interannual zcNDVI variability, and (ii) a multi-layer feedforward
neural network architecture, often called deep learning (DL), where all
predictors for all units were combined in a single spatio-temporal
model. Both approaches were evaluated with a leave-one-year-out
cross-validation procedure. Both methods showed good prediction
accuracies for small lead times and similar values for all lead times.
The mean R-cv(2) values for OLR were 0.95, 0.83, 0.68, 0.56, 0.46 and
0.37, against 0.96, 0.84, 0.65, 0.54, 0.46 and 0.38 for DL, for one,
two, three, four, five, and six months lead time, respectively. Given
the wide range of climates and vegetation types covered within the study
area, we expect that the presented models can contribute to an improved
early warning system for agricultural drought in different geographical
settings around the globe.&lt;/p&gt;

&lt;h3 id=&quot;susquehanna-shale-hills-critical-zone-observatory-shale-hills-in-the-context-of-shavers-creek-watershed&quot;&gt;Susquehanna Shale Hills Critical Zone Observatory: Shale Hills in the Context of Shaver’s Creek Watershed&lt;/h3&gt;

&lt;p&gt;Authors:
Brantley, SL; White, T; West, N; Williams, JZ; Forsythe, B; Shapich, D;
Kaye, J; Lin, H; Shi, YN; Kaye, M; Herndon, E; Davis, KJ; He, Y;
Eissenstat, D; Weitzman, J; DiBiase, R; Li, L; Reed, W; Brubaker, K; Gu,
X&lt;/p&gt;

&lt;p&gt;Source:
VADOSE ZONE JOURNAL, 17 (1):80092-80092; NOV 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The Susquehanna Shale Hills Critical Zone Observatory (SSHCZO) was
established to investigate the form, function, and dynamics of the
critical zone developed on sedimentary rocks in the Appalachian
Mountains in central Pennsylvania. When first established, the SSHCZO
encompassed only the Shale Hills catchment, a 0.08-km(2) subcatchment
within Shaver’s Creek watershed. The SSHCZO has now grown to include 120
km(2) of the Shaver’s Creek watershed. With that growth, the science
team designed a strategy to measure a parsimonious set of data to
characterize the critical zone in such a large watershed. This
parsimonious design includes three targeted subcatchments (including the
original Shale Hills), observations along the main stem of Shaver’s
Creek, and broad topographic and geophysical observations. Here we
describe the goals, the implementation of measurements, and the major
findings of the SSHCZO by emphasizing measurements of the main stem of
Shaver’s Creek as well as the original Shale Hills subcatchment.&lt;/p&gt;

&lt;h3 id=&quot;cosmic-ray-neutron-sensing-for-simultaneous-soil-water-content-and-business-quantification-in-drought-conditions&quot;&gt;Cosmic Ray Neutron Sensing for Simultaneous Soil Water Content and Business Quantification in Drought conditions&lt;/h3&gt;

&lt;p&gt;Authors:
Jakobi, J; Huisman, JA; Vereecken, H; Diekkruger, B; Bogena, HR&lt;/p&gt;

&lt;p&gt;Source:
WATER RESOURCES RESEARCH, 54 (10):7383-7402; OCT 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Understanding the feedback mechanisms between soil water content (SWC)
and biomass production is important for sustainable resources
management. Here we present a new method enabling simultaneous
noninvasive measurements of SWC and biomass dynamics based on cosmic ray
neutron sensing (CRNS). Recently, it was suggested that the neutron
ratio (N-r) between thermal neutron (TN) and fast neutron (FN) intensity
contains information on other hydrogen pools like vegetation, canopy
interception, and snow. The aim of this study is to evaluate the
accuracy of simultaneous measurements of SWC and biomass dynamics during
agricultural drought conditions using CRNS probes. To this end, we
instrumented an arable field cropped with sugar beet with CRNS probes
and a wireless in situ SWC sensor network. Belowground and aboveground
biomass were sampled in monthly intervals. We found a linear
relationship between N-r and the aboveground biomass that allowed to
continuously quantify the dry aboveground biomass development throughout
the growing season with a root-mean-square error from 0.14 to 0.22
kg/m(2). This information was used together with measured belowground
biomass to correct for the effect of biomass on SWC determination with
CRNS probes, which increased the accuracy of the SWC estimates
considerably as indicated by the decrease of the root-mean-square error
from 0.046 to 0.013 cm(3)/cm(3). We anticipate that future research on
the N-r can further improve the accuracy of SWC and biomass estimates
and extend the application of CRNS to include canopy interception,
ponding water, and snow water equivalent estimation for both stationary
and roving CRNS systems.&lt;/p&gt;

&lt;h3 id=&quot;precise-temporal-disaggregation-preserving-marginals-and-correlations-dipmac-for-stationary-and-nonstationary-processes&quot;&gt;Precise Temporal Disaggregation Preserving Marginals and Correlations (DiPMaC) for Stationary and Nonstationary Processes&lt;/h3&gt;

&lt;p&gt;Authors:
Papalexiou, SM; Markonis, Y; Lombardo, F; AghaKouchak, A;
Foufoula-Georgiou, E&lt;/p&gt;

&lt;p&gt;Source:
WATER RESOURCES RESEARCH, 54 (10):7435-7458; OCT 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Hydroclimatic variables such as precipitation and temperature are often
measured or simulated by climate models at coarser spatiotemporal scales
than those needed for operational purposes. This has motivated more than
half a century of research in developing disaggregation methods that
break down coarse-scale time series into finer scales, with two primary
objectives: (a) reproducing the statistical properties of the fine-scale
process and (b) preserving the original coarse-scale data. Existing
methods either preserve a limited number of statistical moments at the
fine scale, which is often insufficient and can lead to an
unrepresentative approximation of the actual marginal distribution, or
are based on a limited number of a priori distributional assumptions,
for example, lognormal. Additionally, they are not able to account for
potential nonstationarity in the underlying fine-scale process. Here we
introduce a novel disaggregation method, named Disaggregation Preserving
Marginals and Correlations (DiPMaC), that is able to disaggregate a
coarse-scale time series to any finer scale, while reproducing the
probability distribution and the linear correlation structure of the
fine-scale process. DiPMaC is also generalized for arbitrary
nonstationary scenarios to reproduce time varying marginals.
Additionally, we introduce a computationally efficient algorithm, based
on Bernoulli trials, to optimize the disaggregation procedure and
guarantee preservation of the coarse-scale values. We focus on temporal
disaggregation and demonstrate the method by disaggregating monthly
precipitation to hourly, and time series with trends (e.g., climate
model projections), while we show its potential to disaggregate based on
general nonstationary scenarios. The example applications demonstrate
the performance and robustness of DiPMaC.&lt;/p&gt;

&lt;h3 id=&quot;management-of-the-major-chemical-soil-constraints-affecting-yields-in-the-grain-growing-region-of-queensland-and-new-south-wales-australia---a-review&quot;&gt;Management of the major chemical soil constraints affecting yields in the grain growing region of Queensland and New South Wales, Australia - a review&lt;/h3&gt;

&lt;p&gt;Authors:
Page, KL; Dalal, RC; Wehr, JB; Dang, YP; Kopittke, PM; Kirchhof, G;
Fujinuma, R; Menzies, NW&lt;/p&gt;

&lt;p&gt;Source:
SOIL RESEARCH, 56 (8):765-779; 2018&lt;/p&gt;

&lt;p&gt;Abstract:
In the grain growing region of Queensland and New South Wales,
Australia, crop production occurs predominantly under semiarid, rainfed
conditions. Vertosols dominate the soils used and many are prone to
structural problems. In this region, providing that crop nutrition is
adequate, optimising yield is largely dependent on maximising the
infiltration, storage and plant use of soil water. Soil constraints such
as sodicity, salinity, acidity, subsoil compaction and surface sealing
can limit these processes, leading to high yield losses. This review
examines management options to treat these constraints, focusing on
management where multiple constraints exist, and where these occur in
the subsoil. The main strategies reviewed include (a) use of gypsum to
treat sodicity and lime to treat acidity, which can lead to yield
increases of &amp;gt;100% in some circumstances, (b) cultivation or deep
ripping to break up compacted sodic layers and surface seals, (c)
incorporating soil organic matter to improve conditions for plant growth
and (d) selecting species, cultivars and management practices most
appropriate for constrained sites. Future research must be directed to
improving the profitability of ameliorant use for sodicity by increasing
our understanding of how to identify soils responsive to ameliorants,
and which combination of ameliorants will be cost effective when
sodicity occurs in combination with other constraints. In addition,
research needs to target ways to economically apply ameliorants in
subsoil environments, and better identify which crop species or
cultivars are productive on constrained sites, particularly those with
multiple constraints.&lt;/p&gt;

&lt;h3 id=&quot;spatial-variation-in-soil-organic-carbon-and-nitrogen-at-two-field-sites-under-crop-and-pasture-rotations-in-southern-new-south-wales-australia&quot;&gt;Spatial variation in soil organic carbon and nitrogen at two field sites under crop and pasture rotations in southern New South Wales, Australia&lt;/h3&gt;

&lt;p&gt;Authors:
Conyers, M; Orchard, B; Orgill, S; Oates, A; Poile, G; Hayes, R;
Hawkins, P; Xu, BB; Jia, Y; van der Rijt, V; Li, GD&lt;/p&gt;

&lt;p&gt;Source:
SOIL RESEARCH, 56 (8):780-792; 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Estimating the likely variance in soil organic carbon (OC) at the scale
of farm fields or smaller monitoring areas is necessary for developing
sampling protocols that allow temporal change to be detected. Given the
relatively low anticipated soil OC sequestration rates (&amp;lt;0.5 Mg/ha.0.30
m/year) for dryland agriculture it is important that sampling strategies
are designed to reduce any cumulative errors associated with measuring
soil OC. The first purpose of this study was to evaluate the spatial
variation in soil OC and nitrogen (N), in soil layers to 1.50 m depth at
two monitoring sites (Wagga Wagga and Yerong Creek, 0.5 ha each) in
southern New South Wales, Australia, where crop and pasture rotations
are practiced. Four variogram models were tested (linear, spherical,
Gaussian and exponential); however, no single model dominated across
sites or depths for OC or N. At both sites, the range was smallest in
surface soil, and on a scale suggesting that sowing rows (stubble) may
dominate the pattern of spatial dependence, whereas the longer ranges
appeared to be associated with horizon boundaries. The second purpose of
the study was to obtain an estimate of the population mean with 1%, 5%
and 10% levels of precision using the calculated variance. The number of
soil cores required for a 1% precision in estimation of the mean soil OC
or N was impractical at most depths (&amp;gt;500 per ha). About 30 soil cores
per composite sample to 1.50 m depth, each core being at least 10 m
apart, would ensure at least an average of 10% precision in the
estimation of the mean soil OC at these two sites, which represent the
agriculture of the region.&lt;/p&gt;

&lt;h3 id=&quot;agrhys-an-observatory-of-response-times-in-agro-hydro-systems&quot;&gt;AgrHyS: An Observatory of Response Times in Agro-Hydro Systems&lt;/h3&gt;

&lt;p&gt;Authors:
Fovet, O; Ruiz, L; Gruau, G; Akkal, N; Aquilina, L; Busnot, S; Dupas, R;
Durand, P; Faucheux, M; Fauvel, Y; Flechard, C; Gilliet, N; Grimaldi, C;
Hamon, Y; Jaffrezic, A; Jeanneau, L; Labasque, T; Le Henaff, G; Merot,
P; Molenat, J; Petitjean, P; Pierson-Wickmann, AC; Squividant, H; Viaud,
V; Walter, C; Gascuel-Odoux, C&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;VADOSE ZONE JOURNAL&lt;/em&gt;, 17 (1):80066-80066; NOV 29 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The AgrHyS is a long-term agro-hydrological observatory dedicated to studying the processes controlling hydro-chemical fluxes in headwater catchments in response to the effects of agricultural. AgrHyS is composed of instrumented catchments located in western France in a temperate oceanic climate that are characterized by shallow groundwater (&amp;lt;8 m deep) over crystalline bedrocks (granite or schist) and is dominated by intensive agriculture with farming. AgrHyS provides long-term observations starting in 1990 and supports highly interdisciplinary studies that provide novel contributions to environmental sciences, including hydrology, geochemistry, agricultural and soil sciences, hydrogeology, bioclimatology, and ecology. Here we describe the observatory sites, observation strategy, data management policy, and data access. The objective is to show how AgrHyS has contributed to research in hydrological and environmental sciences through a review of major insights of the research.
  This analysis highlights the role of AgrHyS in linking, validating, and enriching successive and complementary projects conducted over the last 25 yr. The second objective is to invite new collaborations with a large scientific community for future research.&lt;/p&gt;

&lt;h3 id=&quot;ozcar-the-french-network-of-critical-zone-observatories&quot;&gt;OZCAR: The French Network of Critical Zone Observatories&lt;/h3&gt;

&lt;p&gt;Authors:
Gaillardet, J; Braud, I; Hankard, F; Anquetin, S; Bour, O; Dorfliger, N;
de Dreuzy, JR; Galle, S; Galy, C; Gogo, S; Gourcy, L; Habets, F;
Laggoun, F; Longuevergne, L; Le Borgne, T; Naaim-Bouvet, F; Nord, G;
Simonneaux, V; Six, D; Tallec, T; Valentin, C; Abril, G; Allemand, P;
Arenes, A; Arfib, B; Arnaud, L; Arnaud, N; Arnaud, P; Audry, S; Comte,
VB; Batiot, C; Battais, A; Bellot, H; Bernard, E; Bertrand, C; Bessiere,
H; Binet, S; Bodin, J; Bodin, X; Boithias, L; Bouchez, J; Boudevillain,
B; Moussa, IB; Branger, F; Braun, JJ; Brunet, P; Caceres, B; Calmels, D;
Cappelaere, B; Celle-Jeanton, H; Chabaux, F; Chalikakis, K; Champollion,
C; Copard, Y; Cotel, C; Davy, P; Deline, P; Delrieu, G; Demarty, J;
Dessert, C; Dumont, M; Emblanch, C; Ezzahar, J; Esteves, M; Favier, V;
Faucheux, M; Filizola, N; Flammarion, P; Floury, P; Fovet, O; Fournier,
M; Francez, AJ; Gandois, L; Gascuel, C; Gayer, E; Genthon, C; Gerard,
MF; Gilbert, D; Gouttevin, I; Grippa, M; Gruau, G; Jardani, A; Jeanneau,
L; Join, JL; Jourde, H; Karbou, F; Labat, D; Lagadeuc, Y; Lajeunesse, E;
Lastennet, R; Lavado, W; Lawin, E; Lebel, T; Le Bouteiller, C; Legout,
C; Lejeune, Y; Le Meur, E; Le Moigne, N; Lions, J; Lucas, A; Malet, JP;
Marais-Sicre, C; Marechal, JC; Marlin, C; Martin, P; Martins, J;
Martinez, JM; Massei, N; Mauclerc, A; Mazzilli, N; Molenat, J;
Moreira-Turcq, P; Mougin, E; Morin, S; Ngoupayou, JN; Panthou, G;
Peugeot, C; Picard, G; Pierret, MC; Porel, G; Probst, A; Probst, JL;
Rabatel, A; Raclot, D; Ravanel, L; Rejiba, F; Rene, P; Ribolzi, O;
Riotte, J; Riviere, A; Robain, H; Ruiz, L; Sanchez-Perez, JM; Santini,
W; Sauvage, S; Schoeneich, P; Seidel, JL; Sekhar, M; Sengtaheuanghoung,
O; Silvera, N; Steinmann, M; Soruco, A; Tallec, G; Thibert, E; Lao, DV;
Vincent, C; Viville, D; Wagnon, P; Zitouna, R&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;VADOSE ZONE JOURNAL&lt;/em&gt;, 17 (1):80067-80067; NOV 29 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The French critical zone initiative, called OZCAR (Observatoires de la Zone Critique-Application et Recherche or Critical Zone Observatories-Application and Research) is a National Research Infrastructure (RI). OZCAR-RI is a network of instrumented sites, bringing together 21 pre-existing research observatories monitoring different compartments of the zone situated between “the rock and the sky,” the Earth’s skin or critical zone (CZ), over the long term. These observatories are regionally based and have specific initial scientific questions, monitoring strategies, databases, and modeling activities. The diversity of OZCAR-RI observatories and sites is well representative of the heterogeneity of the CZ and of the scientific communities studying it. Despite this diversity, all OZCAR-RI sites share a main overarching mandate, which is to monitor, understand, and predict (“earthcast”) the fluxes of water and matter of the Earth’s near surface and how they will change in response
  to the “new climatic regime.” The vision for OZCAR strategic development aims at designing an open infrastructure, building a national CZ community able to share a systemic representation of the CZ, and educating a new generation of scientists more apt to tackle the wicked problem of the Anthropocene. OZCAR articulates around: (i) a set of common scientific questions and cross-cutting scientific activities using the wealth of OZCAR-RI observatories, (ii) an ambitious instrumental development program, and (iii) a better interaction between data and models to integrate the different time and spatial scales. Internationally, OZCAR-RI aims at strengthening the CZ community by providing a model of organization for pre-existing observatories and by offering CZ instrumented sites. OZCAR is one of two French mirrors of the European Strategy Forum on Research Infrastructure (eLTER-ESFRI) project.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/12/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on December 18, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/11/journalDigest" />
  <id>/2018/11/journalDigest</id>
  <updated>2018-11-25T00:00:00-00:00</updated>
  <published>2018-11-25T00:00:00+11:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-22&quot;&gt;Journal Paper Digests 2018 #22&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Multi-temporal RADARSAT-2 polarimetric SAR for maize mapping supported by segmentations from high-resolution optical image&lt;/li&gt;
  &lt;li&gt;Full year crop monitoring and separability assessment with fully-polarimetric L-band UAVSAR: A case study in the Sacramento Valley, California&lt;/li&gt;
  &lt;li&gt;Soil sampling with drones and augmented reality in precision agriculture&lt;/li&gt;
  &lt;li&gt;Informing transport infrastructure investments using TraNSIT: A case study for Australian agriculture and forestry&lt;/li&gt;
  &lt;li&gt;START: A data preparation tool for crop simulation models using web-based soil databases&lt;/li&gt;
  &lt;li&gt;An open-source spatial analysis system for embedded systems&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;multi-temporal-radarsat-2-polarimetric-sar-for-maize-mapping-supported-by-segmentations-from-high-resolution-optical-image&quot;&gt;Multi-temporal RADARSAT-2 polarimetric SAR for maize mapping supported by segmentations from high-resolution optical image&lt;/h3&gt;

&lt;p&gt;Authors:
Shuai, GY; Zhang, JS; Basso, B; Pan, YZ; Zhu, XF; Zhu, S; Liu, HL&lt;/p&gt;

&lt;p&gt;Source:
INTERNATIONAL JOURNAL OF APPLIED EARTH OBSERVATION AND GEOINFORMATION, 74 1-15; FEB 2019&lt;/p&gt;

&lt;p&gt;Abstract:
Due to its ability to penetrate the cloud, Synthetic Aperture Radar
(SAR) has been a great resource for crop mapping. Previous research has
verified the applicability of SAR imagery in object-oriented crop
classification, however, speckle noise limits the generation of optimal
segmentation. This paper proposed an innovative SARbased maize mapping
method supported by optical image, Gaofen-1 PMS, based segmentation,
named as parcel based SAR classification assisted by optical
imagery-based segmentation (os-PSC). Polarimetric decomposition was
applied to extract polarimetric parameters from multi-temporal
RADARSAT-2 data. One Gaofen-1 image was then used for parcel extraction,
which was the basic unit for SAR image analysis. The final step was a
multistep classification for final maize mapping including: the
potential maize mask extraction, pure/mixed maize parcel division and an
integrated maize map production. Results showed that the overall
accuracy of the os-PSC method was 89.1%, higher than those of
pixel-level classification and SAR-based segmentation methods. The
comparison between optical- and SAR-based segmentation demonstrated that
optical-based segmentation would be better at representing maize field
boundaries than the SAR-based segmentation. Moreover, the parcel- and
pixel-level integrated classification will be suitable for many
agricultural systems with small landownership where inter-cropping is
common. Through integrating advantages of the SAR and optical data,
os-PSC shows promising potentials for crop mapping.&lt;/p&gt;

&lt;h3 id=&quot;full-year-crop-monitoring-and-separability-assessment-with-fully-polarimetric-l-band-uavsar-a-case-study-in-the-sacramento-valley-california&quot;&gt;Full year crop monitoring and separability assessment with fully-polarimetric L-band UAVSAR: A case study in the Sacramento Valley, California&lt;/h3&gt;

&lt;p&gt;Authors:
Li, HP; Zhang, C; Zhang, SQ; Atkinson, PM&lt;/p&gt;

&lt;p&gt;Source:
INTERNATIONAL JOURNAL OF APPLIED EARTH OBSERVATION AND GEOINFORMATION, 74 45-56; FEB 2019&lt;/p&gt;

&lt;p&gt;Abstract:
Spatial and temporal information on plant and soil conditions is needed
urgently for monitoring of crop productivity. Remote sensing has been
considered as an effective means for crop growth monitoring due to its
timely updating and complete coverage. In this paper, we explored the
potential of L-band fully-polarimetric Uninhabited Aerial Vehicle
Synthetic Aperture Radar (UAVSAR) data for crop monitoring and
classification. The study site was located in the Sacramento Valley, in
California where the cropping system is relatively diverse. Full season
polarimetric signatures, as well as scattering mechanisms, for several
crops, including almond, walnut, alfalfa, winter wheat, corn, sunflower,
and tomato, were analyzed with linear polarizations (HH, HV, and VV) and
polarimetric decomposition (Cloude-Pottier and Freeman-Durden)
parameters, respectively. The separability amongst crop types was
assessed across a full calendar year based on both linear polarizations
and decomposition parameters. The unique structure-related polarimetric
signature of each crop was provided by multitemporal UAVSAR data with a
fine temporal resolution. Permanent tree crops (almond and walnut) and
alfalfa demonstrated stable radar backscattering values across the
growing season, whereas winter wheat and summer crops (corn, sunflower,
and tomato) presented drastically different patterns, with rapid
increase from the emergence stage to the peak biomass stage, followed by
a significant decrease during the senescence stage. In general, the
polarimetric signature was heterogeneous during June and October, while
homogeneous during March-to-May and July-to-August. The scattering
mechanisms depend heavily upon crop type and phenological stage. The
primary scattering mechanism for tree crops was volume scattering (&amp;gt;
40%), while surface scattering (&amp;gt; 40%) dominated for alfalfa and winter
wheat, although double-bounce scattering (&amp;gt; 30%) was notable for alfalfa
during March-to-September. Surface scattering was also dominant (&amp;gt; 40%)
for summer crops across the growing season except for sunflower and
tomato during June and corn during July-to-October when volume
scattering (&amp;gt; 40%) was the primary scattering mechanism. Crops were
better discriminated with decomposition parameters than with linear
polarizations, and the greatest separability occurred during the peak
biomass stage (July-August). All crop types were completely separable
from the others when simultaneously using UAVSAR data spanning the whole
growing season. The results demonstrate the feasibility of L-band SAR
for crop monitoring and classification, without the need for optical
data, and should serve as a guideline for future research.&lt;/p&gt;

&lt;h3 id=&quot;soil-sampling-with-drones-and-augmented-reality-in-precision-agriculture&quot;&gt;Soil sampling with drones and augmented reality in precision agriculture&lt;/h3&gt;

&lt;p&gt;Authors:
Huuskonen, J; Oksanen, T&lt;/p&gt;

&lt;p&gt;Source:
COMPUTERS AND ELECTRONICS IN AGRICULTURE, 154 25-35; NOV 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soil sampling is an important tool to gather information for making
proper decisions regarding the fertilization of fields. Depending on the
national regulations, the minimum frequency may be once per five years
and spatially every ten hectares. For precision farming purposes, this
is not sufficient. In precision farming, the challenge is to collect the
samples from such regions that are internally consistent while limiting
the number of samples required. For this purpose, management zones are
used to divide the field into smaller regions. This article presents a
novel approach to automatically determine the locations for soil samples
based on a soil map created from drone imaging after ploughing, and a
wearable augmented reality technology to guide the user to the generated
sample points. Finally, the article presents the results of a
demonstration carried out in southern Finland.&lt;/p&gt;

&lt;h3 id=&quot;informing-transport-infrastructure-investments-using-transit-a-case-study-for-australian-agriculture-and-forestry&quot;&gt;Informing transport infrastructure investments using TraNSIT: A case study for Australian agriculture and forestry&lt;/h3&gt;

&lt;p&gt;Authors:
Higgins, A; McFallan, S; Marinoni, O; McKeown, A; Bruce, C; Chilcott, C;
Pinkard, L&lt;/p&gt;

&lt;p&gt;Source:
COMPUTERS AND ELECTRONICS IN AGRICULTURE, 154 187-203; NOV 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Transport infrastructure is essential to moving over 85 million tonnes
of agricultural products and 30 million cubic metres of timber from
farms and production areas to domestic and international markets each
year in Australia. Agriculture supply chains in Australia are
characterised by long distances with transport costs accounting for up
to 40 percent of the market price. Targeted infrastructure investment
and/or regulatory changes can substantially reduce transport-related
logistics costs. To provide a comprehensive view of transport logistics
costs and benefits due to infrastructure investments and regulatory
changes in agriculture and forestry supply chains, CSIRO developed a
computer-based tool - the Transport Network Strategic Investment Tool
(TraNSIT). TraNSIT optimises transport routes for upto hundreds of
thousands of enterprises and millions of vehicle trips between farms and
their markets, providing information on routing to maximise cost
efficiencies. Through an Australian Government initiative, TraNSIT was
applied to over 30 commodities representing 98% of Australian
agricultural and plantation forestry volume transported by road and
rail. TraNSIT is now a comprehensive logistics tool that has been
applied to the largest agricultural supply chain dataset ever assembled
in Australia. This paper provides an overview of TraNSIT, its adaptation
to agriculture and forestry logistics as part of the project, and its
application to several case studies in Australia including new road
links, rail versus road and flooding.&lt;/p&gt;

&lt;h3 id=&quot;start-a-data-preparation-tool-for-crop-simulation-models-using-web-based-soil-databases&quot;&gt;START: A data preparation tool for crop simulation models using web-based soil databases&lt;/h3&gt;

&lt;p&gt;Authors:
Kim, KS; Yoo, BH; Shelia, V; Porter, CH; Hoogenboom, G&lt;/p&gt;

&lt;p&gt;Source:
COMPUTERS AND ELECTRONICS IN AGRICULTURE, 154 256-264; NOV 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soil profile data that characterize the physical and chemical properties
of a soil are among the required set of inputs for ecological, crop and
other dynamic simulation models. A web-based soil information system
often provides the site-specific soil data of which formats are not
readily compatible to crop models. The Soil daTA Retrieval Tool (START)
was developed to automate a series of procedures for preparation of soil
input data that includes the retrieval of soil profile data from the
information system, reorganization of data, estimation of soil
parameters, and creation of input files foi simulation models. In a case
study, the START was implemented to support the SoilGrids database
operated by the International Soil Reference and Information Center. It
took about 0.33% of time for the START to create soil input files
compared with manual preparation. These results suggest that the START
could provide an efficient approach for preparation of soil input files
especially for sites where little soil information is available.&lt;/p&gt;

&lt;h3 id=&quot;an-open-source-spatial-analysis-system-for-embedded-systems&quot;&gt;An open-source spatial analysis system for embedded systems&lt;/h3&gt;

&lt;p&gt;Authors:
Coelho, ALD; de Queiroz, DM; Valente, DSM; Pinto, FDD&lt;/p&gt;

&lt;p&gt;Source:
COMPUTERS AND ELECTRONICS IN AGRICULTURE, 154 289-295; NOV 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soil and plant monitoring systems are important tools for applying
precision agriculture techniques. To acquire soil-plant system data, the
user establishes a sampling strategy, goes to the field, collects data
and finally goes to the office for data analysis. Sometimes, when the
analysis is performed, the user realizes that the sampling strategy was
not adequate and needs to return to the field in order to collect more
data. To avoid problems with the sampling strategy, the solution is to
have a system that performs the data analysis immediately after its
collection, while the user is still in the field. To do that, we can use
single board computers; these types of platforms have ports to
communicate to sensors and good processing capabilities. Therefore, the
objective of this work was to develop an embedded system to perform
spatial variability data analysis in the field, right after data
acquisition. The software was developed using Python 3.6; the PyQt
Integrated Development Environment (Riverbank Computer Limited,
Dorchester, United Kingdom) was used to design a graphical user
interface. The BeagleBone Black board, running Debian version 8.6, was
used to implement the software. The analysis was divided into three
steps: in the first one, an outlier and inlier analysis was performed to
remove unwanted data; in the second one, the semivariogram was
generated, and the variable and standard deviation map was produced by
performing ordinary kriging; and in the last one, a cluster analysis was
performed to create management classes using a fuzzy k-means algorithm.
The graphical user interface showed the variable map and the variable
classes map. To test the developed software, soybean yield data that was
collected in a 31.6-ha field were used. The developed software was shown
to be efficient at performing the spatial variability of soybean yields.
The comparison of the generated maps shows the importance of filtering
the data before performing the analysis. The developed software is
available at the GitHub website.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/11/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on November 25, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/11/journalDigest" />
  <id>/2018/11/journalDigest</id>
  <updated>2018-11-18T00:00:00-00:00</updated>
  <published>2018-11-18T00:00:00+11:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-21&quot;&gt;Journal Paper Digests 2018 #21&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;OMERE: A Long-Term Observatory of Soil and Water Resources, in Interaction with Agricultural and Land Management in Mediterranean Hilly Catchments&lt;/li&gt;
  &lt;li&gt;Land-use change affects stocks and stoichiometric ratios of soil carbon, nitrogen, and phosphorus in a typical agro-pastoral region of northwest China&lt;/li&gt;
  &lt;li&gt;The Efficiency of Data Assimilation&lt;/li&gt;
  &lt;li&gt;Cosmic-ray Neutron Rover Surveys of Field Soil Moisture and the Influence of Roads&lt;/li&gt;
  &lt;li&gt;A Method for Objectively Integrating Soil Moisture Satellite Observations and Model Simulations Toward a Blended Drought Index&lt;/li&gt;
  &lt;li&gt;Alternative Model for Predicting Soil Hydraulic Conductivity Over the Complete Moisture Range&lt;/li&gt;
  &lt;li&gt;An automatic variogram modeling method with high reliability fitness and estimates&lt;/li&gt;
  &lt;li&gt;MARMIT: A multilayer radiative transfer model of soil reflectance to estimate surface soil moisture content in the solar domain (400-2500 nm)&lt;/li&gt;
  &lt;li&gt;A simple method to improve the quality of NDVI time-series data by integrating spatiotemporal information with the Savitzky-Golay filter&lt;/li&gt;
  &lt;li&gt;The Chlorophyll Fluorescence Imaging Spectrometer (CFIS), mapping far red fluorescence from aircraft&lt;/li&gt;
  &lt;li&gt;Quantifying the uncertainty of soil colour measurements with Munsell charts using a modified attribute agreement analysis&lt;/li&gt;
  &lt;li&gt;Multi-decade, multi-sensor time-series modelling-based on geostatistical concepts-to predict broad groups of crops&lt;/li&gt;
  &lt;li&gt;Pedotransfer functions for predicting available water capacity in French soils, their applicability domain and associated uncertainty.&lt;/li&gt;
  &lt;li&gt;Soil organic carbon storage as a key function of soils - A review of drivers and indicators at various scales&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;omere-a-long-term-observatory-of-soil-and-water-resources-in-interaction-with-agricultural-and-land-management-in-mediterranean-hilly-catchments&quot;&gt;OMERE: A Long-Term Observatory of Soil and Water Resources, in Interaction with Agricultural and Land Management in Mediterranean Hilly Catchments&lt;/h3&gt;

&lt;p&gt;Authors:
Molenat, J; Raclot, D; Zitouna, R; Andrieux, P; Coulouma, G; Feurer, D;
Grunberger, O; Lamachere, JM; Bailly, JS; Belotti, JL; Ben Azzez, K; Ben
Mechlia, N; Louati, MB; Biarnes, A; Blanca, Y; Carriere, D; Chaabane, H;
Dages, C; Debabria, A; Dubreuil, A; Fabre, JC; Fages, D; Floure, C;
Garnier, F; Geniez, C; Gomez, C; Hamdi, R; Huttel, O; Jacob, F;
Jenhaoui, Z; Lagacherie, P; Le Bissonnais, Y; Louati, R; Louchart, X;
Mekki, I; Moussa, R; Negro, S; Pepin, Y; Prevot, L; Samouelian, A;
Seidel, JL; Trotoux, G; Troiano, S; Vinatier, F; Zante, P; Zrelli, J;
Albergel, J; Voltz, M&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;VADOSE ZONE JOURNAL&lt;/em&gt;, 17 (1):80086-80086; NOV 1 2018&lt;/p&gt;

&lt;p&gt;Abstract:
To account for the diversity of agricultural and ecosystem situations in
hilly Mediterranean areas, the agro-hydrological observatory OMERE
(Observatoire Mediterraneen de l’Environnement Rural et de l’Eau)
monitors two farmed catchments-one in northern Tunisia and the other in
southern France. Mediterranean regions are typified by a highly variable
climate, with an alternation of long droughts and intense storms, and by
a strong heterogeneity of soil properties, due to a combination of
climate, relief, parent materials, sparse vegetation, intense land use,
man-made infrastructure (ditches, terraces, etc.), and agricultural
activities. In this context, OMERE aims to document the impacts of
agricultural and land management on mass fluxes in Mediterranean farmed
headwater catchments. The observation strategy is motivated by
monitoring water, sediment, and contaminant fluxes and hydrologic and
climatic variables at different spatial scales from cultivated plots and
landscape elements to the catchment scale. These measurements have been
performed at a fine time resolution over a long-term scale and by
surveying land use, agricultural practices, and soil surface
characteristics. The long-term observation strategy intends to support
integrative multidisciplinary research for elucidating the conditions
that improve soil and water management and delivery of ecosystem
services in a Mediterranean rainfed cultivated context. The observatory
has led to scientific insights regarding three scientific objectives:
(i) to better understand the fluxes of water, erosion, and contaminants,
especially pesticides, and of their natural and anthropogenic drivers on
short- and long-term scales; (ii) to analyze the aggregate effects of
farming and land management on mass fluxes across scales, from plot to
catchment or landscape scales; and (iii) to derive new scenarios for
sustainable agricultural management and improved delivery of ecosystem
services.&lt;/p&gt;

&lt;h3 id=&quot;land-use-change-affects-stocks-and-stoichiometric-ratios-of-soil-carbon-nitrogen-and-phosphorus-in-a-typical-agro-pastoral-region-of-northwest-china&quot;&gt;Land-use change affects stocks and stoichiometric ratios of soil carbon, nitrogen, and phosphorus in a typical agro-pastoral region of northwest China&lt;/h3&gt;

&lt;p&gt;Authors:
Liu, X; Li, LH; Wang, Q; Mu, SY&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;JOURNAL OF SOILS AND SEDIMENTS&lt;/em&gt;, 18 (11):3167-3176; NOV 2018&lt;/p&gt;

&lt;p&gt;Abstract:
PurposeThe impacts of land-use change on dynamics of soil organic carbon
(SOC), total nitrogen (TN), and total phosphorus (TP) in the subsoil
(&amp;gt;30cm) are poorly understood. This study aims to investigate whether
the effects of land-use change on stocks and stoichiometric ratios
(R-CN, R-CP, and R-NP) of SOC, TN, and TP can be different between
topsoil (0-30cm) and subsoil (30-60cm) in the Ili River Valley,
northwest China.Materials and methodsSoil samples (0-10, 10-20, 20-30,
30-40, 40-50, and 50-60cm) were collected from a pasture (PT), a
27-year-old cropland (CL) converted from PT, and a 13-year-old poplar
(Populus tomentosa Carr.) plantation (PP) converted from CL. SOC, TN,
and TP concentrations and soil bulk density were determined to calculate
stocks and stoichiometric ratios (molar ratios) of SOC, TN, and
TP.Results and discussionConversion from PT to CL led to substantial
losses in SOC, TN, and TP pools in both topsoil and subsoil, and the
reduction rates in subsoil (13.8-24.7%) were higher than those in
topsoil (8.5-17.3%), indicating that C, N, and P pools in subsoil could
also be depleted by cultivation. Similar to topsoil, significant
increases in SOC, TN, and TP stocks were detected after afforestation on
CL in subsoil, although the increase rates (31.2-56.2%) were lower than
those in topsoil (47.8-69.1%). Soil pH and electrical conductivity (EC),
which generally increased after conversion from PT to CL while decreased
after CL afforestation, showed significant negative correlations with
SOC, TN, and TP, suggesting that cultivation might lead to soil
degradation, whereas afforestation contributed to soil restoration in
this area. Significant changes in C:N:Pratios in topsoil were only
detected for R-NP after conversion from CL to PP. By contrast, land-use
change significantly altered both R-CN and R-NP in the subsoil,
demonstrating that the impacts of land-use change on R-CN and R-NP were
different between topsoil and subsoil. The significant relationship
between soil EC and R-NP suggested that R-NP might be a useful indicator
of soil salinization.ConclusionsStocks of SOC, TN, and TP as well as
R-CN and R-NP in subsoil showed different responses to land-use change
compared to those in topsoil in this typical agro-pastoral region.
Therefore, it is suggested that the effects of land-use change on
dynamics of SOC, TN, and TP in subsoil should also be evaluated to
better understand the role of land-use change in global biogeochemical
cycles.&lt;/p&gt;

&lt;h3 id=&quot;the-efficiency-of-data-assimilation&quot;&gt;The Efficiency of Data Assimilation&lt;/h3&gt;

&lt;p&gt;Authors:
Nearing, G; Yatheendradas, S; Crow, W; Zhan, XW; Liu, JC; Chen, F&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;WATER RESOURCES RESEARCH&lt;/em&gt;, 54 (9):6374-6392; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Data assimilation is the application of Bayes’ theorem to condition the
states of a dynamical systems model on observations. Any real-world
application of Bayes’ theorem is approximate, and therefore, we cannot
expect that data assimilation will preserve all of the information
available from models and observations. We outline a framework for
measuring information in models, observations, and evaluation data in a
way that allows us to quantify information loss during (necessarily
imperfect) data assimilation. This facilitates quantitative analysis of
trade-offs between improving (usually expensive) remote sensing
observing systems versus improving data assimilation design and
implementation. We demonstrate this methodology on a previously
published application of the ensemble Kalman filter used to assimilate
remote sensing soil moisture retrievals from Advanced Microwave
Scattering Radiometer for Earth (AMSR-E) into the Noah land surface
model.&lt;/p&gt;

&lt;h3 id=&quot;cosmic-ray-neutron-rover-surveys-of-field-soil-moisture-and-the-influence-of-roads&quot;&gt;Cosmic-ray Neutron Rover Surveys of Field Soil Moisture and the Influence of Roads&lt;/h3&gt;

&lt;p&gt;Authors:
Schron, M; Rosolem, R; Kohli, M; Piussi, L; Schroter, I; Iwema, J;
Kogler, S; Oswald, SE; Wollschlager, U; Samaniego, L; Dietrich, P;
Zacharias, S&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;WATER RESOURCES RESEARCH&lt;/em&gt;, 54 (9):6441-6459; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Measurements of root-zone soil moisture across spatial scales of tens to
thousands of meters have been a challenge for many decades. The mobile
application of Cosmic Ray Neutron Sensing (CRNS) is a promising approach
to measure field soil moisture noninvasively by surveying large regions
with a ground-based vehicle. Recently, concerns have been raised about a
potentially biasing influence of local structures and roads. We employed
neutron transport simulations and dedicated experiments to quantify the
influence of different road types on the CRNS measurement. We found that
roads introduce a substantial bias in the CRNS estimation of field soil
moisture compared to off-road scenarios. However, this effect becomes
insignificant at distances beyond a few meters from the road. Neutron
measurements on the road could overestimate the field value by up to 40
% depending on road material, width, and the surrounding field water
content. The bias could be largely removed with an analytical correction
function that accounts for these parameters. Additionally, an empirical
approach is proposed that can be used without prior knowledge of field
soil moisture. Tests at different study sites demonstrated good
agreement between road-effect corrected measurements and field soil
moisture observations. However, if knowledge about the road
characteristics is missing, measurements on the road could substantially
reduce the accuracy of this method. Our results constitute a practical
advancement of the mobile CRNS methodology, which is important for
providing unbiased estimates of field-scale soil moisture to support
applications in hydrology, remote sensing, and agriculture.Plain
Language Summary Measurements of root-zone soil moisture across spatial
scales of tens to thousands of meters have been a challenge for many
decades. The mobile application of Cosmic Ray Neutron Sensing (CRNS) is
a promising approach to measure field soil moisture noninvasively by
surveying large regions with a ground-based vehicle. Recently, concerns
have been raised about a potentially biasing influence of roads. We
employed physics simulations and dedicated experiments to quantify the
influence of different road types on the CRNS measurement. We found that
the presence of roads biased the CRNS estimation of field soil moisture
compared to nonroad scenarios. Neutron measurements could overestimate
the field value by up to 40 % depending on road material, width,
surrounding field water content, and distance from the road. We proposed
a correction function that successfully removed this bias and works even
without prior knowledge of field soil moisture. Tests at different study
sites demonstrated good agreement between corrected measurements and
other field soil moisture observations. Our results constitute a
practical advancement of the mobile CRNS methodology, which is important
for providing unbiased estimates of field-scale soil moisture to support
applications in hydrology, remote sensing, and agriculture.&lt;/p&gt;

&lt;h3 id=&quot;a-method-for-objectively-integrating-soil-moisture-satellite-observations-and-model-simulations-toward-a-blended-drought-index&quot;&gt;A Method for Objectively Integrating Soil Moisture Satellite Observations and Model Simulations Toward a Blended Drought Index&lt;/h3&gt;

&lt;p&gt;Authors:
Yin, JF; Zhan, XW; Hain, CR; Liu, JC; Anderson, MC&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;WATER RESOURCES RESEARCH&lt;/em&gt;, 54 (9):6772-6791; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
With satellite soil moisture (SM) retrievals becoming widely and
continuously available, we aim to develop a method to objectively
integrate the drought indices into one that is more accurate and
consistently reliable. The data sets used in this paper include the Noah
land surface model-based SM estimations,
Atmosphere-Land-Exchange-Inverse model-based Evaporative Stress Index,
and the satellite SM products from the Advanced Scatterometer, WindSat,
Soil Moisture and Ocean Salinity, and Soil Moisture Operational Product
System. Using the Triple Collocation Error Model (TCEM) to quantify the
uncertainties of these data, we developed an optically blended drought
index (BDI_b) that objectively integrates drought estimations with the
lowest TCEM-derived root-mean-square-errors in this paper. With respect
to the reported drought records and the drought monitoring benchmarks
including the U.S. Drought Monitor, the Palmer Drought Severity Index
and the standardized precipitation evapotranspiration index products,
the BDI_b was compared with the sample average blending drought index
(BDI_s) and the RMSE-weighted average blending drought indices (BDI_w).
Relative to the BDI_s and the BDI_w, the BDI_b performs more
consistently with the drought monitoring benchmarks. With respect to the
official drought records, the developed BDI_b shows the best performance
on tracking drought development in terms of time evolution and spatial
patterns of 2010-Russia, 2011-USA, 2013-New Zealand droughts and other
reported agricultural drought occurrences over the 2009-2014 period.
These results suggest that model simulations and remotely sensed
observations of SM can be objectively translated into useful information
for drought monitoring and early warning, in turn can reduce drought
risk and impacts.&lt;/p&gt;

&lt;h3 id=&quot;alternative-model-for-predicting-soil-hydraulic-conductivity-over-the-complete-moisture-range&quot;&gt;Alternative Model for Predicting Soil Hydraulic Conductivity Over the Complete Moisture Range&lt;/h3&gt;

&lt;p&gt;Authors:
Wang, YQ; Jin, MG; Deng, ZJ&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;WATER RESOURCES RESEARCH&lt;/em&gt;, 54 (9):6860-6876; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Considering film flow in the development of a soil hydraulic model has
become a key method for improving model performance under dry
conditions. With the considerable improvement in model performance, the
trade-off is often to increase the model complexity, thus limiting a
model’s application. In this paper, an alternative model is presented to
predict soil hydraulic conductivities over the entire moisture range. In
contrast to existing models that treat conductivity as a summation of
the capillary and film components, the proposed model applies a single
equation to capture the variation of the two conductivity components.
The new model, therefore, presents a simple form, with no extra
parameters added to the basic capillary models. Model testing with 24
soil data sets revealed that it was successful in predicting
conductivities over the complete moisture range. A comparison with
existing models demonstrated that the proposed model was generally in
higher agreement with observations, achieving a much lower mean value of
the root mean square errors for the predicted conductivities.&lt;/p&gt;

&lt;h3 id=&quot;an-automatic-variogram-modeling-method-with-high-reliability-fitness-and-estimates&quot;&gt;An automatic variogram modeling method with high reliability fitness and estimates&lt;/h3&gt;

&lt;p&gt;Authors:
Li, ZL; Zhang, XL; Clarke, KC; Liu, G; Zhu, R&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS &amp;amp; GEOSCIENCES&lt;/em&gt;, 120 48-59; NOV 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Modeling of the variogram is a critical step for most geostatistical
methods. However, most of the prevalent variogram-based solutions are
designed without sufficient consideration of the effect of the
interpolation process on their application. This paper proposes an
automated variogram modeling framework, which simultaneously considers
the fit of the experimental variogram and interpolation accuracy in the
modeling variogram interpolation result. The variogram modeling
framework can be treated as a nonlinear optimization problem with two
sub-goals. The first is to optimize the goodness of fit between the
experimental and theoretical variogram values under the conditions of
their designated parameters. Second, we seek to optimize the difference
between measured values and the associated kriging estimates with the
candidate variogram model. A typical case study was chosen using a
public dataset to test the proposed method, which was implemented using
a genetic algorithm, and its performance was compared with the ones of
other commonly applied variogram modeling approaches. As expected, the
traditional variogram modeling method that only considers fitting
standard experimental variograms showed severe sensitivity to errors in
data and parameters; classical cross-validation modeling results tended
to overlook the experimental variograms. By contrast, the proposed
method succeeded in producing variogram models with robust, high-quality
kriging estimates and favorable fitness of experimental variograms in a
more powerful and flexible way.&lt;/p&gt;

&lt;h3 id=&quot;marmit-a-multilayer-radiative-transfer-model-of-soil-reflectance-to-estimate-surface-soil-moisture-content-in-the-solar-domain-400-2500-nm&quot;&gt;MARMIT: A multilayer radiative transfer model of soil reflectance to estimate surface soil moisture content in the solar domain (400-2500 nm)&lt;/h3&gt;

&lt;p&gt;Authors:
Bablet, A; Vu, PVH; Jacquemoud, S; Viallefont-Robinet, F; Fabre, S;
Briottet, X; Sadeghi, M; Whiting, ML; Baret, F; Tian, J&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 217 1-17; NOV 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Surface soil moisture content (SMC) is known to impact soil reflectance
at all wavelengths of the solar spectrum. As a consequence, many
semi-empirical methods aim at inferring SMC from soil reflectance, but
very few rely on physically-based models. This article presents a
multilayer radiative transfer model of soil reflectance called MARMIT
(multilayer radiative transfer model of soil reflectance) as a function
of SMC given on a mass basis and a method called MARMITforSMC to
estimate it from soil reflectance spectra. This model depicts a wet soil
as a dry soil covered with a thin film of water. It is used to assess
SMC over seven independent laboratory datasets gathered from the
literature. A learning phase is required to link the thickness of the
water film with the SMC. For that purpose, a sigmoid function, the
parameters of which are related to soil physical and chemical properties
such as porosity, grain size and mineralogy composition, is fitted. SMC
can be inferred with good accuracy (RMSE approximate to 3%) if the
learning step is applied soil by soil. The link between SMC and water
thickness actually depends on soil texture and chemical composition. If
the soils are divided into classes and if the learning phase is applied
to a class, the RMSE slightly increases up to 5%. Finally, MARMITforSMC
provides lower RMSE than any other existing semi-empirical or
physically-based method.&lt;/p&gt;

&lt;h3 id=&quot;a-simple-method-to-improve-the-quality-of-ndvi-time-series-data-by-integrating-spatiotemporal-information-with-the-savitzky-golay-filter&quot;&gt;A simple method to improve the quality of NDVI time-series data by integrating spatiotemporal information with the Savitzky-Golay filter&lt;/h3&gt;

&lt;p&gt;Authors:
Cao, RY; Chen, Y; Shen, MG; Chen, J; Zhou, J; Wang, C; Yang, W&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 217 244-257; NOV 2018&lt;/p&gt;

&lt;p&gt;Abstract:
High-quality Normalized Difference Vegetation Index (NDVI) time-series
data are important for many regional and global ecological and
environmental applications. Unfortunately, residual noise in current
NDVI time-series products greatly hinders their further applications.
Several noise-reduction methods have been proposed during the past two
decades, but two important issues remain to be resolved. First, the
methods usually perform poorly for cases of continuous missing data in
the NDVI time series. Second, they generally assume negatively biased
noise in the NDVI time series and thus erroneously raise some local low
NDVI values in certain cases (e.g., the harvest period for multi-season
crops).We therefore developed a new noise-reduction algorithm called the
Spatial-Temporal Savitzky-Golay (STSG) method. The new method assumes
discontinuous clouds in space and employs neighboring pixels to assist
in the noise reduction of the target pixel in a particular year. The
relationship between the NDVI of neighboring pixels and that of the
target pixel was obtained from multi-year NDVI time series thanks to the
accumulation of NDVI data over many years, which would have been
impossible a decade ago. We tested STSG on 16-day composite MODIS NDVI
time-series data from 2001 to 2016 in regions of mainland China and 11
phenology camera sites in North American. The results showed that STSG
performed significantly better compared with four previous widely used
methods (i.e., the Asymmetric Gaussian, Double Logistic, Fourier-based,
and Savitzky-Golay filter methods). One obvious advantage was that STSG
was able to address the problem of temporally continuous NDVI gaps. STSG
effectively increased local low NDVI values and simultaneously avoided
overcorrecting low NDVI values during the crop harvest period. In
addition, implementing STSG required only raw MODIS NDVI time-series
products without any additional burden of data requirements. All of
these advantages make STSG a promising noise-reduction method for
generating high quality NDVI time-series data.&lt;/p&gt;

&lt;h3 id=&quot;the-chlorophyll-fluorescence-imaging-spectrometer-cfis-mapping-far-red-fluorescence-from-aircraft&quot;&gt;The Chlorophyll Fluorescence Imaging Spectrometer (CFIS), mapping far red fluorescence from aircraft&lt;/h3&gt;

&lt;p&gt;Authors:
Frankenberg, C; Kohler, P; Magney, TS; Geier, S; Lawson, P; Schwochert,
M; McDuffie, J; Drewry, DT; Pavlick, R; Kuhnert, A&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 217 523-536; NOV 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The Chlorophyll Fluorescence Imaging Spectrometer (CFIS) is an airborne
high resolution imaging spectrometer built at NASA’s Jet Propulsion
Laboratory (JPL) for evaluating solar-induced fluorescence (SIF) from
the Orbiting Carbon Observatory-2 (OCO-2). OCO-2 is a NASA mission
designed to measure atmospheric CO2 but one of the novel data products
is SIF, retrieved using reductions in the optical depth of Fraunhofer
lines in OCO-2’s O-2 Aband, covering 757-775 nm at 0.042 nm spectral
resolution. CFIS was specifically designed to retrieve SIF within the
wavelength range of OCO-2, but extends further down to 737 nm, nearly
maintaining the high spectral resolution of the OCO-2 instrument (0.07
vs. 0.042 nm). Here, we provide an overview of the instrument
calibration and performance as well as the retrieval strategy based on
non-linear weighted least-squares. To illustrate the retrieval
performance using actual flight data, we focus on data acquired over
agricultural fields in Mead, Nebraska from an unpressurized Twin Otter
(DHC-6) aircraft at a flight altitude of 3000 m above ground level
(AGL). Spectral residuals are consistent with expected detector noise,
which enables us to compute realistic 1-alpha precision errors of
0.5-0.7 W/m(2)/sr/mu m for typical SIF retrievals, which can be reduced
to &amp;lt; 0.2 W/m(2)/sr/mu m when individual data is gridded at 30 m spatial
resolution. The 30 m resolution also enabled direct comparison with the
Crop Data Layer from the National Agricultural Statistics Service as
well as Landsat imagery (NDVI, EVI, T-sk(in)), taken just a day prior to
the CFIS overflights. Results show consistently higher vegetation
indices and SIF values over soy fields compared to corn, likely due to
the respective phenological stage, which might already have affected
chlorophyll content and canopy structure (August 15, 2016). While this
work is intended to highlight the technical capabilities and performance
of CFIS, the comparisons against Landsat and crop types provide insights
into how CFIS can be used to study mechanisms related to photosynthesis
at fine spatial scales, with the fidelity needed to obtain un-biased SIF
retrievals void of atmospheric correction.&lt;/p&gt;

&lt;h3 id=&quot;quantifying-the-uncertainty-of-soil-colour-measurements-with-munsell-charts-using-a-modified-attribute-agreement-analysis&quot;&gt;Quantifying the uncertainty of soil colour measurements with Munsell charts using a modified attribute agreement analysis&lt;/h3&gt;

&lt;p&gt;Authors:
Marques-Mateu, A; Moreno-Ramon, H; Balasch, S; Ibanez-Asensio, S&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;CATENA&lt;/em&gt;, 171 44-53; DEC 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The use of Munsell colour charts is the classical way of determining
colour information in soil science. The procedure is well-known and
consists of visually comparing soil samples with colour chips contained
in the charts. This visual approach has several drawbacks and although
the chart-based procedure is routinely used, it is not easy to find
systematic studies on the accuracy of this methodology. In this paper,
we seek to gain insight into the strengths and weaknesses of using soil
colour charts as a colour measurement device. The tool used to conduct
our study is a modification to the attribute agreement analysis (AAA)
method which consists of finding matches between colour standards and
colour designations obtained by several appraisers. In the experiment,
standards were obtained using a trichromatic colorimeter coupled to a
computer program that implements the k nearest neighbour (k-NN)
classification algorithm. In order to do the experiment, 276 soil
samples were observed twice by four trained appraisers (2208 data
records). The naive count of matches across all the records in the
dataset gave &amp;lt; 5% of agreement for all three colour components Hue,
Value and Chroma. The modified AAA criterion implemented in the study
gave a clear increase in all indicators with values ranging from 82.2%
to 100% in the agreement within appraisers, 39.5% in the agreement
between appraisers, and 42.8% in the agreement of appraisers vs.
standards. Results also show that users of the Munsell charts tend to
mostly report correct Hues but higher Values and Chromas than true soil
colours.&lt;/p&gt;

&lt;h3 id=&quot;multi-decade-multi-sensor-time-series-modelling-based-on-geostatistical-concepts-to-predict-broad-groups-of-crops&quot;&gt;Multi-decade, multi-sensor time-series modelling-based on geostatistical concepts-to predict broad groups of crops&lt;/h3&gt;

&lt;p&gt;Authors:
Pringle, MJ; Schmidt, M; Tindall, DR&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 216 183-200; OCT 2018&lt;/p&gt;

&lt;p&gt;Abstract:
We have mapped the broad groups of crops grown each summer and winter,
from 1987 to 2017, for a 300,000km 2 region of Queensland, Australia.
These maps are part of a legislated decision-making process for the
protection of prime agricultural land. For summer, the two groups of
crops are ‘Coarse-grain &amp;amp; Pulse’ and ‘Cotton’. For winter, the two
groups of crops are ‘Cereal’ and ‘Pulse’. Non-crop groups, present in
both summer and winter, are ‘Bare soil’ and ‘Other’ (comprising
pastures, woody vegetation, and crop residues). The foundation of the
maps is time-series modelling-specifically, applying the concepts of
geostatistics in the temporal domain-to model the variation in
land-surface phonology within a growing season. The time-series model is
flexible, robust, parsimonious, parallelisable, and able to deal with
irregular observations. We combined satellite imagery from the Landsat
sensors, as well as, when available, Sentinel-2A and MODIS (with the
last two reprojected to the 30m grid of Landsat). We applied the
time-series model pixel-wise across the study region, to three variables
derived from satellite imagery gathered for an individual growing
season: enhanced vegetation index, and the sub-pixel proportions of
bare-ground and non-photosynthetic vegetation. Weekly-averaged predicted
phenological metrics then served as explanatory variables in a tiered,
tree-based classification model, for the prediction of the groups. The
classification model comprised two expert rules and two random forests.
Prior to fitting the classification model, geospatial object-based image
analysis was used to change the scale of analysis from individual pixels
to (approximately) field-based segments. From the perspective of a
map-user, in any given growing season we predicted ‘Coarse-grain &amp;amp;
Pulse’ correctly in 79% of cases; the values for ‘Cotton’, ‘Cereal’, and
‘Pulse’ were 90%, 84%, and 73%, respectively; ‘Bare soil’ was 72% in
summer, and 88% in winter. ‘Other’ was the most accurately mapped group
(98% correct in summer, and 99% correct in winter).&lt;/p&gt;

&lt;h3 id=&quot;pedotransfer-functions-for-predicting-available-water-capacity-in-french-soils-their-applicability-domain-and-associated-uncertainty&quot;&gt;Pedotransfer functions for predicting available water capacity in French soils, their applicability domain and associated uncertainty&lt;/h3&gt;

&lt;p&gt;Authors:
Dobarco, MR; Cousin, I; Le Bas, C; Martin, MP&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 336 81-95; FEB 15 2019&lt;/p&gt;

&lt;p&gt;Abstract:
Soil available water capacity is an important soil property for land use
planning, drought risk assessment, and modelling crop production or
carbon cycling. Measurements of soil moisture at several soil water
potentials are expensive and time-consuming, hence it is common to
estimate available water capacity with pedotransfer functions (PTFs).
Available PTFs for France rarely provide uncertainty estimates for the
model coefficients and predictions, which are often required for error
propagation analysis and modelling ecological processes. The objectives
of this study were: 1) to develop class-PTFs and 2) continuous-PTFs with
associated uncertainties, and 3) to assess the domain of applicability
of the PTFs across metropolitan France. We used the SOLHYDRO database
for calibrating continuous and class PTFs. For continuous PTFs we used
linear regression models using sand, clay, organic carbon (SOC), and
bulk density (BD) as predictor variables, whereas class-PTFs were
defined by texture class, bulk density, and horizon type (all horizons,
topsoils, subsoils). The models were validated with an independent
validation dataset. The domain of applicability of the PTFs was
evaluated calculating the Mahalanobis distance between the calibration
dataset and horizon data from the French soil monitoring network (RMQS).
At independent validation, texture class-PTFs had a RMSE between 0.047
cm(3) cm(-3) and 0.058 cm(3) cm(-3) and continuous-PTFs had a RMSE
between 0.040 cm(3) cm(-3) and 0.053 cm(3) cm(-3). Texture class-PTFs
had similar or better predictive performance than texture-structural
class-PTFs. The prediction performance of continuous-PTFs improved
slightly when including SOC and BD in the models. The variance of the
predictions of continuous-PTFs associated to error in the model
coefficients was rather small, and increased as the values of the
predictor variables were more distant to the centroid of the calibration
data. We provide the PTF users with tools for classifying new samples as
within or outside the applicability domain of the PTFs. When applied to
the RMQS dataset, &amp;gt; 50% of the horizons outside the domain of
applicability were located in forests and natural areas or managed
pastures. The spatial distribution of RMQS horizons outside the domain
of applicability of the PTF can inform future sampling locations for
increasing the diversity of the soil properties and site conditions
represented by the SOLHYDRO dataset.&lt;/p&gt;

&lt;h3 id=&quot;soil-organic-carbon-storage-as-a-key-function-of-soils---a-review-of-drivers-and-indicators-at-various-scales&quot;&gt;Soil organic carbon storage as a key function of soils - A review of drivers and indicators at various scales&lt;/h3&gt;

&lt;p&gt;Authors:
Wiesmeier, M; Urbanski, L; Hobley, E; Lang, B; von Lutzow, M;
Marin-Spiotta, E; van Wesemael, B; Rabot, E; Liess, M; Garcia-Franco, N;
Wollschlager, U; Vogel, HJ; Kogel-Knabner, I&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 333 149-162; JAN 1 2019&lt;/p&gt;

&lt;p&gt;Abstract:
The capacity of soils to store organic carbon represents a key function
of soils that is not only decisive for climate regulation but also
affects other soil functions. Recent efforts to assess the impact of
land management on soil functionality proposed that an indicator- or
proxy-based approach is a promising alternative to quantify soil
functions compared to time- and cost-intensive measurements,
particularly when larger regions are targeted. The objective of this
review is to identify measurable biotic or abiotic properties that
control soil organic carbon (SOC) storage at different spatial scales
and could serve as indicators for an efficient quantification of SOC.
These indicators should enable both an estimation of actual SOC storage
as well as a prediction of the SOC storage potential, which is an
important aspect in land use and management planning. There are many
environmental conditions that affect SOC storage at different spatial
scales. We provide a thorough overview of factors from micro-scales
(particles to pedons) to the global scale and discuss their suitability
as indicators for SOC storage: clay mineralogy, specific surface area,
metal oxides, Ca and Mg cations, microorganisms, soil fauna,
aggregation, texture, soil type, natural vegetation, land use and
management, topography, parent material and climate. As a result, we
propose a set of indicators that allow for time- and cost-efficient
estimates of actual and potential SOC storage from the local to the
regional and subcontinental scale. As a key element, the fine mineral
fraction was identified to determine SOC stabilization in most soils.
The quantification of SOC can be further refined by including climatic
proxies, particularly elevation, as well as information on land use,
soil management and vegetation characteristics. To enhance its
indicative power towards land management effects, further “functional
soil characteristics”, particularly soil structural properties and
changes in the soil microbial biomass pool should be included in this
indicator system. The proposed system offers the potential to
efficiently estimate the SOC storage capacity by means of simplified
measures, such as soil fractionation procedures or infrared
spectroscopic approaches.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/11/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on November 18, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/10/journalDigest" />
  <id>/2018/10/journalDigest</id>
  <updated>2018-10-11T00:00:00-00:00</updated>
  <published>2018-10-11T00:00:00+11:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-20&quot;&gt;Journal Paper Digests 2018 #20&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Multi-objective unstructured triangular mesh generation for use in hydrological and land surface models&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;multi-objective-unstructured-triangular-mesh-generation-for-use-in-hydrological-and-land-surface-models&quot;&gt;Multi-objective unstructured triangular mesh generation for use in hydrological and land surface models&lt;/h3&gt;

&lt;p&gt;Authors:
Marsh, CB; Spiteri, RJ; Pomeroy, JW; Wheater, HS&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS &amp;amp; GEOSCIENCES&lt;/em&gt;, 119 49-67; OCT 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Unstructured triangular meshes are an efficient and effective landscape
representation that are suitable for use in distributed hydrological and
land surface models. Their variable spatial resolution provides similar
spatial performance to high-resolution structured grids while using only
a fraction of the number of elements. Many existing triangulation
methods either sacrifice triangle quality to introduce variable
resolution or maintain well formed uniform meshes at the expense of
variable triangle resolution. They are also generally constructed to
only fulfil topographic constraints. However, distributed hydrological
and land surface models require triangles of varying resolution to
provide landscape representations that accurately represent the spatial
heterogeneity of driving meteorology, physical parameters and process
operation in the simulation domain. As such, mesh generators need to
constrain the unstructured mesh to not only topography but to other
important surface and sub-surface features. This work presents novel
multi-objective unstructured mesh generation software that allows mesh
generation to be constrained to an arbitrary number of important
features while maintaining a variable spatial resolution. Triangle
quality is supported as well as a smooth gradation from small to large
triangles. Including these additional constraints results in a better
representation of spatial heterogeneity than from classic
topography-only constraints.&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/2018/10/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on October 11, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/10/journalDigest" />
  <id>/2018/10/journalDigest</id>
  <updated>2018-10-03T00:00:00-00:00</updated>
  <published>2018-10-03T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-19&quot;&gt;Journal Paper Digests 2018 #19&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Drone photogrammetry and KMeans point cloud filtering to create high resolution topographic and inundation models of coastal sediment archives&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;drone-photogrammetry-and-kmeans-point-cloud-filtering-to-create-high-resolution-topographic-and-inundation-models-of-coastal-sediment-archives&quot;&gt;Drone photogrammetry and KMeans point cloud filtering to create high resolution topographic and inundation models of coastal sediment archives&lt;/h3&gt;

&lt;p&gt;Authors:
Callow, JN; May, SM; Leopold, M&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;EARTH SURFACE PROCESSES AND LANDFORMS&lt;/em&gt;, 43 (12):2603-2615; SEP 30 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Coastal areas are vulnerable to the impacts of tropical cyclones (TC),
tsunamis and other water super-elevation events, but the frequency of
these events is often poorly represented by conventional records.
Coastal overwash deposits (including washover fans) can provide a
longer-term archive of event frequency. Because of their low-gradient
geomorphic form, washover fans require high accuracy
(centimetre-resolution) topographic models to understand patterns of
connectivity and dynamics that control archive formation. Using images
collected by a remotely piloted aircraft system (RPAS, or drone’) and
Structure-from-Motion (SfM) photogrammetry techniques, we apply a novel
point-cloud filtering technique based on KMeans classification of the
R-G-B colour of each X-Y-Z point to remove vegetation and create a
centimetre-resolution and accuracy bare-earth digital terrain model
(DTM) of a washover fan in Exmouth Gulf (Western Australia). Using the
RPAS-SfM orphophoto and DEM data, supported by ground-penetrating radar
(GPR) and field stratigraphic analysis, we show how this approach can be
applied to understand dynamics controlling low-gradient geomorphic
landforms, using an example of a washover fan sedimentary archive in
northwestern Australia created by extreme overwash events. Our approach
reveals the likely role of backflooding and terrestrial runoff in
creating backwater environment for sub-aqueous deposition and good
sediment preservation and identifies key areas to target for detailed
dating and stratigraphic analysis of a potentially decadal to
sub-millennial resolution sediment archive of TC activity&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/2018/10/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on October 03, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/09/journalDigest" />
  <id>/2018/09/journalDigest</id>
  <updated>2018-09-25T00:00:00-00:00</updated>
  <published>2018-09-25T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-18&quot;&gt;Journal Paper Digests 2018 #18&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Optimum soil water content sensors placement for surface drip irrigation scheduling in layered soils&lt;/li&gt;
  &lt;li&gt;Multi-stage committee based extreme learning machine model incorporating the influence of climate parameters and seasonality on drought forecasting&lt;/li&gt;
  &lt;li&gt;An Integrated View of Complex Landscapes: A Big Data-Model Integration Approach to Transdisciplinary Science&lt;/li&gt;
  &lt;li&gt;The Interactive Role of Wind and Water in Functioning of Drylands: What Does the Future Hold?&lt;/li&gt;
  &lt;li&gt;Soil carbon dynamics in wheat plots established on grassland in 1911 as influenced by nitrogen and phosphorus fertilizers&lt;/li&gt;
  &lt;li&gt;Spatial modelling with Euclidean distance fields and machine learning&lt;/li&gt;
  &lt;li&gt;Testing soil phosphorus in a depleting P scenario: an accelerated soil mining experiment&lt;/li&gt;
  &lt;li&gt;Simultaneous determination of soil bulk density and water content: a heat pulse-based method&lt;/li&gt;
  &lt;li&gt;High-Resolution Shortwave Infrared Imaging of Water Infiltration into Dry Soil&lt;/li&gt;
  &lt;li&gt;Measurement and Partitioning of Evapotranspiration for Application to Vadose Zone Studies&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;optimum-soil-water-content-sensors-placement-for-surface-drip-irrigation-scheduling-in-layered-soils&quot;&gt;Optimum soil water content sensors placement for surface drip irrigation scheduling in layered soils&lt;/h3&gt;

&lt;p&gt;Authors:
Soulis, KX; Elmaloglou, S&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 152 1-8; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Efficient irrigation management requires a sound information basis;
therefore, various environmental measurements are currently used in
irrigation scheduling. Among other technics, the recent progress in
electromagnetic sensors technologies promoted the development of
automated irrigation scheduling systems based on soil water content
sensors with very promising results in terms of water savings. However,
a key factor for the adequate performance of such systems is proper
placement of soil moisture sensors. Up to now, sensor placement
guidelines are fragmentary or empirically determined from site and crop
specific experiments. This study aims to extend the findings of previous
studies investigating the issue of proper positioning of water content
sensors in drip irrigation scheduling systems in uniform soils for the
case of layered soils. In this context the representativeness of soil
water content sensors’ readings and the existence of Time Stable
Representative Positions (TSRP) are investigated using a specially
developed mathematical model. The use of soil water content probes that
are able to monitor soil water content at various depths is also
evaluated. It was found that in contrast to the previous findings
concerning uniform soils, in the case of layered soils it is not
possible to precisely monitor the average soil water content temporal
variation in the root zone using a single sensor; however, it is
feasible to achieve this using a pair of sensors. Furthermore, common
optimum positions for a pair of sensors providing representative soil
water content readings independently from the prevailing conditions and
the irrigation system configuration can be identified. It was also found
that soil water content probes covering the average rooting depth and
penetrating both soil layers are also able to provide representative
soil water content readings during the whole duration of the irrigation
cycle. The above results represent a further step towards the
development of general guidelines for sensor placement in soil water
content based surface drip irrigation scheduling systems.&lt;/p&gt;

&lt;h3 id=&quot;multi-stage-committee-based-extreme-learning-machine-model-incorporating-the-influence-of-climate-parameters-and-seasonality-on-drought-forecasting&quot;&gt;Multi-stage committee based extreme learning machine model incorporating the influence of climate parameters and seasonality on drought forecasting&lt;/h3&gt;

&lt;p&gt;Authors:
Ali, M; Deo, RC; Downs, NJ; Maraseni, T&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 152 149-165; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Drought forewarning is an important decisive task since drought is
perceived a recurrent feature of climate variability and climate change
leading to catastrophic consequences for agriculture, ecosystem
sustainability, and food and water scarcity. This study designs and
evaluates a soft-computing drought modelling framework in context of
Pakistan, a drought-stricken nation, by means of a committee extreme
learning machine (Comm-ELM) model in respect to a committee particle
swarm optimization-adaptive neuro fuzzy inference system
(Comm-PSO-ANFIS) and committee multiple linear regression (Comm-MLR)
model applied to forecast monthly standardized precipitation index
(SPI). The proposed Comm-ELM model incorporates historical monthly
rainfall, temperature, humidity, Southern Oscillation Index (SOI) at
monthly lag (t - 1) and the respective month (i.e., periodicity factor)
as the explanatory variable for the drought’s behaviour defined by SPI.
The model accuracy is assessed by root mean squared error, mean absolute
error, correlation coefficient, Willmott’s index, Nash-Sutcliffe
efficiency and Legates McCabe’s index in the independent test dataset.
With the incorporation of periodicity as an input factor, the
performance of the Comm-ELM model for Islamabad, Multan and Dera Ismail
Khan (D. I. Khan) as the test stations, was remarkably improved in
respect to the Comm-PSO-ANFIS and Comm-MLR model. Other than the
superiority of Comm-ELM over the alternative models tested for monthly
SPI forecasting, we also highlight the importance of the periodicity
cycle as a pertinent predictor variable in a drought forecasting model.
The results ascertain that the model accuracy scales with geographic
factors, due to the complexity of drought phenomenon and its
relationship with the different inputs and data attributes that can
affect the overall evolution of a drought event. The findings of this
study has important implications for agricultural decision-making where
future knowledge of drought can be used to develop climate risk
mitigation strategies for better crop management.&lt;/p&gt;

&lt;h3 id=&quot;an-integrated-view-of-complex-landscapes-a-big-data-model-integration-approach-to-transdisciplinary-science&quot;&gt;An Integrated View of Complex Landscapes: A Big Data-Model Integration Approach to Transdisciplinary Science&lt;/h3&gt;

&lt;p&gt;Authors:
Peters, DPC; Burruss, ND; Rodriguez, LL; Mcvey, DS; Elias, EH;
Pelzel-Mccluskey, AM; Derner, JD; Schrader, TS; Yao, J; Pauszek, SJ;
Lombard, J; Archer, SR; Bestelmeyer, BT; Browning, DM; Brungard, CW;
Hatfield, JL; Hanan, NP; Herrick, JE; Okin, GS; Sala, OE; Savoy, H;
Vivoni, ER&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;BIOSCIENCE&lt;/em&gt;, 68 (9):653-669; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The Earth is a complex system comprising many interacting spatial and
temporal scales. We developed a transdisciplinary data-model integration
(TDMI) approach to understand, predict; and manage for these complex
dynamics that focuses on spatiotemporal modeling and cross-scale
interactions. Our approach employs human-centered machine-learning
strategies supported by a data science integration system (DSIS).
Applied to ecological problems, our approach integrates knowledge and
data on (a) biological processes, (b) spatial heterogeneity in the land
surface template, and (c) variability in environmental drivers using
data and knowledge drawn from multiple lines of evidence (cc.,
observations, experimental manipulations, analytical and numerical
models, products from imagery, conceptual model reasoning, and theory).
We apply this transdisciplinary approach to a suite of increasingly
complex ecologically relevant problems and then discuss how information
management systems will need to evolve into DSIS to allow other
transdisciplinary questions to be addressed in the future.&lt;/p&gt;

&lt;h3 id=&quot;the-interactive-role-of-wind-and-water-in-functioning-of-drylands-what-does-the-future-hold&quot;&gt;The Interactive Role of Wind and Water in Functioning of Drylands: What Does the Future Hold?&lt;/h3&gt;

&lt;p&gt;Authors:
Okin, GS; Sala, OE; Vivoni, ER; Zhang, JZ; Bhattachan, A&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;BIOSCIENCE&lt;/em&gt;, 68 (9):670-677; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Feedback mechanisms between abiotic and biotic processes in dryland
ecosystems lead to a strong sensitivity to interannual variations in
climate. Under a future regime of higher temperatures but potentially
increased rainfall variability drylands are anticipated to experience
changes in wind and water transport that will alter plant community
composition and feedback on landscape connectivity Here, we present a
conceptual framework for understanding the coupling of vegetation
productivity, aeolian transport, and hydrologic connectivity under
anticipated changes in future climate, which suggests that a more
extreme climatic regime will lead to more connected landscapes with
attendant losses in soil, nutrient, and water resources. When enhanced
connectivity triggers state changes, irreversible changes in ecosystem
functioning can occur, with implications for the future of global
drylands.&lt;/p&gt;

&lt;h3 id=&quot;soil-carbon-dynamics-in-wheat-plots-established-on-grassland-in-1911-as-influenced-by-nitrogen-and-phosphorus-fertilizers&quot;&gt;Soil carbon dynamics in wheat plots established on grassland in 1911 as influenced by nitrogen and phosphorus fertilizers&lt;/h3&gt;

&lt;p&gt;Authors:
Karimi, R; Janzen, HH; Smith, EG; Ellert, BH; Krobel, R&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;CANADIAN JOURNAL OF SOIL SCIENCE&lt;/em&gt;, 98 (3):580-583; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soil organic carbon (SOC) changes slowly, and final management
influences can be measured only after decades. Analysis of archived
samples from a site established on grassland in 1911 showed that SOC,
under wheat systems, approached steady state after several decades, and
that its amount reflected the inputs of residue C.&lt;/p&gt;

&lt;h3 id=&quot;spatial-modelling-with-euclidean-distance-fields-and-machine-learning&quot;&gt;Spatial modelling with Euclidean distance fields and machine learning&lt;/h3&gt;

&lt;p&gt;Authors:
Behrens, T; Schmidt, K; Rossel, RAV; Gries, P; Scholten, T; MacMillan,
RA&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;EUROPEAN JOURNAL OF SOIL SCIENCE&lt;/em&gt;, 69 (5):757-770; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
This study introduces a hybrid spatial modelling framework, which
accounts for spatial non-stationarity, spatial autocorrelation and
environmental correlation. A set of geographic spatially autocorrelated
Euclidean distance fields (EDF) was used to provide additional spatially
relevant predictors to the environmental covariates commonly used for
mapping. The approach was used in combination with machine-learning
methods, so we called the method Euclidean distance fields in
machine-learning (EDM). This method provides advantages over other
prediction methods that integrate spatial dependence and state factor
models, for example, regression kriging (RK) and geographically weighted
regression (GWR). We used seven generic (EDFs) and several commonly used
predictors with different regression algorithms in two digital soil
mapping (DSM) case studies and compared the results to those achieved
with ordinary kriging (OK), RK and GWR as well as the multiscale methods
ConMap, ConStat and contextual spatial modelling (CSM). The algorithms
tested in EDM were a linear model, bagged multivariate adaptive
regression splines (MARS), radial basis function support vector machines
(SVM), Cubist, random forest (RF) and a neural network (NN) ensemble.
The study demonstrated that DSM with EDM provided results comparable to
RK and to the contextual multiscale methods. Best results were obtained
with Cubist, RF and bagged MARS. Because the tree-based approaches
produce discontinuous response surfaces, the resulting maps can show
visible artefacts when only the EDFs are used as predictors (i.e. no
additional environmental covariates). Artefacts were not obvious for SVM
and NN and to a lesser extent bagged MARS. An advantage of EDM is that
it accounts for spatial non-stationarity and spatial autocorrelation
when using a small set of additional predictors. The EDM is a new method
that provides a practical alternative to more conventional spatial
modelling and thus it enhances the DSM toolbox.&lt;/p&gt;

&lt;h3 id=&quot;testing-soil-phosphorus-in-a-depleting-p-scenario-an-accelerated-soil-mining-experiment&quot;&gt;Testing soil phosphorus in a depleting P scenario: an accelerated soil mining experiment&lt;/h3&gt;

&lt;p&gt;Authors:
Nawara, S; van Dael, T; De Cooman, E; Elsen, A; Merckx, R; Smolders, E;
Amery, F&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;EUROPEAN JOURNAL OF SOIL SCIENCE&lt;/em&gt;, 69 (5):804-815; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The reduced use of phosphorus (P) fertilizer in fertile soil has
reverted the P balance to negative in some regions. It is unclear how
long current soil P stocks will ensure adequate P supply to crops. In
addition, it is unknown if current soil tests for available P describe
bioavailable P adequately in soil where P is becoming depleted. We set
up an accelerated soil P mining test to address these questions.
Perennial ryegrass (Lolium perenne, Melpetra tetra) was grown for 2years
in a greenhouse on 5-cm-deep soil layers of eight contrasting soils with
periodic grass clipping. Each soil was split into four fertilizer
treatments (i.e. no P (-P) and adequate P (+P)) and two nitrogen levels,
the latter to alter the rate of P uptake. The long-term P mining induced
P-related yield losses in seven of the 16 soil treatments. The
cumulative uptake of shoot P at which yield loss started to exceed 10%
(-P versus +P) varied over a small range of 37-74mg Pkg(-1) soil among
the soils. This critical cumulative P uptake (CCP) was related to the
soil P content prior to mining measured by five soil P tests (ammonium
oxalate, ammonium lactate (AL), Olsen P, 0.01m CaCl2 and the diffusive
gradient in thin film technique (DGT)); the largest R-2 values were
observed for P-AL (R-2=0.72) and P-DGT (R-2=0.73). However, none of the
tests was diagnostic for yield loss during the depletion period.
Increased N supply accelerated growth and rates of P uptake and
decreased the CCP by a factor of 1.7 on average, illustrating the effect
of the rate of biomass production. The CCP values obtained in the
treatment with reduced N fertilizer application are likely to be the
most relevant for the field and suggest that current stocks allow
adequate P supply for arable crops for 3-8years under zero P application
(0-23cm) in soils similar to those tested. The lack of a successful
diagnosis for P deficiency during this depletion experiment calls for
further calibration of soil tests for available P in the field.&lt;/p&gt;

&lt;h3 id=&quot;simultaneous-determination-of-soil-bulk-density-and-water-content-a-heat-pulse-based-method&quot;&gt;Simultaneous determination of soil bulk density and water content: a heat pulse-based method&lt;/h3&gt;

&lt;p&gt;Authors:
Lu, Y; Horton, R; Ren, T&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;EUROPEAN JOURNAL OF SOIL SCIENCE&lt;/em&gt;, 69 (5):947-952; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soil bulk density ((b)) and volumetric water content () determine the
volume fractions of soil solids, water and air, and influence mass and
energy transfer in soil. It is desirable to monitor (b) and concurrently
and non-destructively. We present a heat pulse-based method for
simultaneous determination of (b) and from soil thermal properties. The
method uses equations that relate (b) and to soil volumetric heat
capacity (C) and to soil thermal conductivity (). We developed a
three-step procedure to calculate (b) and from C and measured by a heat
pulse sensor, with soil texture and specific heat of soil solids known a
priori. Laboratory evaluation of soil samples with various textures
showed that the three-step method provided reliable estimates of (b) and
at values greater than the critical water content ((c)) when started to
respond notably to increases in . This method provides a new way to
determine (b) and simultaneously with heat pulse sensors.HighlightsWe
developed an approach to determine soil bulk density (.. b) and water
content (..) simultaneously with a heat pulse sensor. We estimated.. b
and.. from soil thermal properties based on heat capacity and thermal
conductivity models. The new approach provided reliable.. b and.. values
at water contents &amp;gt;.. c, the critical value. At.. &amp;lt;.. c, the approach
gave unstable results because soil thermal conductivity was insensitive
to.. b.&lt;/p&gt;

&lt;h3 id=&quot;high-resolution-shortwave-infrared-imaging-of-water-infiltration-into-dry-soil&quot;&gt;High-Resolution Shortwave Infrared Imaging of Water Infiltration into Dry Soil&lt;/h3&gt;

&lt;p&gt;Authors:
Sadeghi, M; Sheng, WY; Babaeian, E; Tuller, M; Jones, SB&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;VADOSE ZONE JOURNAL&lt;/em&gt;, 16 (13):NIL_91-NIL_100; DEC 2017&lt;/p&gt;

&lt;p&gt;Abstract:
A novel proximal sensing framework for high-resolution soil water
content profile retrieval under laboratory conditions has been
developed. Constant-head upward-flow experiments were conducted for a
number of soils that cover a wide textural range. The soils were packed
into quartz Hele-Shaw cells, and the profile was imaged at high temporal
frequency with a short-wave infrared (SWIR) camera in the 900- to
1700-nm electromagnetic domain during upward infiltration of water. The
SWIR reflectance recorded for each spatial pixel was converted to soil
water content with a recently developed linear physical model. Because
of the linearity of the model, its parameters were assumed to be
identical at both the pixel and column scales, and this allowed simple
self-calibration during the experiment. The obtained water content
profiles were in good agreement with soil water content data measured
independently with a recently developed time domain reflectometry array
with 1-cm depth resolution. In addition, the accuracy of the soil water
content profiles was verified based on the water mass balance. The
high-spatiotemporal-resolution SWIR reflectance-derived water content
profiles allow calculation of water flux densities, which provides a
potential new avenue for the rapid estimation of soil hydraulic
properties and processes via inverse numerical or analytical modeling.&lt;/p&gt;

&lt;h3 id=&quot;measurement-and-partitioning-of-evapotranspiration-for-application-to-vadose-zone-studies&quot;&gt;Measurement and Partitioning of Evapotranspiration for Application to Vadose Zone Studies&lt;/h3&gt;

&lt;p&gt;Authors:
Anderson, RG; Zhang, XD; Skaggs, TH&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;VADOSE ZONE JOURNAL&lt;/em&gt;, 16 (13):NIL_82-NIL_90; DEC 2017&lt;/p&gt;

&lt;p&gt;Abstract:
Partitioning evapotranspiration (ET) into its constituent components,
evaporation (E) and transpiration (T), is important for numerous
hydrological purposes including assessing impacts of management
practices on water use efficiency and improved validation of vadose zone
models that parameterize E and T separately. However, most
long-established observational techniques have short observational
timescales and spatial footprints, raising questions about the
representativeness of these measurements. In the past 15 yr, new
approaches have allowed ET partitioning at spatial scales ranging from
the pedon to the globe and at long timescales. In this update, we review
some recent methodological developments for partitioning ET. These
include micrometeorological approaches involving the flux variance
partitioning of high-frequency eddy covariance observations and proxies
for photosynthesis and transpiration such as measurements of isotopic
fractionation and carbonyl sulfide uptake. We discuss advances in
partitioning the energy balance between canopy and soil using remote
sensing. We conclude that the flux variance partitioning with raw eddy
covariance data and the two-source energy balance approaches with remote
sensing platforms may have the greatest potential for partitioning ET,
in part because large public repositories of eddy covariance and
satellite data could be readily reprocessed to partition ET.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/09/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on September 25, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/09/journalDigest" />
  <id>/2018/09/journalDigest</id>
  <updated>2018-09-18T00:00:00-00:00</updated>
  <published>2018-09-18T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-17&quot;&gt;Journal Paper Digests 2018 #17&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Sparse regression interaction models for spatial prediction of soil properties in 3D&lt;/li&gt;
  &lt;li&gt;Enhanced IT2FCM algorithm using object-based triangular fuzzy set modeling for remote-sensing clustering&lt;/li&gt;
  &lt;li&gt;Identification of geochemical anomalies through combined sequential Gaussian simulation and grid-based local singularity analysis&lt;/li&gt;
  &lt;li&gt;Multi-scale segmentation algorithm for pattern-based partitioning of large categorical rasters&lt;/li&gt;
  &lt;li&gt;Application of C-13 NMR Spectroscopy to the Study of Soil Organic Matter: A Review of Publications&lt;/li&gt;
  &lt;li&gt;Predicting soil thickness on soil mantled hillslopes&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;sparse-regression-interaction-models-for-spatial-prediction-of-soil-properties-in-3d&quot;&gt;Sparse regression interaction models for spatial prediction of soil properties in 3D&lt;/h3&gt;

&lt;p&gt;Authors:
Pejovic, M; Nikolic, M; Heuvelink, GBM; Hengl, T; Kilibarda, M; Bajat, B&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS &amp;amp; GEOSCIENCES&lt;/em&gt;, 118 1-13; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
An approach for using lasso (Least Absolute Shrinkage and Selection
Operator) regression in creating sparse 3D models of soil properties for
spatial prediction at multiple depths is presented. Modeling soil
properties in 3D benefits from interactions of spatial predictors with
soil depth and its polynomial expansion, which yields a large number of
model variables (and corresponding model parameters). Lasso is able to
perform variable selection, hence reducing the number of model
parameters and making the model more easily interpretable. This also
prevents overfitting, which makes the model more accurate. The presented
approach was tested using four variable selection approaches - none,
stepwise, lasso and hierarchical lasso, on four kinds of models -
standard linear model, linear model with polynomial expansion of depth,
linear model with interactions of covariates with depth and linear model
with interactions of covariates with depth and its polynomial expansion.
This framework was used to predict Soil Organic Carbon (SOC) in three
contrasting study areas: Bor (Serbia), Edgeroi (Australia) and the
Netherlands. Results show that lasso yields substantial improvements in
accuracy over standard and stepwise regression - up to 50 % of total
variance. It yields models which contain up to five times less nonzero
parameters than the full models and that are usually more sparse than
models obtained by stepwise regression, up to three times. Extension of
the standard linear model by including interactions typically improves
the accuracy of models produced by lasso, but is detrimental to standard
and stepwise regression. Regarding computation time, it was demonstrated
that lasso is several orders of magnitude more efficient than stepwise
regression for models with tens or hundreds of variables (including
interactions). Proper model evaluation is emphasized. Considering the
fact that lasso requires meta-parameter tuning, standard
cross-validation does not suffice for adequate model evaluation, hence a
nested cross-validation was employed. The presented approach is
implemented as publicly available sparsereg3D R package.&lt;/p&gt;

&lt;h3 id=&quot;enhanced-it2fcm-algorithm-using-object-based-triangular-fuzzy-set-modeling-for-remote-sensing-clustering&quot;&gt;Enhanced IT2FCM algorithm using object-based triangular fuzzy set modeling for remote-sensing clustering&lt;/h3&gt;

&lt;p&gt;Authors:
Jiang, T; Hu, D; Yu, XC&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS &amp;amp; GEOSCIENCES&lt;/em&gt;, 118 14-26; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Object-based fuzzy clustering method has been widely used to
remote-sensing clustering analysis. Mean and interval spectral
signatures are typically used to describe an object’s features. However,
accurately distinguishing two objects with the same mean or interval
values and different internal distributions is difficult. Focus on this
problem, we developed triangular fuzzy set modeling to describe objects
and designed an interval distance metric to measure the dissimilarities
between triangular fuzzy sets. Furthermore, using the variation of
fuzzifier (two fuzzifiers) to construct interval type-2 fuzzy c-means
(IT2FCM) clustering methods, which are sensitive to the choice of
fuzzifier, has uncertainty and subjectivity. Thus, an enhanced IT2FCM
clustering algorithm that directly adopts the interval distance metric
rather than the variation of fuzzifier is proposed for high-resolution
remote-sensing clustering. We performed land-cover classification
experiments for three study areas by utilizing remote-sensing images
from the SPOT-5 and Gaofen-2 satellite sensor, which spatial resolution
are approximately 10 m and 1 m, respectively. Visual and numerical
results, including Kappa coefficients and the confusion matrix, were
utilized to verify the classification results. The experimental results
indicated that triangular fuzzy set modeling is appropriate for
extracting features from ground objects; moreover, it limits the
classification errors caused by same objects with different spectral
features. Compared with the object-based interval-valued fuzzy c-means
(IV-FCM) method reported in the literature, the proposed algorithm
results in improved classification quality and accuracy.&lt;/p&gt;

&lt;h3 id=&quot;identification-of-geochemical-anomalies-through-combined-sequential-gaussian-simulation-and-grid-based-local-singularity-analysis&quot;&gt;Identification of geochemical anomalies through combined sequential Gaussian simulation and grid-based local singularity analysis&lt;/h3&gt;

&lt;p&gt;Authors:
Wang, J; Zuo, RG&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS &amp;amp; GEOSCIENCES&lt;/em&gt;, 118 52-64; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Local singularity analysis (LSA) has been proven to be an effective tool
for identifying weak geochemical anomalies. The common practice of
grid-based LSA is to firstly interpolate irregularly distributed
observations onto a raster map by using either kriging or inverse
distance weighting (IDW). The inherent nature of the weighted moving
averaging of these methods typically subjects the interpolated map to a
smoothing effect. Additionally, the traditional procedure did not allow
for uncertainties on the values of geochemical attributes at unsampled
locations. As such, these two aspects might affect LSA results. This
paper presents a hybrid method, which combines sequential Gaussian
simulation and grid-based LSA to identify geochemical anomalies. A case
study of processing soil samples collected from the Jilinbaolige
district, Inner Mongolia, China, further illustrates the hybrid method
and helps compare the results with those from kriging-based LSA. The
findings indicate that (1) the uncertainties of values at unsampled
locations could affect the results of grid-based LSA, and (2)
singularity exponents from kriging-based LSA roughly represent the trend
(median) of singularity exponent distributions from simulation-based
LSA, but the latter can also provide a measure of uncertainty of
singularity exponent propagated from the uncertain values at unsampled
locations, and (3) the procedure combining simulation-based LSA and
analysis of distance is a feasible way for identifying geochemical
anomalies with uncertainty being considered. The anomaly probability map
obtained can provide a more generalized perspective than
interpolation-based LSA to delineate anomalous areas.&lt;/p&gt;

&lt;h3 id=&quot;multi-scale-segmentation-algorithm-for-pattern-based-partitioning-of-large-categorical-rasters&quot;&gt;Multi-scale segmentation algorithm for pattern-based partitioning of large categorical rasters&lt;/h3&gt;

&lt;p&gt;Authors:
Jasiewicz, J; Stepinski, T; Niesterowicz, J&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS &amp;amp; GEOSCIENCES&lt;/em&gt;, 118 122-130; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Analyzing large Earth Observation (EO) data on the broad spatial scales
frequently involves regionalization of patterns. To automate this
process we present a segmentation algorithm designed specifically to
delineate segments containing quasi-stationary patterns. The algorithm
is designed to work with patterns of a categorical variable. This makes
it possible to analyze very large spatial datasets (for example, a
global land cover) in their entirety. An input categorical raster is
first tessellated into small square tiles to form a new, coarser, grid
of tiles. A mosaic of categories within each tile forms a local pattern,
and the segmentation algorithm partitions the grid of tiles while
maintaining the cohesion of pattern in each segment. The algorithm is
based on the principle of seeded region growing (SRG) but it also
includes segment merging and other enhancements to segmentation quality.
Our key contribution is an extension of the concept of segmentation to
grids in which each cell has a non-negligible size and contains a
complex data structure (histograms of pattern features). Specific
modification of a standard SRG algorithm include: working in a distance
space with complex data objects, introducing six-connected “brick wall”
topology of the grid to decrease artifacts associated with tessellation
of geographical space, constructing the SRG priority queue of seeds on
the basis of local homogeneity of patterns, and using a
content-dependent value of segment-growing threshold. The detailed
description of the algorithm is given followed by an assessment of its
performance on test datasets representing three pertinent themes of land
cover, topography, and a high-resolution image. Pattern-based
segmentation algorithm will find application in ecology, forestry,
geomorphology, land management, and agriculture. The algorithm is
implemented as a module of GeoPAT - an already existing, open source
toolbox for performing pattern-based analysis of categorical rasters.&lt;/p&gt;

&lt;h3 id=&quot;application-of-c-13-nmr-spectroscopy-to-the-study-of-soil-organic-matter-a-review-of-publications&quot;&gt;Application of C-13 NMR Spectroscopy to the Study of Soil Organic Matter: A Review of Publications&lt;/h3&gt;

&lt;p&gt;Authors:
Chukov, SN; Lodygin, ED; Abakumov, EV&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;EURASIAN SOIL SCIENCE&lt;/em&gt;, 51 (8):889-900; AUG 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Possibilities of NMR spectroscopy with C-13 nuclei application to the
study of soil organic matter and its various fractions is considered.
This is a non-destructive method, which is particularly valuable in the
analysis of various fractions of soil organic matter. It is regarded as
a direct method, and, unlike most of indirect methods, it allows one to
obtain reliable estimates of the ratio between virtually all groups of
carbon atoms in different organic molecules, including those in humus
specimens. Owing to impulse technique and high sensitivity, C-13-NMR
spectra may be obtained immediately from soil samples without any
extraction operations. The modern technique of obtaining spectra, their
mathematical processing (Fourier transform), and data interpretation are
considered. The results of applying C-13-NMR to the study of humus
substances, water-soluble fractions of soil organic matter, and soil
litters from different natural zones are discussed.&lt;/p&gt;

&lt;h3 id=&quot;predicting-soil-thickness-on-soil-mantled-hillslopes&quot;&gt;Predicting soil thickness on soil mantled hillslopes&lt;/h3&gt;

&lt;p&gt;Authors:
Patton, NR; Lohse, KA; Godsey, SE; Crosby, BT; Seyfried, MS&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;NATURE COMMUNICATIONS&lt;/em&gt;, 9 3329-3329; AUG 20 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soil thickness is a fundamental variable in many earth science
disciplines due to its critical role in many hydrological and ecological
processes, but it is difficult to predict. Here we show a strong linear
relationship (r(2) = 0.87, RMSE = 0.19 m) between soil thickness and
hillslope curvature across both convergent and divergent parts of the
landscape at a field site in Idaho. We find similar linear relationships
across diverse landscapes (n = 6) with the slopes of these relationships
varying as a function of the standard deviation in catchment curvatures.
This soil thickness-curvature approach is significantly more efficient
and just as accurate as kriging-based methods, but requires only
high-resolution elevation data and as few as one soil profile.
Efficiently attained, spatially continuous soil thickness datasets
enable improved models for soil carbon, hydrology, weathering, and
landscape evolution.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/09/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on September 18, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/08/journalDigest" />
  <id>/2018/08/journalDigest</id>
  <updated>2018-08-24T00:00:00-00:00</updated>
  <published>2018-08-24T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-18&quot;&gt;Journal Paper Digests 2018 #18&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Downscaling of SMAP Soil Moisture Using Land Surface Temperature and Vegetation Data&lt;/li&gt;
  &lt;li&gt;A SPECLib-based operational classification approach: A preliminary test on China land cover mapping at 30 m&lt;/li&gt;
  &lt;li&gt;Spatial structuring of soil microbial communities in commercial apple orchards&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;downscaling-of-smap-soil-moisture-using-land-surface-temperature-and-vegetation-data&quot;&gt;Downscaling of SMAP Soil Moisture Using Land Surface Temperature and Vegetation Data&lt;/h3&gt;

&lt;p&gt;Authors:
Fang, B; Lakshmi, V; Bindlish, R; Jackson, TJ&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;VADOSE ZONE JOURNAL&lt;/em&gt;, 17 (1):70198-70198; AUG 9 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Remotely sensed soil moisture retrieved by the Soil Moisture Active and
Passive (SMAP) sensor is currently provided at a 9-km grid resolution.
Although valuable, some applications in weather, agriculture, ecology,
and watershed hydrology require soil moisture at a higher spatial
resolution. In this study, a passive microwave soil moisture downscaling
algorithm based on thermal inertia theory was improved for use with SMAP
and applied to a data set collected at a field experiment. This
algorithm utilizes a normalized difference vegetation index (NDVI)
modulated relationship between daytime soil moisture and daily
temperature change modeled using output variables from the land surface
model of the North American Land Data Assimilation System (NLDAS) and
remote sensing data from the Moderate-Resolution Imaging
Spectroradiometer (MODIS) and Advanced Very High Resolution Radiometer
(AVHRR). The reference component of the algorithm was developed at the
NLDAS grid size (12.5 km) to downscale the SMAP Level 3 radiometer-based
9-km soil moisture to 1 km. The downscaled results were validated using
data acquired in Soil Moisture Active Passive Validation Experiment 2015
(SMAPVEX15) that included in situ soil moisture and Passive Active
L-band System (PALS) airborne instrument observations. The resulting
downscaled SMAP estimates better characterize soil moisture spatial and
temporal variability and have better overall validation metrics than the
original SMAP soil moisture estimates. Additionally, the overall
accuracy of the downscaled SMAP soil moisture is comparable to the PALS
high spatial resolution soil moisture retrievals. The method
demonstrated in this study downscales satellite soil moisture to produce
a 1-km product that is not site specific and could be applied to other
regions of the world using the publicly available NLDAS/Global Land Data
Assimilation System data.&lt;/p&gt;

&lt;h3 id=&quot;a-speclib-based-operational-classification-approach-a-preliminary-test-on-china-land-cover-mapping-at-30-m&quot;&gt;A SPECLib-based operational classification approach: A preliminary test on China land cover mapping at 30 m&lt;/h3&gt;

&lt;p&gt;Authors:
Zhang, X; Liu, LY; Wang, YJ; Hu, Y; Zhang, B&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;INTERNATIONAL JOURNAL OF APPLIED EARTH OBSERVATION AND GEOINFORMATION&lt;/em&gt;, 71 83-94; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Fine-resolution land cover mapping at the regional or global scale is
usually time-consuming and involves a lot of manual participation. This
article proposes a novel and automatic land cover mapping approach
called the SPatial-tEmporal speCtral Library (SPECLib), which can
produce a land cover map with a 30-m spatial resolution. First, the
SPECLib is developed by extracting reference spectra for uniform,
typical samples of each land cover type by combining the GlobCover2009
land cover product and the 8-day composite MODIS Surface Reflectance
Product (MODO9 A1). SPECLib has a temporal resolution of 8 days and
contains most of the land cover types in each 1.5 degrees x 1.5 degrees
geographic cell. For an arbitrary temporal stage, for each geographical
cell of the SPECLib, there are a total of about 5000 MODIS spectra.
Secondly, an operational approach for automatic land cover mapping using
Landsat data is developed based on SPECLib. For each Landsat scene to be
classified, the reference spectra of the land cover types in the
corresponding geographic cell were automatically extracted and
normalized. The Landsat scene was then classified by using the
normalized reference spectra from SPECLib in an integrated
classification approach that combined MLC (Maximum Likelihood
Classification) and SAM (Spectral Angle Mapper). Finally, the
SPECLib-based approach is tested using 510 single-date Landsat 8 OLI
scenes to produce a land cover map of China. The map was validated using
11,366 interpretation samples and was shown to have an overall accuracy
of 77.34% and a kappa coefficient of 0.729. Therefore, the preliminary
results indicate that the SPECLib-based operational classification
approach is a promisingly automatic method for global land cover mapping
at a resolution of 30 m.&lt;/p&gt;

&lt;h3 id=&quot;spatial-structuring-of-soil-microbial-communities-in-commercial-apple-orchards&quot;&gt;Spatial structuring of soil microbial communities in commercial apple orchards&lt;/h3&gt;

&lt;p&gt;Authors:
Deakin, G; Tilston, EL; Bennett, J; Passey, T; Harrison, N;
Fernandez-Fernandez, F; Xu, XM&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;APPLIED SOIL ECOLOGY&lt;/em&gt;, 130 1-12; SEP 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Characterising spatial microbial community structure is important to
understand and explain the consequences of continuous plantation of one
crop species on the performance of subsequent crops, especially where
this leads to reduced growth vigour and crop yield. We investigated the
spatial structure, specifically distance-decay of similarity, of soil
bacterial and fungal communities in two long-established orchards with
contrasting agronomic characteristics. A spatially explicit sampling
strategy was used to collect soil from under recently grubbed rows of
apple trees and under the grassed aisles. Amplicon-based metabarcoding
technology was used to characterise the soil microbial communities. The
results suggested that (1) most of the differences in soil microbial
community structure were due to large-scale differences (i.e. between
orchards), (2) within-orchard, small-scale (1-5 m) spatial variability
was also present, but spatial relationships in microbial community
structure differed between orchards and were not predictable, and (3)
vegetation type (i.e. trees or grass and their associated management)
can significantly alter the structure of soil microbial communities,
affecting a large proportion of microbial groups. The discontinuous
nature of soil microbial community structure in the tree stations and
neighbouring grass aisles within an orchard illustrate the importance of
vegetation type and allied weed and nutrient management on soil
microbial community structure.&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/2018/08/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on August 24, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/08/journalDigest" />
  <id>/2018/08/journalDigest</id>
  <updated>2018-08-21T00:00:00-00:00</updated>
  <published>2018-08-21T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-16&quot;&gt;Journal Paper Digests 2018 #16&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Soil bacterial networks are less stable under drought than fungal networks&lt;/li&gt;
  &lt;li&gt;A Robust Calibration Method for Continental-Scale Soil Water Content Measurements&lt;/li&gt;
  &lt;li&gt;Lysimeters in Vadose Zone Research&lt;/li&gt;
  &lt;li&gt;Links among warming, carbon and microbial dynamics mediated by soil mineral weathering&lt;/li&gt;
  &lt;li&gt;Analyzing the mixing performance of a rotary spader using digital image processing and discrete element modelling (DEM)&lt;/li&gt;
  &lt;li&gt;Machine learning approaches for crop yield prediction and nitrogen status estimation in precision agriculture: A review&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;soil-bacterial-networks-are-less-stable-under-drought-than-fungal-networks&quot;&gt;Soil bacterial networks are less stable under drought than fungal networks&lt;/h3&gt;

&lt;p&gt;Authors:
de Vries, FT; Griffiths, RI; Bailey, M; Craig, H; Girlanda, M; Gweon,
HS; Hallin, S; Kaisermann, A; Keith, AM; Kretzschmar, M; Lemanceau, P;
Lumini, E; Mason, KE; Oliver, A; Ostle, N; Prosser, JI; Thion, C;
Thomson, B; Bardgett, RD&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;NATURE COMMUNICATIONS&lt;/em&gt;, 9 3033-3033; AUG 2 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soil microbial communities play a crucial role in ecosystem functioning,
but it is unknown how co-occurrence networks within these communities
respond to disturbances such as climate extremes. This represents an
important knowledge gap because changes in microbial networks could have
implications for their functioning and vulnerability to future
disturbances. Here, we show in grassland mesocosms that drought promotes
destabilising properties in soil bacterial, but not fungal,
co-occurrence networks, and that changes in bacterial communities link
more strongly to soil functioning during recovery than do changes in
fungal communities. Moreover, we reveal that drought has a prolonged
effect on bacterial communities and their co-occurrence networks via
changes in vegetation composition and resultant reductions in soil
moisture. Our results provide new insight in the mechanisms through
which drought alters soil microbial communities with potential long-term
consequences, including future plant community composition and the
ability of aboveground and belowground communities to withstand future
disturbances.&lt;/p&gt;

&lt;h3 id=&quot;a-robust-calibration-method-for-continental-scale-soil-water-content-measurements&quot;&gt;A Robust Calibration Method for Continental-Scale Soil Water Content Measurements&lt;/h3&gt;

&lt;p&gt;Authors:
Roberti, JA; Ayres, E; Loescher, HW; Tang, JW; Starr, G; Durden, DJ;
Smith, DE; de la Reguera, E; Morkeski, K; McKlveen, M; Benstead, H;
SanClements, MD; Lee, RH; Gebremedhin, M; Zulueta, RC&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;VADOSE ZONE JOURNAL&lt;/em&gt;, 17 (1):70177-70177; MAY 24 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Technological advances have allowed in situ monitoring of soil water
content in an automated manner. These advances, along with an increase
in large-scale networks monitoring soil water content, stress the need
for a robust calibration framework that ensures that soil water content
measurements are accurate and reliable. We have developed an approach to
make consistent and comparable soil water content sensor calibrations
across a continental-scale network in a production framework that
incorporates a thorough accounting of uncertainties. More than 150 soil
blocks of varying characteristics from 33 locations across the United
States were used to generate soil-specific calibration coefficients for
a capacitance sensor. We found that the manufacturer’s nominal
calibration coefficients poorly fit the data for nearly all soil types.
This resulted in negative (91% of samples) and positive (5% of samples)
biases and a mean root mean square error (RMSE) of 0.123 cm(3) cm(-3) (1
sigma) relative to reference standard measurements. We derived
soil-specific coefficients, and when used with the manufacturer’s
nominal function, the biases were corrected and the mean RMSE dropped to
± 0.017 cm(3) cm(-3) (+/- 1 sigma). A logistic calibration function
further reduced the mean RMSE to ± 0.016 cm(3) cm(-3) (+/- 1 sigma)
and increased the range of soil moistures to which the calibration
applied by 18% compared with the manufacturer’s function. However, the
uncertainty of the reference standard was notable (+/- 0.022 cm(3)
cm(-3)), and when propagated in quadrature with RMSE estimates, the
combined uncertainty of the calibrated volumetric soil water content
values increased to ± 0.028 cm(3) cm(-3) regardless of the calibration
function used.&lt;/p&gt;

&lt;h3 id=&quot;lysimeters-in-vadose-zone-research&quot;&gt;Lysimeters in Vadose Zone Research&lt;/h3&gt;

&lt;p&gt;Authors:
Putz, T; Fank, J; Flury, M&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;VADOSE ZONE JOURNAL&lt;/em&gt;, 17 (1):80035-80035; MAY 17 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Lysimeters are methodological experimental tools to study the water and
matter fluxes in the vadose zone, as well as the environmental fate of
chemicals. Lysimeters are available in various types. The most
sophisticated lysimeters are filled monolithically, are equipped with a
pressure- controlled lower boundary, and are weighable, allowing the
measurement of hydraulic fluxes, i.e., rainfall, drainage,
evapotranspiration, dew, and hoar frost with high precision. This
special section of Vadose Zone Journal reports on current lysimeter
research.&lt;/p&gt;

&lt;h3 id=&quot;links-among-warming-carbon-and-microbial-dynamics-mediated-by-soil-mineral-weathering&quot;&gt;Links among warming, carbon and microbial dynamics mediated by soil mineral weathering&lt;/h3&gt;

&lt;p&gt;Authors:
Doetterl, S; Berhe, AA; Arnold, C; Bode, S; Fiener, P; Finke, P;
Fuchslueger, L; Griepentrog, M; Harden, JW; Nadeu, E; Schnecker, J; Six,
J; Trumbore, S; Van Oost, K; Vogel, C; Boeckx, P&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;NATURE GEOSCIENCE&lt;/em&gt;, 11 (8):589-+; AUG 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Quantifying soil carbon dynamics is of utmost relevance in the context
of global change because soils play an important role in land-atmosphere
gas exchange. Our current understanding of both present and future
carbon dynamics is limited because we fail to accurately represent soil
processes across temporal and spatial scales, partly because of the
paucity of data on the relative importance and hierarchical
relationships between microbial, geochemical and climatic controls.
Here, using observations from a 3,000-kyr-old soil chronosequence
preserved in alluvial terrace deposits of the Merced River, California,
we show how soil carbon dynamics are driven by the relationship between
short-term biotic responses and long-term mineral weathering. We link
temperature sensitivity of heterotrophic respiration to biogeochemical
soil properties through their relationship with microbial activity and
community composition. We found that soil mineralogy, and in particular
changes in mineral reactivity and resulting nutrient availability,
impacts the response of heterotrophic soil respiration to warming by
altering carbon inputs, carbon stabilization, microbial community
composition and extracellular enzyme activity. We demonstrate that
biogeochemical alteration of the soil matrix (and not short-term
warming) controls the composition of microbial communities and
strategies to metabolize nutrients. More specifically, weathering first
increases and then reduces nutrient availability and retention, as well
as the potential of soils to stabilize carbon.&lt;/p&gt;

&lt;h3 id=&quot;analyzing-the-mixing-performance-of-a-rotary-spader-using-digital-image-processing-and-discrete-element-modelling-dem&quot;&gt;Analyzing the mixing performance of a rotary spader using digital image processing and discrete element modelling (DEM)&lt;/h3&gt;

&lt;p&gt;Authors:
Ucgul, M; Saunders, C; Li, Pl; Lee, SH&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 151 1-10; AUG 2018&lt;/p&gt;

&lt;p&gt;Abstract:
In order to incorporate a range of surface applied materials into the
soil profile to ameliorate crop production constraints, rotary spaders
have recently been adopted in Australia. However, no fundamental studies
have been carried out to quantify the mixing ability of rotary spaders.
The discrete element method (DEM) has the potential to model soil to
rotary spader interaction in terms of soil movement. In this study a
full scale rotary spader was tested in the field and then simulated
using DEM. The DEM model predicted top soil burial to a similar depth in
the soil profile as was measured in the field. A method to compare and
quantify soil movement was also developed using digital image
processing. The forward soil movement which was not examined in the
field was also simulated using DEM and it was found that higher forward
speed increases the bite lengths, and hence results a heterogeneous top
soil mixing. It was also found that in order to carry out a proper
analysis, both cross section and forward soil movement must be
considered while quantifying the mixing ability of the rotary spader.
The results of this study proves that (1) DEM can be used to model soil
to rotary spader interaction to analyse different operation conditions
without time consuming and costly field tests which can only be
performed certain times of the year and (2) digital image processing can
be used as a method to quantify and validate simulations of field
experiments.&lt;/p&gt;

&lt;h3 id=&quot;machine-learning-approaches-for-crop-yield-prediction-and-nitrogen-status-estimation-in-precision-agriculture-a-review&quot;&gt;Machine learning approaches for crop yield prediction and nitrogen status estimation in precision agriculture: A review&lt;/h3&gt;

&lt;p&gt;Authors:
Chlingaryan, A; Sukkarieh, S; Whelan, B&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 151 61-69; AUG 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Accurate yield estimation and optimised nitrogen management is essential
in agriculture. Remote sensing (RS) systems are being more widely used
in building decision support tools for contemporary farming systems to
improve yield production and nitrogen management while reducing
operating costs and environmental impact. However, RS based approaches
require processing of enormous amounts of remotely sensed data from
different platforms and, therefore, greater attention is currently being
devoted to machine learning (ML) methods. This is due to the capability
of machine learning based systems to process a large number of inputs
and handle non-linear tasks. This paper discusses research developments
conducted within the last 15 years on machine learning based techniques
for accurate crop yield prediction and nitrogen status estimation. The
paper concludes that the rapid advances in sensing technologies and ML
techniques will provide cost-effective and comprehensive solutions for
better crop and environment state estimation and decision making. More
targeted application of the sensor platforms and ML techniques, the
fusion of different sensor modalities and expert knowledge, and the
development of hybrid systems combining different ML and signal
processing techniques are all likely to be part of precision agriculture
(PA) in the near future.&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/2018/08/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on August 21, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/07/journalDigest" />
  <id>/2018/07/journalDigest</id>
  <updated>2018-07-26T00:00:00-00:00</updated>
  <published>2018-07-26T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-16&quot;&gt;Journal Paper Digests 2018 #16&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Algorithm for post-clustering curation of DNA amplicon data yields reliable biodiversity estimates&lt;/li&gt;
  &lt;li&gt;Ecosystem services provided by heavy metal-contaminated soils in China&lt;/li&gt;
  &lt;li&gt;A family of (dis)similarity measures based on evenness and its relationship with beta diversity&lt;/li&gt;
  &lt;li&gt;Assimilation of Spatially Sparse In Situ Soil Moisture Networks into a Continuous Model Domain&lt;/li&gt;
  &lt;li&gt;A refined method for rapidly determining the relationship between canopy NDVI and the pasture evapotranspiration coefficient&lt;/li&gt;
  &lt;li&gt;Discrimination of tea varieties using FTIR spectroscopy and allied Gustafson-Kessel clustering&lt;/li&gt;
  &lt;li&gt;FORAGE - An online system for generating and delivering property-scale decision support information for grazing land and environmental management&lt;/li&gt;
  &lt;li&gt;DeepDendro - A tree rings detector based on a deep convolutional neural network&lt;/li&gt;
  &lt;li&gt;Evaluating pedotransfer functions of the Splintex model&lt;/li&gt;
  &lt;li&gt;Forest species diversity mapping using airborne LiDAR and hyperspectral data in a subtropical forest in China&lt;/li&gt;
  &lt;li&gt;Influence of species richness, evenness, and composition on optical diversity: A simulation study&lt;/li&gt;
  &lt;li&gt;Australian wheat production expected to decrease by the late 21st century&lt;/li&gt;
  &lt;li&gt;Exploring the case for a national-scale soil conservation and soil condition framework for evaluating and reporting on environmental and land use policies&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;algorithm-for-post-clustering-curation-of-dna-amplicon-data-yields-reliable-biodiversity-estimates&quot;&gt;Algorithm for post-clustering curation of DNA amplicon data yields reliable biodiversity estimates&lt;/h3&gt;

&lt;p&gt;Authors:
Froslev, TG; Kjoller, R; Bruun, HH; Ejrnaes, R; Brunbjerg, AK; Pietroni,
C; Hansen, AJ&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;NATURE COMMUNICATIONS&lt;/em&gt;, 8 1188-1188; OCT 30 2017&lt;/p&gt;

&lt;p&gt;Abstract:
DNA metabarcoding is promising for cost-effective biodiversity
monitoring, but reliable diversity estimates are difficult to achieve
and validate. Here we present and validate a method, called LULU, for
removing erroneous molecular operational taxonomic units (OTUs) from
community data derived by high-throughput sequencing of amplified marker
genes. LULU identifies errors by combining sequence similarity and
co-occurrence patterns. To validate the LULU method, we use a unique
data set of high quality survey data of vascular plants paired with
plant ITS2 metabarcoding data of DNA extracted from soil from 130 sites
in Denmark spanning major environmental gradients. OTU tables are
produced with several different OTU definition algorithms and
subsequently curated with LULU, and validated against field survey data.
LULU curation consistently improves alpha-diversity estimates and other
biodiversity metrics, and does not require a sequence reference
database; thus, it represents a promising method for reliable
biodiversity estimation.&lt;/p&gt;

&lt;h3 id=&quot;ecosystem-services-provided-by-heavy-metal-contaminated-soils-in-china&quot;&gt;Ecosystem services provided by heavy metal-contaminated soils in China&lt;/h3&gt;

&lt;p&gt;Authors:
Ding, KB; Wu, Q; Wei, H; Yang, WJ; Sere, G; Wang, SZ; Echevarria, G;
Tang, YT; Tao, J; Morel, JL; Qiu, RL&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;JOURNAL OF SOILS AND SEDIMENTS&lt;/em&gt;, 18 (2):380-390; FEB 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soils provide a variety of ecosystem services (ESs) that are crucial to
food security, water security, energy security, climate change
abatement, and biodiversity, especially in densely populated countries
such as China. At present, China is facing great challenges from serious
soil heavy metal (HM) contamination which has damaged soil ESs and soil
security. In this paper, we evaluate the ESs that contaminated soils can
potentially provide before and after remediation, and we explore the
connections between these ESs and the achievement of soil security in
China.After an introduction to the concepts of ESs and soil security and
a review of the current status of soil HM contamination in China, the
ESs that can potentially be provided by HM-contaminated soils are
discussed. Finally, we discuss the current remediation status of
HM-contaminated soils from the standpoint of optimizing the ability of
these soils to provide ESs.The status of the provision of ESs by
HM-contaminated soils of croplands, brownfields, and mining wastelands
is described in detail. Contaminated cropland soils fail to provide
provisioning (e.g., food production), cultural, and regulating services,
while the regulating and supporting services of brownfield soils are
greatly reduced. The ESs of mining wasteland soils have been severely
damaged, resulting in a high potential for contamination of surrounding
ecosystems. Recent soil remediation projects have demonstrated that the
damaged ESs of HM-contaminated soils can be restored, which would
enhance Chinese soil security. However, it has often been the case that
only visible ESs (e.g., food production and vegetation cover) are
addressed, while other less noticeable but important services (e.g.,
water quality and biodiversity) are neglected. Therefore, we propose a
framework for the evaluation of ESs provided by HM-contaminated
soils.The ESs that could potentially be provided by HM-contaminated
soils would help to achieve soil security in China, not only by
improving food security, water security, and energy security but also by
helping to protect soil biodiversity and abate global climate change.
The ESs provided by HM-contaminated soils should be taken into account
in soil policy and management systems as well as by the remediation
industry.&lt;/p&gt;

&lt;h3 id=&quot;a-family-of-dissimilarity-measures-based-on-evenness-and-its-relationship-with-beta-diversity&quot;&gt;A family of (dis)similarity measures based on evenness and its relationship with beta diversity&lt;/h3&gt;

&lt;p&gt;Authors:
Ricotta, C&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;ECOLOGICAL COMPLEXITY&lt;/em&gt;, 34 69-73; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
In this paper, I propose a new evenness-based method for calculating
plot-to-plot (dis)similarity coefficients. The method is very flexible,
as (dis)similarity can be calculated for any kind of species abundance
data (also including functional or phylogenetic differences between
species), and can be easily generalized to multiple sites. To show how
the proposed method works in practice, the behavior of two similarity
coefficients based on Pielou’s and Williams’ evenness is examined with
simulated data representing an ideal ecological gradient. Being derived
from classical evenness indices, which have been used in ecology for
decades, this new family of measures has a great potential for future
research in community ecology and multivariate analysis.&lt;/p&gt;

&lt;h3 id=&quot;assimilation-of-spatially-sparse-in-situ-soil-moisture-networks-into-a-continuous-model-domain&quot;&gt;Assimilation of Spatially Sparse In Situ Soil Moisture Networks into a Continuous Model Domain&lt;/h3&gt;

&lt;p&gt;Authors:
Gruber, A; Crow, WT; Dorigo, WA&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;WATER RESOURCES RESEARCH&lt;/em&gt;, 54 (2):1353-1367; FEB 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Growth in the availability of near-real-time soil moisture observations
from ground-based networks has spurred interest in the assimilation of
these observations into land surface models via a two-dimensional data
assimilation system. However, the design of such systems is currently
hampered by our ignorance concerning the spatial structure of error
afflicting ground and model-based soil moisture estimates. Here we apply
newly developed triple collocation techniques to provide the spatial
error information required to fully parameterize a two-dimensional (2-D)
data assimilation system designed to assimilate spatially sparse
observations acquired from existing ground-based soil moisture networks
into a spatially continuous Antecedent Precipitation Index (API) model
for operational agricultural drought monitoring. Over the contiguous
United States (CONUS), the posterior uncertainty of surface soil
moisture estimates associated with this 2-D system is compared to that
obtained from the 1-D assimilation of remote sensing retrievals to
assess the value of ground-based observations to constrain a surface
soil moisture analysis. Results demonstrate that a fourfold increase in
existing CONUS ground station density is needed for ground network
observations to provide a level of skill comparable to that provided by
existing satellite-based surface soil moisture retrievals.&lt;/p&gt;

&lt;h3 id=&quot;a-refined-method-for-rapidly-determining-the-relationship-between-canopy-ndvi-and-the-pasture-evapotranspiration-coefficient&quot;&gt;A refined method for rapidly determining the relationship between canopy NDVI and the pasture evapotranspiration coefficient&lt;/h3&gt;

&lt;p&gt;Authors:
Alam, MS; Lamb, DW; Rahman, MM&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 147 12-17; APR 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The estimation of actual crop evapotranspiration (ETc) from any given
land cover or crop type is important for irrigation water management and
agricultural water consumption analysis. The main parameter used for
such estimations is the crop coefficient (K-c). Spectral reflectance
indices, such as the normalized difference vegetation index (NDVI) and
the crop coefficient of a specific crop or pasture canopy are important
indicators of ‘vigour’, namely the photosynthetic activity and rate of
biomass accumulation. Measuring both parameters simultaneously, with a
view to understanding how they interact, or for creating optical,
surrogate indicators of K-c is very difficult because K-c itself is
difficult to measure. In this study a portable enclosed chamber was used
to measure ET, of a pasture and subsequently calculated K-c from
reference evapotranspiration (ETc) data derived from a nearby automatic
weather station (AWS). Calibration of the chamber confirms the
suitability of the device to measure the amount of water vapour produced
by local plant evapotranspiration, producing a calibration factor (C)
close to 1 (C = 1.02, R-2 = 0.87). The coincident NDVI values were
measured using a portable active optical sensor. In a test involving a
pasture (Festuca arundinacea var. Dovey) at two different stages of
growth in two consecutive growing seasons, the NDVI and crop
coefficients were observed to be strongly correlated (R-2 = 0.80 and
0.77, respectively). A polynomial regression (R-2 = 0.84) was found to
be the best fit for the combined, multi-temporal KC-NDVI relationship.
The main advantages of this method include the suitability of operating
at a smaller scale (&amp;lt; 1 m(2)), in real time and repeatability.&lt;/p&gt;

&lt;h3 id=&quot;discrimination-of-tea-varieties-using-ftir-spectroscopy-and-allied-gustafson-kessel-clustering&quot;&gt;Discrimination of tea varieties using FTIR spectroscopy and allied Gustafson-Kessel clustering&lt;/h3&gt;

&lt;p&gt;Authors:
Wu, XH; Zhu, J; Wu, B; Sun, J; Dai, CX&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 147 64-69; APR 2018&lt;/p&gt;

&lt;p&gt;Abstract:
For the purpose of classifying tea varieties, allied Gustafson-Kessel
(AGK) clustering was proposed to cluster the Fourier transform infrared
reflectance (FTIR) spectra of tea samples. As a fuzzy clustering
algorithm, AGK can not only produce fuzzy membership and typicality
values but also cluster various shapes of data with the help of
Gustafson-Kessel (GK) clustering. After FTIR spectra were collected by
FTIR-7600 infrared spectrometer, they were preprocessed with multiple
scatter correction (MSC). To reduce the dimensionality of FTIR spectra
and make the classification of data easily, principal component analysis
(PCA) and linear discriminant analysis (LDA) were used to process the
FTIR spectra. After that, fuzzy c-means (FCM) clustering, possibilistic
c-means (PCM) clustering, AGK clustering and allied fuzzy c-means (AFCM)
clustering were performed to cluster data, respectively. The clustering
accuracy of AGK achieved 93.9% which was the highest one than other
fuzzy clustering algorithms. The results obtained in experiments showed
that AGK coupled with FTIR spectroscopy could provide an effective
discrimination model for classification of tea varieties successfully.&lt;/p&gt;

&lt;h3 id=&quot;forage---an-online-system-for-generating-and-delivering-property-scale-decision-support-information-for-grazing-land-and-environmental-management&quot;&gt;FORAGE - An online system for generating and delivering property-scale decision support information for grazing land and environmental management&lt;/h3&gt;

&lt;p&gt;Authors:
Zhang, BS; Carter, J&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 150 302-311; JUL 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Queensland grazing industries operate in one of the world’s most
variable climates and face enormous challenges to achieve profitability
and sustainability. To assist grazing enterprises, the Queensland
Government has developed an operational online information system -
FORAGE, to facilitate best management practice for grazing land. The
FORAGE system provides land managers with property-scale information
relating to rainfall, ground cover, soil erodibility, land types, tree
density, seasonal climate outlooks and pasture growth simulated using
the GRASP grazing system model. This information is site-specific and
tailored to facilitate on-ground management decisions common to
Queensland grazing enterprises. The FORAGE system makes complex
remotely-sensed data, information from a range of databases and pasture
growth models more accessible and relevant to land managers. This paper
describes the structure, resources (e.g. software, databases and
models), information generating processes, delivery mechanisms and
information products of the FORAGE system.&lt;/p&gt;

&lt;h3 id=&quot;deepdendro---a-tree-rings-detector-based-on-a-deep-convolutional-neural-network&quot;&gt;DeepDendro - A tree rings detector based on a deep convolutional neural network&lt;/h3&gt;

&lt;p&gt;Authors:
Fabijanska, A; Danek, M&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 150 353-363; JUL 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Tree-ring analysis is widely used in many different fields of science.
Among others, information carried by annual tree rings allows
determining the rates of environmental changes and the timing of events.
The analysis of the tree rings requires prior detection of tree-ring
boundaries which is traditionally performed manually with the use of
stereoscope, a moving table, and a data recorder. This is, however,
time-consuming and very cumbersome, especially in the case of long
tree-ring series. Several approaches to an automatic detection of
tree-ring boundaries exist; however, they use basic image processing
techniques. As a result, their accuracy is limited, and their
application is restricted mainly to conifer wood where the tree-ring
boundaries are clearly defined. There also exists some commercial
software, however, none of them is perfect as they fail when applied to
the ring-porous wood type. Therefore this paper proposes a DeepDendro
approach i.e., an automatic tree-ring boundary detector built upon the
U-Net convolutional network. To the authors’ best knowledge this is the
first study which applies ConvNets for an automatic detection of tree
rings. The performance of the existing approach was tested on the
dataset of images of wood cores of three species that represent the
ring-porous type of the anatomical structure (Quercus sp., Fraxinus
excelsior L., and Ulmus sp.). The testing dataset contained over 2500 of
tree-ring boundaries, 96% of which were determined correctly by the
proposed method. The corresponding precision is at the level of 0.97
which confirms that only a few false boundaries were introduced by the
DeepDendro approach. The results were obtained automatically without any
user interaction.&lt;/p&gt;

&lt;h3 id=&quot;evaluating-pedotransfer-functions-of-the-splintex-model&quot;&gt;Evaluating pedotransfer functions of the Splintex model&lt;/h3&gt;

&lt;p&gt;Authors:
Dos Reis, AMH; Armindo, RA; Duraes, MF; Van Lier, QD&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;EUROPEAN JOURNAL OF SOIL SCIENCE&lt;/em&gt;, 69 (4):685-697; JUL 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The soil water retention curve (SWRC) is an essential hydraulic function
for the understanding and modelling of soil hydraulic processes. Its
direct determination is time consuming and sometimes expensive because
it requires extensive sampling, especially when spatial and temporal
variation of soil hydraulic properties are an issue. The use of
pedotransfer functions (PTFs) is a viable alternative to predict the
parameters of SWRC from more easily determined soil attributes. Splintex
is a physically based engineering model containing two PTFs to estimate
SWRC parameters and saturated hydraulic conductivity, but its
performance and functionality have not yet been fully evaluated and
disseminated for soil science. We examined the functionality of the PTFs
available in Splintex to estimate parameters of the Van Genuchten-Mualem
(VGM) SWRC equation with a laboratory-measured dataset containing
information on particle size, bulk and particle density, saturated water
content and parameters of the SWRCs. In addition, we tested the
performance of both PTFs for deriving some soil physical-structural
variables calculated from estimated SWRC parameters. Compared with VGM
parameters fitted to the laboratory dataset, the model performed well.
Its predictive performance for soil air capacity, relative field
capacity and soil physical-structural quality indices was also
evaluated. The performance of Splintex for estimating the VGM parameters
depended on the combined effect of all input variables rather than on
isolated correlations between an input variable and a model parameter.&lt;/p&gt;

&lt;h3 id=&quot;forest-species-diversity-mapping-using-airborne-lidar-and-hyperspectral-data-in-a-subtropical-forest-in-china&quot;&gt;Forest species diversity mapping using airborne LiDAR and hyperspectral data in a subtropical forest in China&lt;/h3&gt;

&lt;p&gt;Authors:
Zhao, YJ; Zeng, Y; Zheng, ZJ; Dong, WX; Zhao, D; Wu, BF; Zhao, QJ&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 213 104-114; AUG 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Monitoring biodiversity is essential for the conservation and management
of forest resources. A method called “spectranomics” that maps the
diversity of forest species based on species-driven leaf optical traits
using imaging spectroscopy has been developed for tropical forests in
earlier studies. In this study we applied the “spectranomics” method in
combination with airborne hyperspectral (PHI-3 sensor with 1 m spatial
resolution) and LiDAR ( &amp;gt; 4 points/m(2)) data to first identify
interspecies variations in biochemical and structural properties of
trees and then estimate the tree species diversity within the
Shennongjia Forest Nature Reserve in China. Firstly, we used the
watershed algorithm based on morphological crown control to isolate
individual tree crowns (ITCs) from the LiDAR data. For each ITC, we then
calculated seven vegetation indices (VIs) representing key biochemical
properties from the hyperspectral data and additionally derived the
LiDAR-based tree height which was identified to support the
discrimination of the tree species in a preceding analysis. Finally we
utilized the combination of the seven selected VIs and tree height as
input to a self-adaptive Fuzzy C-Means (FCM) clustering algorithm. The
FCM algorithm was applied to fixed subsets of 30 m x 30 m and it was
assumed that the number of clusters identified within a subset
represents the number of occurring species. The species richness and
Shannon-Wiener diversity index calculated from the clustering outputs
correlated well with the field reference data (R-2 = 0.83, RMSE = 0.25).
The results show that forest species diversity can be directly predicted
using the suggested clustering method based on crown-by-crown variations
in biochemical and structural properties in the examined subtropical
forest without the need to distinguish the individual tree species.&lt;/p&gt;

&lt;h3 id=&quot;influence-of-species-richness-evenness-and-composition-on-optical-diversity-a-simulation-study&quot;&gt;Influence of species richness, evenness, and composition on optical diversity: A simulation study&lt;/h3&gt;

&lt;p&gt;Authors:
Wang, R; Gamon, JA; Schweiger, AK; Cavender-Bares, J; Townsend, PA;
Zygielbaum, AI; Kothari, S&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 211 218-228; JUN 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
While remote sensing has increasingly been applied to estimate a
biodiversity directly through optical diversity, there is a need to
better understand the mechanisms behind the optical
diversity-biodiversity relationship. Here, we examined the relative
contributions of species richness, evenness, and composition to the
spectral reflectance, and consider factors confounding the remote
estimation of species diversity in a prairie ecosystem experiment at
Cedar Creek Ecosystem Science Reserve, Minnesota. We collected
hyperspectral reflectance of 16 prairie species using a tram-mounted
imaging spectrometer, and a full-range field spectrometer with a leaf
clip, and simulated plot-level images from both instruments with
different species richness, evenness and composition. Two optical
diversity metrics were explored: the coefficient of variation (CV) of
spectral reflectance in space and classified species derived from
Partial Least Squares Discriminant Analysis (PLS-DA), a spectral
classification method. Both optical diversity metrics (CV and PLS-DA
classified species) were affected by species richness and evenness.
Diversity metrics that combined species richness and evenness together
(e.g. Shannon’s index) were more strongly correlated with optical
diversity than either metric alone. Image-derived data were influenced
by both leaf traits and canopy structure and showed larger spectral
variability than leaf clip data, indicating that sampling methods
influence optical diversity. Leaf and canopy traits both contributed to
optical diversity, sometimes in complex or contradictory ways. Large
within-species variation sometimes confounded biodiversity estimation
from optical diversity, and a single species markedly altered the
optical-biodiversity relationship. Biodiversity estimation from CV was
strongly influenced by soil background, while estimation from PLS-DA
classified species was not sensitive to soil background. These findings
are consistent with recent empirical studies and demonstrate that
modeling approaches can be used to explore effects of spatial scale and
guide regional studies of biodiversity estimation using high spatial and
spectral resolution remote sensing.&lt;/p&gt;

&lt;h3 id=&quot;australian-wheat-production-expected-to-decrease-by-the-late-21st-century&quot;&gt;Australian wheat production expected to decrease by the late 21st century&lt;/h3&gt;

&lt;p&gt;Authors:
Wang, B; Liu, D; O’Leary, GJ; Asseng, S; Macadam, I; Lines-Kelly, R;
Yang, XH; Clark, A; Crean, J; Sides, T; Xing, HT; Mi, CR; Yu, Q&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GLOBAL CHANGE BIOLOGY&lt;/em&gt;, 24 (6):2403-2415; JUN 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Climate change threatens global wheat production and food security,
including the wheat industry in Australia. Many studies have examined
the impacts of changes in local climate on wheat yield per hectare, but
there has been no assessment of changes in land area available for
production due to changing climate. It is also unclear how total wheat
production would change under future climate when autonomous adaptation
options are adopted. We applied species distribution models to
investigate future changes in areas climatically suitable for growing
wheat in Australia. A crop model was used to assess wheat yield per
hectare in these areas. Our results show that there is an overall
tendency for a decrease in the areas suitable for growing wheat and a
decline in the yield of the northeast Australian wheat belt. This
results in reduced national wheat production although future climate
change may benefit South Australia and Victoria. These projected
outcomes infer that similar wheat-growing regions of the globe might
also experience decreases in wheat production. Some cropping adaptation
measures increase wheat yield per hectare and provide significant
mitigation of the negative effects of climate change on national wheat
production by 2041-2060. However, any positive effects will be
insufficient to prevent a likely decline in production under a high CO2
emission scenario by 2081-2100 due to increasing losses in suitable
wheat-growing areas. Therefore, additional adaptation strategies along
with investment in wheat production are needed to maintain Australian
agricultural production and enhance global food security. This scenario
analysis provides a foundation towards understanding changes in
Australia’s wheat cropping systems, which will assist in developing
adaptation strategies to mitigate climate change impacts on global wheat
production.&lt;/p&gt;

&lt;h3 id=&quot;exploring-the-case-for-a-national-scale-soil-conservation-and-soil-condition-framework-for-evaluating-and-reporting-on-environmental-and-land-use-policies&quot;&gt;Exploring the case for a national-scale soil conservation and soil condition framework for evaluating and reporting on environmental and land use policies&lt;/h3&gt;

&lt;p&gt;Authors:
Humphries, RN; Brazier, RE&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;SOIL USE AND MANAGEMENT&lt;/em&gt;, 34 (1):134-146; MAR 2018&lt;/p&gt;

&lt;p&gt;Abstract:
It has long been realized that the conservation of soil capital and
ecosystem services are of paramount importance, resulting in a growing
case for a change in attitude and policymaking in respect of soils.
Current UK and EU approaches are risk-based and focused on measures to
manage and remediate the adverse impact of current policies and
practices directed at maximizing productivity and profit, rather than
one of resource conservation. Increasing soil loss and degradation is
evidence that current policy is not working and a new approach is
needed. In the UK there is governmental ambition to progress towards
natural capital-led land use policies but, in the absence of a framework
to determine the relative condition of the soil resource, the delivery
of sustainable soil conservation policies will continue to be inhibited.
Common Standards Monitoring (CSM) is an established monitoring and
management framework (based on ecosystem structure, function and
process) and has been effectively deployed for almost two decades by the
UK Government for the monitoring and reporting of key biological and
earth science natural capital and ecosystem services from field’ to
local, regional and national levels to the European Commission. It is
argued that a CSM for soils could be developed for the UK’s soil
resources as well as for those elsewhere, and would be able to deliver a
conservation rather than the current risk-based approach. It is capable
of accommodating the complexities and variation in soil types and
functions and potentially being practical and cost-effective in its
implementation.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/07/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on July 26, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[UseR Conference 2018, Brisbane, Australia]]></title>
 <link rel="alternate" type="text/html" href="/2018/07/UseR2018" />
  <id>/2018/07/UseR2018</id>
  <updated>2018-07-17T00:00:00-00:00</updated>
  <published>2018-07-17T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;p&gt;I did not attend this conference, but who needs to when the presentations are uploaded for all and people share their work publically. Sorry to be cynical, but one can not attend all conferences. Credit must go to the R community who are an open and willing people. It from the twitter feed and and the general impression i felt, it seemed like a fun, engaging and comprehensive conference.&lt;/p&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;the-youtube-videos&quot;&gt;The Youtube videos&lt;/h3&gt;
&lt;hr /&gt;

&lt;p&gt;How awesome is it that all the conference talks and presentations were recorded for all the view at ones own pleasure. Lets hope they stay up for a while.&lt;/p&gt;

&lt;div class=&quot;video&quot;&gt;&lt;figure&gt;&lt;iframe width=&quot;640&quot; height=&quot;480&quot; src=&quot;//www.youtube.com/embed/watch?v=lfG8cTqRRNA&amp;amp;list=UU_R5smHVXRYGhZYDJsnXTwg&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;From the few videos that i have seen it pays to keep an ear out for the speaker to tell you about the Github repo where you will find the code and exercises that go with the talk.&lt;/p&gt;

&lt;h3 id=&quot;the-twitter-feed&quot;&gt;The Twitter feed&lt;/h3&gt;
&lt;hr /&gt;

&lt;p&gt;Twitter and R go hand in hand. The hash tag &lt;em&gt;#rstats&lt;/em&gt; is always a a good one to follow for just general R stuff. The UseR Brisbane conference had its own hash tag: &lt;em&gt;user2018&lt;/em&gt;. Lots of delights there and interesting and helpful people to follow.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/07/UseR2018&quot;&gt;UseR Conference 2018, Brisbane, Australia&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on July 17, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/07/journalDigest" />
  <id>/2018/07/journalDigest</id>
  <updated>2018-07-13T00:00:00-00:00</updated>
  <published>2018-07-13T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-15&quot;&gt;Journal Paper Digests 2018 #15&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Status and Perspectives on the Cosmic-Ray Neutron Method for Soil Moisture Estimation and Other Environmental Science Applications&lt;/li&gt;
  &lt;li&gt;From tailings to soil: long-term effects of amendments on progress and trajectory of soil formation and in situ remediation in bauxite residue&lt;/li&gt;
  &lt;li&gt;Bibliometric analysis of insights into soil remediation&lt;/li&gt;
  &lt;li&gt;An improved estimation model for soil heavy metal(loid) concentration retrieval in mining areas using reflectance spectroscopy&lt;/li&gt;
  &lt;li&gt;Global-scale evaluation of SMAP, SMOS and ASCAT soil moisture products using triple collocation&lt;/li&gt;
  &lt;li&gt;Mining the regularity of landscape-structure heterogeneity to improve urban land-cover mapping&lt;/li&gt;
  &lt;li&gt;Urban land-use mapping using a deep convolutional neural network with high spatial resolution multispectral remote sensing imagery&lt;/li&gt;
  &lt;li&gt;NASA’s Black Marble nighttime lights product suite&lt;/li&gt;
  &lt;li&gt;A pedometric technique to delimitate soil-specific zones at field scale&lt;/li&gt;
  &lt;li&gt;A preliminary spatial quantification of the soil security dimensions for Tasmania&lt;/li&gt;
  &lt;li&gt;The distribution and morphology of microplastics in coastal soils adjacent to the Bohai Sea and the Yellow Sea&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;status-and-perspectives-on-the-cosmic-ray-neutron-method-for-soil-moisture-estimation-and-other-environmental-science-applications&quot;&gt;Status and Perspectives on the Cosmic-Ray Neutron Method for Soil Moisture Estimation and Other Environmental Science Applications&lt;/h3&gt;

&lt;p&gt;Authors:
Andreasen, M; Jensen, KH; Desilets, D; Franz, TE; Zreda, M; Bogena, HR;
Looms, MC&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;VADOSE ZONE JOURNAL&lt;/em&gt;, 16 (8):NIL_5-NIL_15; AUG 2017&lt;/p&gt;

&lt;p&gt;Abstract:
Since the introduction of the cosmic-ray neutron method for soil
moisture estimation, numerous studies have been conducted to test and
advance the accuracy of the method. Almost 200 stationary neutron
detector systems have been installed worldwide, and roving systems have
also started to gain ground. The intensity of low-energy neutrons
produced by cosmic rays, measured above the ground surface, is sensitive
to soil moisture in the upper decimeters of the ground within a radius
of hectometers. The method has been proven suitable for estimating soil
moisture for a wide range of land covers and soil types and has been
used for hydrological modeling, data assimilation, and calibration and
validation of satellite products. The method is challenged by the effect
on neutron intensity of other hydrogen pools such as vegetation, canopy
interception, and snow. Identifying the signal of the different pools
can be used to improve the cosmic-ray neutron soil moisture method as
well as extend the application to, e.g., biomass and canopy interception
surveying. More fundamental research is required for advancement of the
method to include more energy ranges and consider multiple height
levels.&lt;/p&gt;

&lt;h3 id=&quot;from-tailings-to-soil-long-term-effects-of-amendments-on-progress-and-trajectory-of-soil-formation-and-in-situ-remediation-in-bauxite-residue&quot;&gt;From tailings to soil: long-term effects of amendments on progress and trajectory of soil formation and in situ remediation in bauxite residue&lt;/h3&gt;

&lt;p&gt;Authors:
Santini, TC; Fey, MV&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;JOURNAL OF SOILS AND SEDIMENTS&lt;/em&gt;, 18 (5):1935-1949; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Bauxite residue is an alkaline, saline-sodic byproduct of the Bayer
process for alumina production. In situ remediation of bauxite residue
is a cost-effective management strategy that transforms the residue into
a soil-like medium; however, the effects of applied amendments on
trajectories and progress of soil formation over the medium-long term
are unclear. Here, we investigated how in situ remediation amendments
guided the progress and trajectories of soil formation in bauxite
residue over 20 years.Chemical and mineralogical properties of samples
from a field site in Corpus Christi, Texas, were analyzed to compare the
effects of three different amendments (sewage sludge, yard waste, and
topsoil) on progress and trajectories of soil formation in bauxite
residue. Bauxite residue was deposited ca. 40 years prior to sampling;
amendments were applied at varying frequencies for 20 years prior to
sampling.Sewage sludge was the most effective amendment for decreasing
pH, EC, and total alkalinity of bauxite residue and increasing plant
nutrients and exchangeable cations. Overall soil development is in an
early stage; however, incipient soil horizons were identified from
differences in chemical and mineralogical properties with depth.
Although amendment type influenced the progress of soil formation, it
did not appear to influence the overall trajectory of soil formation
processes. Soil derived from the bauxite residue parent material is
likely to progress from a spolic Technosol to a technic Cambisol and
finally either a Ferralsol or Luvisol depending on organic matter
dynamics.Long-term impacts of amendments were consistent with those
observed in previous short-term studies, with some outcomes improving
further over the long term (e.g., Na+ leaching) and were realized to a
depth enabling maintenance of a vegetation cover. These outcomes provide
strong support for the use of in situ remediation as an alternative to
soil capping that enables transformation of bauxite residue to a soil
capable of supporting a self-sustaining ecosystem.&lt;/p&gt;

&lt;h3 id=&quot;bibliometric-analysis-of-insights-into-soil-remediation&quot;&gt;Bibliometric analysis of insights into soil remediation&lt;/h3&gt;

&lt;p&gt;Authors:
Mao, GZ; Shi, TT; Zhang, S; Crittenden, J; Guo, SY; Du, HB&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;JOURNAL OF SOILS AND SEDIMENTS&lt;/em&gt;, 18 (7):2520-2534; JUL 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Environmental pollution is a great concern worldwide. The soil
environment, an important compartment for global elemental cycling, has
received tremendous research focuses over the past 20 years. This study
investigated the current research activities in the field of
contaminated soil remediation and determined the trend of research
topics.We performed a quantitative bibliometric analysis based on
journal articles published within the past 20 years using the Science
Citation Index and Social Sciences Citation Index databases on the Web
of Science. To further analyze the publication performance and identify
the major soil contamination topics, we employed social network analysis
and S-curve predictions.Chemosphere and Journal of Hazardous Materials
were the most productive journals with a total of 433 and 431 articles
from 1996 to 2015 on contaminated soil remediation, respectively. China
had the largest amount of publications (n = 1518) and the Chinese
Academy of Science was the most prominent institution (n = 475). Keyword
analysis further identified the most studied soil pollutants, such as
polycyclic aromatic hydrocarbons, crude oil, and heavy metals, in the
top five productive countries, including China, USA, Spain, India, and
Canada. Moreover, soil remediation technologies, including microbial
remediation, phytoremediation, and electrokinetic remediation, were the
major technologies receiving increasing interest in the results of the
prediction analysis.Our results identified the hotspots and developing
trends of contaminated soil remediation studies and provide guidance for
future research directions. However, transitions from the laboratory to
field implementations are still required. Bibliometric analysis,
combined with patent analysis, social network analysis, and S-curve
prediction, is a useful tool to provide a quantitative measurement of
research activities in the past and present, enabling a prediction on
the future study of soil remediation.&lt;/p&gt;

&lt;h3 id=&quot;an-improved-estimation-model-for-soil-heavy-metalloid-concentration-retrieval-in-mining-areas-using-reflectance-spectroscopy&quot;&gt;An improved estimation model for soil heavy metal(loid) concentration retrieval in mining areas using reflectance spectroscopy&lt;/h3&gt;

&lt;p&gt;Authors:
Tan, K; Wang, HM; Zhang, QQ; Jia, XP&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;JOURNAL OF SOILS AND SEDIMENTS&lt;/em&gt;, 18 (5):2008-2022; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
An advanced estimation model CARS-PLS (competitive adaptive reweighted
sampling-partial least squares) has been developed for feature
extraction and soil contamination analysis. However, this method works
well for a single mining area and has limited capacity in coping with
the variations from multiple sites. In this paper, we present an
improved estimation model, CARS-PLS-SVM, to cope with the nonlinear
problem in multiple sites with SVM (support vector machines).We selected
two study areas located in metal mining and coal mining areas of north
China. A total of 65 soil samples were collected. The heavy metal(loid)
concentrations (Cr and As) were determined by inductively coupled
plasma-mass spectrometry (ICP-MS) and atomic fluorescence spectrometry
(AFS), and the visible and near-infrared spectra of the soil samples
were measured with an ASD (Analytical Spectral Devices) field
spectrometer (350-2500 nm). Samples were divided into calibration set (n
= 41) and validation set (m = 24) according to heavy metal(loid)
concentration. After different pretreatment methods, the new features
extracted from CARS-PLS are used as the input to model the data further
with SVMs.The performance of CARS-PLS-SVM was investigated under seven
different pretreatment methods. Results showed that using combination of
Savitzky-Golay and standard normal transformation pretreatment method
achieved the best accuracy for Cr estimation (coefficient of
determination for prediction, R (p) (2) = 0.9705, root-mean-square error
for prediction, RMSEP = 5.0253, residual prediction deviation, RPD =
5.9001, ratio of prediction performance to interquartile range, RPIQ =
11.4043) and for As prediction (R (p) (2) = 0.9483; RMSEP = 1.2024; RPD
= 3.0689; RPIQ = 5.3643). Besides, CARS-PLS-SVM is better than partial
least squares (PLS) regression under the same pretreatment methods.
Compared with three current state-of-the-art models: wavelet transform
PLS (WT-PLS), synergy interval PLS (siPLS), and the CARS-PLS model,
CARS-PLS-SVM was found to be superior to the other methods for Cr
prediction (R (p) (2) = 0.9705; RMSEP = 5.0253; RPD = 5.9001; RPIQ =
11.4043) and As prediction (R (p) (2) = 0.9483; RMSEP = 1.2024; RPD =
3.0689; RPIQ = 11.5.3643).The results demonstrate that compared with
other linear models, the nonlinear model CARS-PLS-SVM has the highest
precision in soil heavy metal(loid) estimation modeling of multiple
mining areas by the use of proper spectral feature extraction from the
pretreated spectra.&lt;/p&gt;

&lt;h3 id=&quot;global-scale-evaluation-of-smap-smos-and-ascat-soil-moisture-products-using-triple-collocation&quot;&gt;Global-scale evaluation of SMAP, SMOS and ASCAT soil moisture products using triple collocation&lt;/h3&gt;

&lt;p&gt;Authors:
Chen, F; Crow, WT; Bindlish, R; Colliander, A; Burgin, MS; Asanuma, J; Aida, K&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 214 1-13; SEP 1 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Global-scale surface soil moisture products are currently available from multiple remote sensing platforms. Footprint-scale assessments of these products are generally restricted to limited number of densely-instrumented validation sites. However, by taking active and passive soil moisture products together with a third independent soil moisture estimates via land surface modeling, triple collocation (TC) can be applied to estimate the correlation metric of satellite soil moisture products (versus an unknown ground truth) over a quasi-global domain. Here, an assessment of Soil Moisture Active Passive (SMAP), Soil Moisture Ocean Salinity (SMOS) and Advanced SCATterometer (ASCAT) surface soil moisture retrievals via TC is presented. Considering the potential violation of TC error assumptions, the impact of active-passive and satellite-model error cross correlations on the TC-derived inter-comparison results is examined at in situ sites using quadruple collocation analysis. In addition, confidence intervals for the TC-estimated correlation metric are constructed from moving-block bootstrap sampling designed to preserve the temporal persistence of the original (unevenly-sampled) soil moisture time series. This study is the first to apply TC to obtain a robust global-scale cross-assessment of SMAP, SMOS and ASCAT soil moisture retrieval accuracy in terms of anomaly temporal correlation. Our results confirm the overall advantage of SMAP (with a global average anomaly correlation of 0.76) over SMOS
(0.66) and ASCAT (0.63) that has been established in several recent regional, ground-based studies. SMAP is also the best-performing product over the majority of applicable land pixels (52%), although SMOS and ASCAT each shows advantage in distinct geographic regions.&lt;/p&gt;

&lt;h3 id=&quot;mining-the-regularity-of-landscape-structure-heterogeneity-to-improve-urban-land-cover-mapping&quot;&gt;Mining the regularity of landscape-structure heterogeneity to improve urban land-cover mapping&lt;/h3&gt;

&lt;p&gt;Authors:
Zheng, ZJ; Du, SH; Wang, YC; Wang, Q&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 214 14-32; SEP 1 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The availability of remote sensing images of various resolutions has enabled the incorporation of landscape structures in land-cover mapping.
Despite the effectiveness of landscape metrics in quantifying landscape structures, they are inadequate in characterizing three elements:
spatial neighborhoods, spatial dependencies, and semantic dependencies.
Moreover, methods for mining the regularity of landscape-structure heterogeneity (i.e., spatial variations in landscape structures) are still limited, particularly for applications in urban land-cover mapping. This study hence proposes a novel approach with the aims to (1) characterize landscape structures considering the above three elements;
(2) mine the regularity of landscape-structure heterogeneity; and (3) apply landscape-structure information as contexts to improve urban land-cover mapping. To achieve the first aim, landscape-structure features including pair-wise spatial relationships and neighborhood-based landscape metrics are defined. To accomplish the second aim, a clustering technique and a landscape infographic are used to cluster landscape structures and visualize landscape-structure types, respectively. Finally, a hierarchical classifier based on the feedforward multi-layer perceptron is developed for the third aim.
Experiments are conducted in a heterogeneous urban environment in Beijing, China. The results show that the proposed approach, which considers 34 landscape-structure features and 19 landscape-structure types, achieves a classification accuracy improvement of 6.43% compared with the approaches without considering landscape-structure information.
This study therefore demonstrates the effectiveness of incorporating landscape-structure features and landscape-structure types in improving urban land-cover mapping.&lt;/p&gt;

&lt;h3 id=&quot;urban-land-use-mapping-using-a-deep-convolutional-neural-network-with-high-spatial-resolution-multispectral-remote-sensing-imagery&quot;&gt;Urban land-use mapping using a deep convolutional neural network with high spatial resolution multispectral remote sensing imagery&lt;/h3&gt;

&lt;p&gt;Authors:
Huang, B; Zhao, B; Song, YM&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 214 73-86; SEP 1 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Urban land-use mapping is a significant yet challenging task in the field of remote sensing. Although numerous classification methods have been developed for obtaining land-use information in urban areas, the accuracy and efficiency of these methods are insufficient to meet the requirements of real-world applications such as urban planning and land management. In recent years, deep learning techniques, especially deep convolutional neural networks (DCNN), have achieved an astonishing level of performance in image classification. However, the traditional DCNN methods do not focus on multispectral remote sensing images with more than three channels, and they are limited by their training samples. In addition, these methods uniformly decompose large images into small processing units, which chop up the land-use patterns and produce land-use maps with obvious “blocks”. In this study, a semi-transfer deep convolutional neural network (STDCNN) approach is proposed to overcome these weaknesses. The proposed STDCNN has three parts: one part involves a transferred DCNN with deep architecture; another part is designed to analyze multispectral images; and the final part fuses the first two parts into a classification layer. Moreover, a skeleton-based decomposing method using street block data is devised to maintain the integrity of the land-use patterns. In two case studies, the proposed method is used to generate urban land-use maps from a WorldView-3 image of a 143 km(2) area of Hong Kong and a WorldView-2 image of a 25 km(2) area of Shenzhen. The results show that the proposed STDCNN obtains an overall accuracy (OA) of 91.25% and a Kappa coefficient (Kappa) of 0.903 for Hong Kong land-use classification, and an OA of 80% and a Kappa of
0.780 for Shenzhen land-use classification. In addition, due to the proposed skeleton-based decomposition method, the proposed method can produce better land-use maps for real-world urban applications.&lt;/p&gt;

&lt;h3 id=&quot;nasas-black-marble-nighttime-lights-product-suite&quot;&gt;NASA’s Black Marble nighttime lights product suite&lt;/h3&gt;

&lt;p&gt;Authors:
Roman, MO; Wang, ZS; Sun, QS; Kalb, V; Miller, SD; Molthan, A; Schultz, L; Bell, J; Stokes, EC; Pandey, B; Seto, KC; Hall, D; Oda, T; Wolfe, RE; Lin, G; Golpayegani, N; Devadiga, S; Davidson, C; Sarkar, S; Praderas, C; Schmaltz, J; Boller, R; Stevens, J; Gonzalez, OMR; Padilla, E; Alonso, J; Detres, Y; Armstrong, R; Miranda, I; Conte, Y; Marrero, N; MacManus, K; Esch, T; Masuoka, EJ&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 210 113-143; JUN 1 2018&lt;/p&gt;

&lt;p&gt;Abstract:
NASA’s Black Marble nighttime lights product suite (VNP46) is available at 500 m resolution since January 2012 with data from the Visible Infrared Imaging Radiometer Suite (VIIRS) Day/Night Band (DNB) onboard the Suomi National Polar-orbiting Platform (SNPP). The retrieval algorithm, developed and implemented for routine global processing at NASA’s Land Science Investigator-led Processing System (SIPS), utilizes all high-quality, cloud-free, atmospheric-, terrain-, vegetation-, snow-, lunar-, and stray light-corrected radiances to estimate daily nighttime lights (NTL) and other intrinsic surface optical properties.
Key algorithm enhancements include: (1) lunar irradiance modeling to resolve non-linear changes in phase and libration; (2) vector radiative transfer and lunar bidirectional surface anisotropic reflectance modeling to correct for atmospheric and BRDF effects; (3) geometric-optical and canopy radiative transfer modeling to account for seasonal variations in NTL; and (4) temporal gap-filling to reduce persistent data gaps. Extensive benchmark tests at representative spatial and temporal scales were conducted on the VNP46 time series record to characterize the uncertainties stemming from upstream data sources. Initial validation results are presented together with example case studies illustrating the scientific utility of the products. This includes an evaluation of temporal patterns of NTL dynamics associated with urbanization, socioeconomic variability, cultural characteristics, and displaced populations affected by conflict. Current and planned activities under the Group on Earth Observations (GEO) Human Planet Initiative are aimed at evaluating the products at different geographic locations and time periods representing the full range of retrieval conditions.&lt;/p&gt;

&lt;h3 id=&quot;a-pedometric-technique-to-delimitate-soil-specific-zones-at-field-scale&quot;&gt;A pedometric technique to delimitate soil-specific zones at field scale&lt;/h3&gt;

&lt;p&gt;Authors:
Castro-Franco, M; Cordoba, MA; Balzarini, MG; Costa, JL&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 322 101-111; JUL 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Delimitation of soil types within a farm field is key for site-specific
crop management. An alternative to this, is to develop pedometric
techniques that allow an efficient combination of soil survey
information and high-resolution terrain attribute data. The aim of this
study was to present and evaluate a pedometric technique to delimit
soil-specific zones at field scale by coupled Random forest, fuzzy
k-means clustering and spatial principal components algorithms
(RF-KM-sPCA) and by using information from soil surveys and terrain
attributes derived from a digital elevation model. The protocol involves
three-steps: 1) automatic classification of small (20x20m) spatial units
(SU) using the knowledge of the soil map units present in the farm
landscape, 2) aggregation of SUM at farm scale and 3) validation of
soil-specific zones. For the first step, we used the random forest
algorithm with 10 terrain attributes. For the second step, KM-sPCA
algorithms were used to cluster within field SU accounting for
autocorrelation. For the third step, apparent soil electrical
conductivity and yield maps was used to validate the delimitation of
soil-specific zones. This technique produced more contiguous zones than
other cluster methods which do not use spatiality. Six farm fields with
highly differences in soils were partitioned by the proposed pedometric
strategy. Apparent soil electrical conductivity and yield maps present
significant differences among zones in all experimental fields. This
analytic strategy, based in easy-to-obtain data, could be used to
improve precision agricultural managements.&lt;/p&gt;

&lt;h3 id=&quot;a-preliminary-spatial-quantification-of-the-soil-security-dimensions-for-tasmania&quot;&gt;A preliminary spatial quantification of the soil security dimensions for Tasmania&lt;/h3&gt;

&lt;p&gt;Authors:
Kidd, D; Field, D; McBratney, A; Webb, M&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 322 184-200; JUL 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soil Security is a holistic soil assessment approach that cogitates soil
as a multi-dimensional medium. Rather than traditional single
dimensional assessment approaches such as land capability mapping that
largely considers only soil and landscape biophysical attributes, the
Soil Security concept considers social aspects, education, policy,
legislation, current land use, condition and the soils natural and
economic value to society. It can identify discrete soils that are
currently being used within their capacity, and areas where a use might
be unsustainable, i.e. not secure. It would therefore make sense to map
this concept, which aligns well with the aspirational and marketing
policies of the Tasmanian Government, where increased agricultural
expansion through new irrigation schemes and multiple-use State managed
production forests co-exists beside pristine World Heritage conservation
land, a major drawcard of the economically important tourism industry.
The spatial quantification of soil security is seen as an emerging tool
to effectively protect the soil resource in terms of food and water
security, biodiversity maintenance and safeguarding fragile ecosystems.
The recent development and application of Digital Soil Mapping and
Assessment capacities in Tasmania to stimulate agricultural production
and better target appropriate soil resource use has formed the
foundational system that can enable the first efforts in quantifying and
mapping Soil Security, in particular the five Soil Security dimensions
(Capability, Condition, Capital, Codification and Connectivity). This
forms a preliminary mapping product that demonstrates the feasibility of
mapping the Soil Security concept. To provide a measure of overall soil
security, it was necessary to separately assess the State’s three major
soil uses; Agriculture, Conservation and Forestry. These outputs provide
an indication of where different activities are sustainable or at risk,
where more soil data is needed, and develops a tool to better plan for a
State requiring optimal food and fibre production, without depleting its
natural soil resources and impacting the fragile ecosystems providing
environmental benefits and supporting the tourism industry. The
following paper demonstrates why and how we might map Soil Security,
describing a preliminary approach to mapping the separate dimensions;
this approach could be adapted and applied elsewhere as an evaluation
tool to identify soil threats relevant to current land use, biophysical
properties, policy and management, and stimulate further research and
debate into developing a global Soil Security mapping methodology.&lt;/p&gt;

&lt;h3 id=&quot;the-distribution-and-morphology-of-microplastics-in-coastal-soils-adjacent-to-the-bohai-sea-and-the-yellow-sea&quot;&gt;The distribution and morphology of microplastics in coastal soils adjacent to the Bohai Sea and the Yellow Sea&lt;/h3&gt;

&lt;p&gt;Authors:
Zhou, Q; Zhang, HB; Fu, CC; Zhou, Y; Dai, ZF; Li, Y; Tu, C; Luo, YM&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 322 201-208; JUL 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Microplastics (&amp;lt; 5 mm) are considered to be emerging pollutants of
global concern. Investigations on microplastics pollution in coastal and
marine environments have increased recently but knowledge gaps still
exist regarding microplastics in coastal beach soils with high-intensity
human activities. In the present study a total of 120 soil samples were
taken from 53 sites along &amp;gt; 3000 km of coastline in Shandong province,
east China, adjacent to both the Bohai Sea and the Yellow Sea coastlines
under different land use management. Microplastics were separated from
the soil samples using a continuous flow and floating separation
apparatus. The shape type, size, abundance, spatial distribution,
polymer composition and surface morphology of the microplastics were
identified by a range of advanced microscopic and micro-analytical
methods. The analytical results show that seven shape types, namely
foams, pellets, fragments, flakes, fibers, films and sponges, were
present in the beach soils. The polymer composition of the microplastics
included polyethylene, polypropylene, polystyrene, poly-ether urethane
and a polymer blend of both polyethylene and polypropylene.
Approximately 60% of the observed microplastics had a size range &amp;lt; 1 mm.
Microplastic abundance varied greatly among the soils, ranging from 1.3
to 14,712.5 N kg(-1) (dry weight) as influenced by high-intensity human
activities such as mariculture, tourism, and port construction. The
seven shape types of microplastics from the coastal environment had
different weathering surface morphologies, showing scratches, creases,
micropores, cracks, either concave or convex, and of various shapes and
sizes, possibly due to physical friction, photochemical oxidation and/or
animal attack. Algae or crude oil was observed on the surface of some
microplastics. The weathered surfaces of microplastics might act as a
high-capacity carrier with adhering microorganisms and chemicals.
Further studies are required on the weathering processes, sorption
capacity and transport of microplastics especially in smaller size (&amp;lt; 1
mm) under coastal conditions.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/07/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on July 13, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/07/journalDigest" />
  <id>/2018/07/journalDigest</id>
  <updated>2018-07-11T00:00:00-00:00</updated>
  <published>2018-07-11T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-14&quot;&gt;Journal Paper Digests 2018 #14&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;An algorithm for selecting groups of factors for prioritization of land consolidation in rural areas&lt;/li&gt;
  &lt;li&gt;Influence of species richness, evenness, and composition on optical diversity: A simulation study&lt;/li&gt;
  &lt;li&gt;Retrieving surface soil moisture at high spatio-temporal resolution from a synergy between Sentinel-1 radar and Landsat thermal data: A study case over bare soil&lt;/li&gt;
  &lt;li&gt;Mapping soil moisture with the OPtical TRApezoid Model (OPTRAM) based on long-term MODIS observations.&lt;/li&gt;
  &lt;li&gt;Spatial point pattern analysis of piping erosion in loess-derived soils in Golestan Province, Iran&lt;/li&gt;
  &lt;li&gt;Geostatistical analysis of pedodiversity in Taihang Mountain region in North China&lt;/li&gt;
  &lt;li&gt;Carbon input by roots into the soil: Quantification of rhizodeposition from root to ecosystem scale&lt;/li&gt;
  &lt;li&gt;Analysis of climate signals in the crop yield record of sub-Saharan Africa&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;an-algorithm-for-selecting-groups-of-factors-for-prioritization-of-land-consolidation-in-rural-areas&quot;&gt;An algorithm for selecting groups of factors for prioritization of land consolidation in rural areas&lt;/h3&gt;

&lt;p&gt;Authors:
Len, P&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 144 216-221; JAN 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Large defects in the spatial structure of agricultural land are an issue
in many countries. The main cause of these defects are hundreds of years
of social, economic and historical transformations. The spatial
structure of farmland can be improved using procedures such as land
consolidation and exchange. However, given the fact that the funds for
these activities are limited, it is necessary to select those areas in
which land consolidation and exchange are a priority. To develop a
prioritization plan for land consolidation and exchange interventions,
it is necessary to carry out a series of studies and analyses which will
provide a set of factors characterizing the region under investigation.
Many years of research have shown that different regions in Poland are
characterized by different parameters.Therefore, in the present study,
an attempt was made to develop a universal algorithm for selecting
groups of factors for purposes of prioritization of land consolidation
which takes into account the geographic location of an investigated
area. To test the proposed algorithm, analyses were carried out in two
communes located in central and south-eastern Poland which differed
significantly in terms of the spatial structure of farm holdings. A
first test object was the commune of Paradyz, occupying an area of
8125.73 ha and divided into 15,941 cadastral plots. A second test object
was the commune of Frysztak, located in south-eastern Poland, with an
area of 9066.86 ha, divided into 21,506 cadastral plots.&lt;/p&gt;

&lt;h3 id=&quot;influence-of-species-richness-evenness-and-composition-on-optical-diversity-a-simulation-study&quot;&gt;Influence of species richness, evenness, and composition on optical diversity: A simulation study&lt;/h3&gt;

&lt;p&gt;Authors:
Wang, R; Gamon, JA; Schweiger, AK; Cavender-Bares, J; Townsend, PA;
Zygielbaum, AI; Kothari, S&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 211 218-228; JUN 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
While remote sensing has increasingly been applied to estimate a
biodiversity directly through optical diversity, there is a need to
better understand the mechanisms behind the optical
diversity-biodiversity relationship. Here, we examined the relative
contributions of species richness, evenness, and composition to the
spectral reflectance, and consider factors confounding the remote
estimation of species diversity in a prairie ecosystem experiment at
Cedar Creek Ecosystem Science Reserve, Minnesota. We collected
hyperspectral reflectance of 16 prairie species using a tram-mounted
imaging spectrometer, and a full-range field spectrometer with a leaf
clip, and simulated plot-level images from both instruments with
different species richness, evenness and composition. Two optical
diversity metrics were explored: the coefficient of variation (CV) of
spectral reflectance in space and classified species derived from
Partial Least Squares Discriminant Analysis (PLS-DA), a spectral
classification method. Both optical diversity metrics (CV and PLS-DA
classified species) were affected by species richness and evenness.
Diversity metrics that combined species richness and evenness together
(e.g. Shannon’s index) were more strongly correlated with optical
diversity than either metric alone. Image-derived data were influenced
by both leaf traits and canopy structure and showed larger spectral
variability than leaf clip data, indicating that sampling methods
influence optical diversity. Leaf and canopy traits both contributed to
optical diversity, sometimes in complex or contradictory ways. Large
within-species variation sometimes confounded biodiversity estimation
from optical diversity, and a single species markedly altered the
optical-biodiversity relationship. Biodiversity estimation from CV was
strongly influenced by soil background, while estimation from PLS-DA
classified species was not sensitive to soil background. These findings
are consistent with recent empirical studies and demonstrate that
modeling approaches can be used to explore effects of spatial scale and
guide regional studies of biodiversity estimation using high spatial and
spectral resolution remote sensing.&lt;/p&gt;

&lt;h3 id=&quot;retrieving-surface-soil-moisture-at-high-spatio-temporal-resolution-from-a-synergy-between-sentinel-1-radar-and-landsat-thermal-data-a-study-case-over-bare-soil&quot;&gt;Retrieving surface soil moisture at high spatio-temporal resolution from a synergy between Sentinel-1 radar and Landsat thermal data: A study case over bare soil&lt;/h3&gt;

&lt;p&gt;Authors:
Amazirh, A; Merlin, O; Er-Raki, S; Gao, Q; Rivalland, V; Malbeteau, Y;
Khabba, S; Escorihuela, MJ&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 211 321-337; JUN 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Radar data have been used to retrieve and monitor the surface soil
moisture (SM) changes in various conditions. However, the calibration of
radar models whether empirically or physically-based, is still subject
to large uncertainties especially at high-spatial resolution. To help
calibrate radar-based retrieval approaches to supervising SM at high
resolution, this paper presents an innovative synergistic method
combining Sentinel-1 (Si) microwave and Landsat-7/8 (L7/8) thermal data.
First, the S1 backscatter coefficient was normalized by its maximum and
minimum values obtained during 2015-2016 agriculture season. Second, the
normalized S1 backscatter coefficient was calibrated from reference
points provided by a thermal-derived SM proxy named soil evaporative
efficiency (SEE, defined as the ratio of actual to potential soil
evaporation). SEE was estimated as the radiometric soil temperature
normalized by its minimum and maximum values reached in a
water-saturated and dry soil, respectively. We estimated both soil
temperature endmembers by using a soil energy balance model forced by
available meteorological forcing. The proposed approach was evaluated
against in situ SM measurements collected over three bare soil fields in
a semi-arid region in Morocco and we compared it against a classical
approach based on radar data only. The two polarizations VV (vertical
transmit and receive) and VH (vertical transmit and horizontal receive)
of the S1 data available over the area are tested to analyse the
sensitivity of radar signal to SM at high incidence angles (39
degrees-43 degrees). We found that the VV polarization was better
correlated to SM than the VH polarization with a determination
coefficient of 0.47 and 0.28, respectively. By combining Si (VV) and
L7/8 data, we reduced the root mean square difference between satellite
and in situ SM to 0.03 m(3) m(-3) which is far smaller than 0.16 m(3)
m(-3) when using SI (VV) only.&lt;/p&gt;

&lt;h3 id=&quot;mapping-soil-moisture-with-the-optical-trapezoid-model-optram-based-on-long-term-modis-observations&quot;&gt;Mapping soil moisture with the OPtical TRApezoid Model (OPTRAM) based on long-term MODIS observations&lt;/h3&gt;

&lt;p&gt;Authors:
Babaeian, E; Sadeghi, M; Franz, TE; Jones, S; Tuller, M&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 211 425-440; JUN 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The Optical TRApezoid Model (OPTRAM) has recently been proposed for
estimation of soil moisture using only optical remote sensing data. The
model relies on a physical linear relationship between the soil moisture
content and shortwave infrared transformed reflectance (SIR) and can be
parameterized universally (i.e., a single calibration for a given area)
based on the pixel distribution within the STR-Normalized Difference
Vegetation Index (NDVI) trapezoidal space. The main motivation for this
study was to evaluate how the universal parameterization of OPTRAM works
for long periods of time (e.g., several decades). This is especially
relevant for uncovering the soil moisture and agricultural drought
history in response to climate change in different regions. In this
study, MODIS satellite observations from 2001 to 2017 were acquired and
used for the analysis. Cosmic ray neutron (CRN) soil moisture data,
collected with the Cosmic-ray Soil Moisture Observing System (COSMOS) at
five different sites in the U.S. covering diverse climates, soil types,
and land covers, were applied for evaluation of the MODIS-OPTRAM-based
soil moisture estimates. The OPTRAM soil moisture estimates were further
compared to the Soil Moisture Active and Passive (SMAP) (L-band), the
Soil Moisture Ocean Salinity (SMOS) (L band), and the Advanced
AScatterometer (ASCAT) (C-band) soil moisture retrievals. OPTRAM soil
moisture data were also analyzed for potential monitoring of
agricultural drought through comparison of the OPTRAM-based Soil Water
Deficit Index (OPTRAM-SWDI) with the widely-applied Crop Moisture Index
(CMI). Evaluation results indicate that OPTRAM-based soil moisture
estimates provide overall unbiased RMSE and R between 0.050 and 0.085
cm(3) cm(-3) and 0.10 to 0.70, respectively, for all investigated sites.
The performance of OPTRAM is comparable with the ASCAT retrievals, but
slightly less accurate than SMAP and SMOS. OPTRAM and the three
microvave satellites captured CRN soil moisture temporal dynamics very
well for all five investigated sites. A close agreement was observed
between the OPTRAM-SWDI and CMI drought indices for most selected sites.
In conclusion, OPTRAM can estimate temporal soil moisture dynamics with
reasonable accuracy for a range of climatic conditions (semi-arid to
humid), soil types, and land covers, and can potentially be applied for
agricultural drought monitoring.&lt;/p&gt;

&lt;h3 id=&quot;spatial-point-pattern-analysis-of-piping-erosion-in-loess-derived-soils-in-golestan-province-iran&quot;&gt;Spatial point pattern analysis of piping erosion in loess-derived soils in Golestan Province, Iran&lt;/h3&gt;

&lt;p&gt;Authors:
Hosseinalizadeh, M; Kariminejad, N; Campetella, G; Jalalifard, A;
Alinejad, M&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 328 20-29; OCT 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Point pattern analysis of collapsed pipes as a subsurface erosion in
natural and manmade conditions plays an important role to understand
their landforms/features, predisposing factors, and for prevention and
forecasting purposes. Thus, the present study aimed to evaluate the
spatial pattern and the associated land factors of piping erosion in
loess-derived soils in a semiarid climate in Golestan Province, Iran by
applying numerical summary statistics. To this end, a 105 ha area with
homogeneous environmental conditions (gentle slope and loess-derived
soil) was selected and the maps related to 101 collapsed pipes and their
features were obtained by the aerial photos provided by an unmanned
aerial vehicle (UAV) with a 50 cm resolution and field survey. The mean
of spatial distances between pipe locations was 309 m, and the frequency
of pipes per hectare was 0.97. Moreover, soil samples of the pipe
locations were collected and physical-chemical soil properties were
measured in laboratory. Approximately 95% simulation envelopes were
selected using the 5th-lowest and 5th-highest values of 199 Monte Carlo
simulations of the null model of homogeneous complete spatial
randomness. Based on the results of univariate pair correlation
function, the significant aggregation of 101 collapsed pipes was
observed at a scale of 0-50 m in both rangeland and agricultural land
use types. The bivariate pair correlation function, which is considered
to be the most informative second-order summary characteristic, was used
for analyzing the statistical correlations between collapsed pipes and
linear phenomena including distance from drainage networks, ridges, and
roads. Based on bivariate summary statistics, collapsed pipes had
positively been affected by both the distribution of drainage networks
and ridges. However, the negative statistical correlations occurred
between pipes and roads at the scales of 1-50 m. Also, the correlations
of soil characteristics (silt content, exchangeable sodium percentage
(ESP), the weight of soil in a given volume (bulk density), soil
electrical conductivity (EC), and organic matter (O.M.)) of neighboring
collapsed pipes were evaluated by mark correlation function. Based on
mark correlation function k(mm)(r), a significantly positive correlation
was found between the pipes density and silt content, ESP, and bulk
density, when they are more than overall average. In addition, less
values of EC and O.M. were positively related to the aggregation of
collapsed pipes. Similar to the results of summary statistics, the maps
confirmed all statistical correlations. Consequently, the outcome of
this study highlights the spatial pattern of collapsed pipes and their
associations in the study area.&lt;/p&gt;

&lt;h3 id=&quot;geostatistical-analysis-of-pedodiversity-in-taihang-mountain-region-in-north-china&quot;&gt;Geostatistical analysis of pedodiversity in Taihang Mountain region in North China&lt;/h3&gt;

&lt;p&gt;Authors:
Fu, TG; Han, LP; Gao, H; Liang, HZ; Liu, JT&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 328 91-99; OCT 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The protection of pedodiversity is very important for biodiversity
maintenance and food production. However, where and how large should the
protection focus on in a given region (especially in mountain regions
with complex environment) remains unclear. In this study, geostatistical
analysis was used to study pedodiversity indexes (Shannon’s index, the
maximum Shannon’s index, Richness index and Evenness index) in Taihang
Mountain region in North China. Then pedodiversity protection and buffer
zones were designed. Moreover, the relationship between protection zone
and human activities was determined. The results showed that average
Shannon’s index for the study area was 1.72, with two lower value zones
appeared in the north and the south of Taihang Mountain region,
respectively. This suggested that there was the need to enhance the
protection of pedodiversity in the two regions. The ranges of the
Richness index and the Shannon’s index were respectively 57.16 km and
96.00 km, indicating that pedodiversity had spatial dependence within
these distances. Therefore, protection zones with radius of 57.16 km and
buffer zones with radius of 96 km was designed. For both the northern
and southern protection zones, the percent area of population density
lower than 1 person/km(2) (35.27% for the north and 51.71% for the
south) was much higher than the average value (27.91%) of Taihang
Mountain region. Furthermore, the percent area of farmland (43.72% for
the north and 40.48% for the south) were higher than the average value
(35.92%). This demonstrated that human activity, especially farming, was
a key consideration in the protection of pedodiversity in the study
region. The results of the study constitute a significant contribution
to the theory of pedodiversity protection and soil resources management.&lt;/p&gt;

&lt;h3 id=&quot;carbon-input-by-roots-into-the-soil-quantification-of-rhizodeposition-from-root-to-ecosystem-scale&quot;&gt;Carbon input by roots into the soil: Quantification of rhizodeposition from root to ecosystem scale&lt;/h3&gt;

&lt;p&gt;Authors:
Pausch, J; Kuzyakov, Y&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GLOBAL CHANGE BIOLOGY&lt;/em&gt;, 24 (1):1-12; JAN 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Despite its fundamental role for carbon (C) and nutrient cycling,
rhizodeposition remains ‘the hidden half of the hidden half’: it is
highly dynamic and rhizodeposits are rapidly incorporated into
microorganisms, soil organic matter, and decomposed to CO2. Therefore,
rhizodeposition is rarely quantified and remains the most uncertain part
of the soil C cycle and of C fluxes in terrestrial ecosystems. This
review synthesizes and generalizes the literature on C inputs by
rhizodeposition under crops and grasslands (281 data sets). The
allocation dynamics of assimilated C (after C-13-CO2 or C-14-CO2
labeling of plants) were quantified within shoots, shoot respiration,
roots, net rhizodeposition (i.e., C remaining in soil for longer
periods), root-derived CO2, and microorganisms. Partitioning of C pools
and fluxes were used to extrapolate below-ground C inputs via
rhizodeposition to ecosystem level. Allocation from shoots to roots
reaches a maximum within the first day after C assimilation. Annual
crops retained more C (45% of assimilated C-13 or C-14) in shoots than
grasses (34%), mainly perennials, and allocated 1.5 times less C
belowground. For crops, belowground C allocation was maximal during the
first 1-2 months of growth and decreased very fast thereafter. For
grasses, it peaked after 2-4 months and remained very high within the
second year causing much longer allocation periods. Despite higher
belowground C allocation by grasses (33%) than crops (21%), its
distribution between various belowground pools remains very similar.
Hence, the total C allocated belowground depends on the plant species,
but its further fate is species independent. This review demonstrates
that C partitioning can be used in various approaches, e.g., root
sampling, CO2 flux measurements, to assess rhizodeposits’ pools and
fluxes at pot, plot, field and ecosystem scale and so, to close the most
uncertain gap of the terrestrial C cycle.&lt;/p&gt;

&lt;h3 id=&quot;analysis-of-climate-signals-in-the-crop-yield-record-of-sub-saharan-africa&quot;&gt;Analysis of climate signals in the crop yield record of sub-Saharan Africa&lt;/h3&gt;

&lt;p&gt;Authors:
Hoffman, AL; Kemanian, AR; Forest, CE&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GLOBAL CHANGE BIOLOGY&lt;/em&gt;, 24 (1):143-157; JAN 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Food security and agriculture productivity assessments in sub-Saharan
Africa (SSA) require a better understanding of how climate and other
drivers influence regional crop yields. In this paper, our objective was
to identify the climate signal in the realized yields of maize, sorghum,
and groundnut in SSA. We explored the relation between crop yields and
scale-compatible climate data for the 1962-2014 period using Random
Forest, a diagnostic machine learning technique. We found that improved
agricultural technology and country fixed effects are three times more
important than climate variables for explaining changes in crop yields
in SSA. We also found that increasing temperatures reduced yields for
all three crops in the temperature range observed in SSA, while
precipitation increased yields up to a level roughly matching crop
evapotranspiration. Crop yields exhibited both linear and nonlinear
responses to temperature and precipitation, respectively. For maize,
technology steadily increased yields by about 1% (13 kg/ha) per year
while increasing temperatures decreased yields by 0.8% (10 kg/ha) per
degrees C. This study demonstrates that although we should expect
increases in future crop yields due to improving technology, the
potential yields could be progressively reduced due to warmer and drier
climates.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/07/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on July 11, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/06/journalDigest" />
  <id>/2018/06/journalDigest</id>
  <updated>2018-06-18T00:00:00-00:00</updated>
  <published>2018-06-18T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-13&quot;&gt;Journal Paper Digests 2018 #13&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Modelling of soil texture and its verification with related soil properties&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;modelling-of-soil-texture-and-its-verification-with-related-soil-properties&quot;&gt;Modelling of soil texture and its verification with related soil properties&lt;/h3&gt;

&lt;p&gt;Authors:
Hossain, MS; Rahman, KMM; Alam, MS; Rahman, MM; Solaiman, ARM; Mia, MAB&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;SOIL RESEARCH&lt;/em&gt;, 56 (4):421-428; 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soil texture is an independent and innate soil property and other
dynamic soil properties such as electrical conductivity (EC), organic
carbon (OC) content and cation exchange capacity (CEC) are mostly
dependent on it. An attempt was made to develop a model for numerically
simulating soil texture and also to construct relationships of the
developed model with other soil properties. Hypothetical data of
particle size distribution and our data were used to justify and
validate the newly defined indices. Scatter diagrams showed good
association between the indices and hypothetical data of soil separates.
Moreover, similar trends were observed between the line charts of USDA
soil textural class codes and the indices. Strong correlations (r =
0.78-0.96) were found between the indices and soil separates (sand, silt
and clay) for our data. However, the indices demonstrated moderate
correlations (r = -0.34 to -0.55) with EC and OC of the soils. Strong
nonlinear relationships were found between CEC and the three indices
(R-2 = 0.699, R-2 = 0.732 and R-2 = 0.672 (all P &amp;lt; 0.001). Furthermore,
the variability of EC, OC and CEC within a single USDA textural class
and customised textural index groups were described using the developed
model. The developed indices showed excellent fitness for simulation of
soil texture and demonstrated an extended applicability in terms of
their relationships with soil properties related to soil texture, which
will help in constructing digital soil maps.&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/2018/06/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on June 18, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/06/journalDigest" />
  <id>/2018/06/journalDigest</id>
  <updated>2018-06-14T00:00:00-00:00</updated>
  <published>2018-06-14T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-12&quot;&gt;Journal Paper Digests 2018 #12&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Mapping rootable depth and root zone plant-available water holding capacity of the soil of sub-Saharan Africa&lt;/li&gt;
  &lt;li&gt;Accounting for non-stationary variance in geostatistical mapping of soil properties&lt;/li&gt;
  &lt;li&gt;Conservation agriculture practices increase soil microbial biomass carbon and nitrogen in agricultural soils: A global meta-analysis&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;mapping-rootable-depth-and-root-zone-plant-available-water-holding-capacity-of-the-soil-of-sub-saharan-africa&quot;&gt;Mapping rootable depth and root zone plant-available water holding capacity of the soil of sub-Saharan Africa&lt;/h3&gt;

&lt;p&gt;Authors:
Leenaars, JGB; Claessens, L; Heuvelink, GBM; Hengla, T; Gonzalez, MR;
van Bussel, LGJ; Guilpart, N; Yang, HS; Cassman, KG&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 324 18-36; AUG 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
In rainfed crop production, root zone plant-available water holding
capacity (RZ-PAWHC) of the soil has a large influence on crop growth and
the yield response to management inputs such as improved seeds and
fertilisers. However, data are lacking for this parameter in sub-Saharan
Africa (SSA). This study produced the first spatially explicit, coherent
and complete maps of the rootable depth and RZ-PAWHC of soil in SSA. We
compiled georeferenced data from 28,000 soil profiles from SSA, which
were used as input for digital soil mapping (DSM) techniques to produce
soil property maps of SSA. Based on these soil properties, we developed
and parameterised (pedotransfer) functions, rules and criteria to
evaluate soil water retention at field capacity and wilting point, the
soil fine earth fraction from coarse fragments content and, for maize,
the soil rootability (relative to threshold values) and rootable depth.
Maps of these secondary soil properties were derived using the primary
soil property maps as input for the evaluation rules and the results
were aggregated over the rootable depth to obtain a map of RZ-PAWHC,
with a spatial resolution of 1 km(2). The mean RZ-PAWHC for SSA is 74 mm
and the associated average root zone depth is 96 cm. Pearson correlation
between the two is 0.95. RZ-PAWHC proves most limited by the rootable
depth but is also highly sensitive to the definition of field capacity.
The total soil volume of SSA potentially rootable by maize is reduced by
one third (over 10,500 km(3)) due to soil conditions restricting root
zone depth. Of these, 4800 km(3) are due to limited depth of aeration,
which is the factor most severely limiting in terms of extent (km2), and
2500 km(3) due to sodicity which is most severely limiting in terms of
degree (depth in cm). Depth of soil to bedrock reduces the rootable soil
volume by 2500 km(3), aluminium toxicity by 600 km(3), porosity by 120
km(3) and alkalinity by 20 km(3). The accuracy of the map of rootable
depth and thus of RZ-PAWHC could not be validated quantitatively due to
absent data on rootability and rootable depth but is limited by the
accuracy of the primary soil property maps. The methodological framework
is robust and has been operationalised such that the maps can easily be
updated as additional data become available.&lt;/p&gt;

&lt;h3 id=&quot;accounting-for-non-stationary-variance-in-geostatistical-mapping-of-soil-properties&quot;&gt;Accounting for non-stationary variance in geostatistical mapping of soil properties&lt;/h3&gt;

&lt;p&gt;Authors:
Wadoux, AMJC; Brus, DJ; Heuvelink, GBM&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 324 138-147; AUG 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Simple and ordinary kriging assume a constant mean and variance of the
soil variable of interest. This assumption is often implausible because
the mean and/or variance are linked to terrain attributes, parent
material or other soil forming factors. In kriging with external drift
(KED) non-stationarity in the mean is accounted for by modelling it as a
linear combination of covariates. In this study, we applied an extension
of KED that also accounts for non-stationary variance. Similar to the
mean, the variance is modelled as a linear combination of covariates.
The set of covariates for the mean may differ from the set for the
variance. The best combinations of covariates for the mean and variance
are selected using Akaike’s information criterion. Model parameters of
the selected model are then estimated by differential evolution using
the Restricted Maximum Likelihood (REML) in the objective function. The
methodology was tested in a small area of the Hunter Valley, NSW
Australia, where samples from a fine grid with gamma K measurements were
treated as measurements of the variable of interest. Terrain attributes
were used as covariates. Both a non-stationary variance and a stationary
variance model were calibrated. The mean squared prediction errors of
the two models were somewhat comparable. However, the uncertainty about
the predictions was much better quantified by the non-stationary
variance model, as indicated by the mean and median of the standardized
squared prediction error and by accuracy plots. We conclude that the non
-stationary variance model is more flexible and better suited for
uncertainty quantification of a mapped soil property. However, parameter
estimation of the non -stationary variance model requires more attention
due to possible singularity of the covariance matrix.&lt;/p&gt;

&lt;h3 id=&quot;conservation-agriculture-practices-increase-soil-microbial-biomass-carbon-and-nitrogen-in-agricultural-soils-a-global-meta-analysis&quot;&gt;Conservation agriculture practices increase soil microbial biomass carbon and nitrogen in agricultural soils: A global meta-analysis&lt;/h3&gt;

&lt;p&gt;Authors:
Li, Y; Chang, SX; Tian, LH; Zhang, QP&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;SOIL BIOLOGY &amp;amp; BIOCHEMISTRY&lt;/em&gt;, 121 50-58; JUN 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Conservation agriculture through the use of crop residue retention and
no-tillage (NT) has been widely practiced to improve agricultural soil
quality, such as to increase soil organic carbon (C) content and the
microbial population size. However, there has been no quantitative
analysis on the effect of conservation agriculture, particularly in
relation to crop residue retention, on soil microbial biomass C (C-mic)
and nitrogen (N-mic), and the microbial quotient (qMIC,
C-mic-to-organicC ratio), which are frequently used as indicators of
soil health under different agricultural practices. The objective of
this study was to evaluate the influence of conservation agriculture
practices on soil C-mic, N-mic and qMIC on a global scale using
meta-analysis based on data from 96 recent publications. Relative to
conventional tillage (CT) without residue retention, NT without residue
retention (NTRO) increased C-mic by 33% (P &amp;lt; 0.05), while NT with
residue retention (NTR) increased (P &amp;lt; 0.05) C-mic, N-mic and qMIC by
25, 64, and 57%, respectively. Greater C-mic and N-mic were found in the
NT than in the CT treatment, regardless of the soil condition (e.g.,
soil pH and texture), experimental duration, and climate (e.g., mean
annual temperature and precipitation). Particularly, NTR was a promising
conservation agriculture practice to increase C-mic and N-mic in global
farmlands, and NTRO can be an alternate strategy for loam soils in the
subhumid (600-1000 mm mean annual precipitation) region, or under
long-term (&amp;gt; 20 yr) conservation agriculture practices. We conclude that
NTR should be an important strategy that could be used to increase C-mic
and N-mic contents and improve soil quality in global farmlands.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/06/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on June 14, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/06/journalDigest" />
  <id>/2018/06/journalDigest</id>
  <updated>2018-05-17T00:00:00-00:00</updated>
  <published>2018-06-08T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-11&quot;&gt;Journal Paper Digests 2018 #11&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Characterizing soil particle sizes using wavelet analysis of microscope images&lt;/li&gt;
  &lt;li&gt;A zone-based approach for processing and interpreting variability in multi temporal yield data sets&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;characterizing-soil-particle-sizes-using-wavelet-analysis-of-microscope-images&quot;&gt;Characterizing soil particle sizes using wavelet analysis of microscope images&lt;/h3&gt;

&lt;p&gt;Authors:
Sudarsan, B; Ji, WJ; Adamchuk, V; Biswas, A&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 148 217-225; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soil texture (relative proportions of soil particles of varied sizes) is
a fundamental soil physical property affecting almost all other soil
physical properties and processes of agricultural, environmental and
engineering importance. However, characterization of particle sizes in
the laboratory presents a range of challenges in terms of the time,
labor, difficulty and/or cost involved with the analysis. Continuous
wavelet transform (CWT) has been used in characterizing scale-specific
variations in spatial or temporal domain as well as in image analysis.
The objective of this study was to develop a CWT-based computer vision
algorithm to characterize soil particle sizes from digital images
captured with a microscope. A cheap portable microscope with 5 MP camera
and maximum magnification of 200 x was used to develop an image
acquisition system. Three images of air-dried, ground (2 mm) soil
samples were captured in laboratory conditions for each soil sample (56
+ 67 = 123) collected from two agricultural fields (Field26 and Field86)
with highly variable soils. Triplicate in-situ images were also
collected from 67 locations from Field86 after scrapping off surface
residues. The color images were transferred to grey-scale images and the
CWT was performed along the 20 equally-spaced rows and columns. The
total area under the average global wavelet spectrum represented the
total variation in any image. Two fractions of particle sizes; ‘coarse’
(diameter between 2.0 mm and 0.05 mm) and ‘fine’ (diameter &amp;lt; 0.05 mm),
respectively, representing sand and sum of silt and clay were calculated
based on the area under the curve and compared with lab-measured
particle sizes using the hydrometer method. The lab-measured coarse- and
fine-fractions showed strong agreement with the predicted (from image)
fractions. The regression relationship showed the prediction capability
of 87% and 88% for coarse (RMSE 44.7 g kg(-1)) and fine (RMSE 44.7 g
kg(-1)) fractions, respectively for Field26 samples. A similar
prediction was obtained (88% with RMSE 40.2 g kg(-1) for coarse and 88%
with RMSE 40.3 g kg(-1) for fine) for Field86 samples. The efficiency of
the wavelet algorithm shows promise in determining the particle sizes
from an image and the portable nature of the image acquisition system
results in a good proximal soil sensor. In contrast to the laboratory
images, a weak prediction (48% for coarse and 56% for fine) was observed
for the images taken in-situ mainly due to the quality of the images as
they were affected by various field conditions; this requires further
research.&lt;/p&gt;

&lt;h3 id=&quot;a-zone-based-approach-for-processing-and-interpreting-variability-in-multi-temporal-yield-data-sets&quot;&gt;A zone-based approach for processing and interpreting variability in multi temporal yield data sets&lt;/h3&gt;

&lt;p&gt;Authors:
Leroux, C; Jones, H; Taylor, J; Clenet, A; Tisseyre, B&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 148 299-308; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The availability of combine yield monitors since the early 1990’s means
that long time-series (10+ years) of yield data are now available in
many arable production systems. Despite this, yield data and maps are
still under exploited and under-valued by professionals in the
agricultural sector. These historical data need to be better considered
and analyzed because they are the only audited means by which growers
and practitioners can assess the spatio-temporal yield response within a
field. When done, time-series of yield maps are mostly processed by
classification-based algorithms to generate spatial and temporal yield
stability maps or to provide yield or management classes. This work
details an alternate segmentation-based methodology to first generate
and then characterize contiguous within-field yield zones from
historical yield data. It operates on the yield data rather than
interpolated yield maps. A seeded region growing algorithm is proposed
that enables both the specification of seeds and zone segmentation in a
multivariate (multi-temporal yield) attribute space. Novel metrics to
assess the yield zoning are proposed that are derived from textural
image analysis. The zoning algorithm and metrics were applied to two
fields with long time-series (6 + years) of yield data in combinable
crops. The two case studies showed that the proposed zone-based approach
was effective in delimitating relevant within-field yield zones. The
generated zones had differing temporal yield responses between
neighbouring zones that were of agronomic significant and interest to
the production systems. As this is a first attempt to apply a
segmentation algorithm to yield data, areas for future development
applications are also proposed.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/06/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on June 08, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/05/journalDigest" />
  <id>/2018/05/journalDigest</id>
  <updated>2018-05-17T00:00:00-00:00</updated>
  <published>2018-05-17T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-11&quot;&gt;Journal Paper Digests 2018 #11&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Epikarst mapping by remote sensing&lt;/li&gt;
  &lt;li&gt;Predictive mapping of soil-landscape relationships in the arid Southwest United States&lt;/li&gt;
  &lt;li&gt;Global linkages between teleconnection patterns and the terrestrial biosphere&lt;/li&gt;
  &lt;li&gt;A scale self-adapting segmentation approach and knowledge transfer for automatically updating land use/cover change databases using high spatial resolution images&lt;/li&gt;
  &lt;li&gt;Towards machine ecoregionalization of Earth’s landmass using pattern segmentation method&lt;/li&gt;
  &lt;li&gt;Laser-based spectroscopic methods to evaluate the humification degree of soil organic matter in whole soils: a review&lt;/li&gt;
  &lt;li&gt;Better models are more effectively connected models&lt;/li&gt;
  &lt;li&gt;Multi-scale relief model (MSRM): a new algorithm for the visualization of subtle topographic change of variable size in digital elevation models&lt;/li&gt;
  &lt;li&gt;Deep learning in agriculture: A survey&lt;/li&gt;
  &lt;li&gt;Mapping agricultural land abandonment from spatial and temporal segmentation of Landsat time series&lt;/li&gt;
  &lt;li&gt;How far are we from the use of satellite rainfall products in landslide forecasting?&lt;/li&gt;
  &lt;li&gt;Mapping rootable depth and root zone plant-available water holding capacity of the soil of sub-Saharan Africa&lt;/li&gt;
  &lt;li&gt;Accounting for non-stationary variance in geostatistical mapping of soil properties&lt;/li&gt;
  &lt;li&gt;Global environmental costs of China’s thirst for milk&lt;/li&gt;
  &lt;li&gt;Exploring the case for a national-scale soil conservation and soil condition framework for evaluating and reporting on environmental and land use policies&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;epikarst-mapping-by-remote-sensing&quot;&gt;Epikarst mapping by remote sensing&lt;/h3&gt;

&lt;p&gt;Authors:
Pardo-Iguzquiza, E; Dowd, PA; Ruiz-Constan, A; Martos-Rosillo, S;
Luque-Espinar, JA; Rodriguez-Galiano, V; Pedrera, A&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;CATENA&lt;/em&gt;, 165 1-11; JUN 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Epikarst the shallow, surficial part of a karstic massif - has a
significant influence on the spatio-temporal variability of recharge and
the hydrodynamic functioning of many karst aquifers. In the
Mediterranean morphoclimatic zone, the average thickness of a
well-developed epikarst is around ten metres, but the spatial patterns
of its degree of development are very heterogeneous due to the complex
interaction of a number of different factors such as lithology,
fracturing, weathering, soil and vegetation. In addition, direct field
observation is difficult because good outcropping conditions are
restricted to particular locations, some areas are not accessible and
the size of the study area is often too large for exhaustive field
surveys. Satellite-based remote sensing, however, provides a complete
coverage of an entire area with spectral resolutions that detect
variability in features that can define image textures related to the
development of the epikarst. This paper describes a quantitative
methodology for epikarst mapping using satellite images and field data.
The proposed method comprises an unsupervised classification to define
the spectral signature of each of three epikarst development categories
in a high-resolution satellite image followed by a supervised
classification of the terrain into one of the three categories on a low
spatial resolution scale. The training areas in the field are assigned
to the three categories by a panel of experts using the Delphi method.
Geophysical data are used for validation to overcome any bias that may
be introduced by the panel. The proposed methodology has been applied to
the Sierra de las Nieves karstic aquifer (Malaga, southern Spain). The
outcome is a map of estimated epikarst development that is an
approximation to reality and which can be improved as more experimental
data become available.&lt;/p&gt;

&lt;h3 id=&quot;predictive-mapping-of-soil-landscape-relationships-in-the-arid-southwest-united-states&quot;&gt;Predictive mapping of soil-landscape relationships in the arid Southwest United States&lt;/h3&gt;

&lt;p&gt;Authors:
Regmi, NR; Rasmussen, C&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;CATENA&lt;/em&gt;, 165 473-486; JUN 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Multi-scale geospatial and absolute variation of surface and
near-surface soil physical and chemical properties can be mapped and
quantified by coupling digital soil mapping techniques with high
resolution remote sensing products. The goal of this research was to
advance data-driven digital soil mapping techniques by developing an
approach that can integrate multi-scale digital surface topography and
reflectance-derived remote sensing products, and characterize
multi-scale soil-landscape relations of Quaternary alluvial and eolian
deposits. The study area spanned the arid landscape encompassed by the
Barry M. Goldwater Range West (BMGRW), which is administered by the
Marine Corps Air Station Yuma, in southwestern Arizona, USA. An
iterative principal component analysis (iPCA) was implemented for LiDAR
elevation- and Landsat ETM + -derived soil predictors, termed
environmental covariates. Principal components that characterize &amp;gt; 95%
of covariate space variability were then integrated and classified using
an ISODATA (Iterative Self-Organizing Data) unsupervised technique. The
classified map was further segmented into polygons based on a region
growing algorithm, yielding multi scale maps of soil-landscape relations
that were compared with maps of soil landforms identified from aerial
photographs, satellite images and field observation. The approach
identified and mapped the spatial variability of soil-landscape
relationships in alluvial and eolian deposits and illustrated the
applicability of coupling covariate selection and integration by iPCA,
ISODATA classification of integrated data layers, and image segmentation
for effective spatial prediction of soil landscape characteristics. The
approach developed here is data driven, applicable for multi-scale
mapping, allows incorporation of a wide variety of covariates, and maps
spatially homogenous soil-landscape units that are necessary for
hydrologic models, land and ecosystem management decisions, and hazard
assessment.&lt;/p&gt;

&lt;h3 id=&quot;global-linkages-between-teleconnection-patterns-and-the-terrestrial-biosphere&quot;&gt;Global linkages between teleconnection patterns and the terrestrial biosphere&lt;/h3&gt;

&lt;p&gt;Authors:
Dahlin, KM; Ault, TR&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;INTERNATIONAL JOURNAL OF APPLIED EARTH OBSERVATION AND GEOINFORMATION&lt;/em&gt;, 69 56-63; JUL 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Interannual variability In the global carbon cycle is largely due to
variations in carbon uptake by terrestrial ecosystems, yet linkages
between climate variability and variability in the terrestrial carbon
cycle are not well understood at the global scale. Using a 30-year
satellite record of semi-monthly leaf area index (LAI), we show that
four modes of climate variability El Nino/Southern Oscillation, the
North Atlantic Oscillation, the Atlantic Meridional Mode, and the Indian
Ocean Dipole Mode strongly impact interannual vegetation growth
patterns, with 68% of the land surface impacted by at least one of these
teleconnection patterns, yet the spatial distribution of these impacts
is heterogeneous. Considering the patterns’ impacts by biome, none has
an exclusively positive or negative relationship with LAI. Our findings
imply that future changes in the frequency and/or magnitude of
teleconnection patterns will lead to diverse changes to the terrestrial
biosphere and the global carbon cycle.&lt;/p&gt;

&lt;h3 id=&quot;a-scale-self-adapting-segmentation-approach-and-knowledge-transfer-for-automatically-updating-land-usecover-change-databases-using-high-spatial-resolution-images&quot;&gt;A scale self-adapting segmentation approach and knowledge transfer for automatically updating land use/cover change databases using high spatial resolution images&lt;/h3&gt;

&lt;p&gt;Authors:
Wang, ZH; Yang, XM; Lu, C; Yang, FS&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;INTERNATIONAL JOURNAL OF APPLIED EARTH OBSERVATION AND GEOINFORMATION&lt;/em&gt;, 69 88-98; JUL 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Automatic updating of land use/cover change (LUCC) databases using high
spatial resolution images (HSRI) is important for environmental
monitoring and policy making, especially for coastal areas that connect
the land and coast and that tend to change frequently. Many object-based
change detection methods are proposed, especially those combining
historical LUCC with HSRI. However, the scale parameter(s) segmenting
the serial temporal images, which directly determines the average object
size, is hard to choose without experts’ intervention. And the samples
transferred from historical LUCC also need experts’ intervention to
avoid insufficient or wrong samples. With respect to the scale
parameter(s) choosing, a Scale Self-Adapting Segmentation (SSAS)
approach based on the exponential sampling of a scale parameter and
location of the local maximum of a weighted local variance was proposed
to determine the scale selection problem when segmenting images
constrained by LUCC for detecting changes. With respect to the samples
transferring, Knowledge Transfer (KT), a classifier trained on
historical images with LUCC and applied in the classification of updated
images, was also proposed. Comparison experiments were conducted in a
coastal area of Zhujiang, China, using SPOT 5 images acquired in 2005
and 2010. The results reveal that (1) SSAS can segment images more
effectively without intervention of experts. (2) KT can also reach the
maximum accuracy of samples transfer without experts’ intervention.
Strategy SSAS + KT would be a good choice if the temporal historical
image and LUCC match, and the historical image and updated image are
obtained from the same resource.&lt;/p&gt;

&lt;h3 id=&quot;towards-machine-ecoregionalization-of-earths-landmass-using-pattern-segmentation-method&quot;&gt;Towards machine ecoregionalization of Earth’s landmass using pattern segmentation method&lt;/h3&gt;

&lt;p&gt;Authors:
Nowosad, J; Stepinski, TF&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;INTERNATIONAL JOURNAL OF APPLIED EARTH OBSERVATION AND GEOINFORMATION&lt;/em&gt;, 69 110-118; JUL 2018&lt;/p&gt;

&lt;p&gt;Abstract:
We present and evaluate a quantitative method for delineation of
ecophysiographic regions throughout the entire terrestrial landmass. The
method uses the new pattern-based segmentation technique which attempts
to emulate the qualitative, weight-of-evidence approach to a delineation
of ecoregions in a computer code. An ecophysiographic region is
characterized by homogeneous physiography defined by the cohesiveness of
patterns of four variables: land cover, soils, landforms, and climatic
patterns. Homogeneous physiography is a necessary but not sufficient
condition for a region to be an ecoregion, thus machine delineation of
ecophysiographic regions is the first, important step toward global
ecoregionalization. In this paper, we focus on the first-order
approximation of the proposed method - delineation on the basis of the
patterns of the land cover alone. We justify this approximation by the
existence of significant spatial associations between various
physiographic variables. Resulting ecophysiographic regionalization
(ECOR) is shown to be more physiographically homogeneous than existing
global ecoregionalizations (Terrestrial Ecoregions of the World (TEW)
and Bailey’s Ecoregions of the Continents (BEC)). The presented
quantitative method has an advantage of being transparent and objective.
It can be verified, easily updated, modified and customized for specific
applications. Each region in ECOR contains detailed, SQL-searchable
information about physiographic patterns within it. It also has a
computer-generated label. To give a sense of how ECOR compares to TEW
and, in the U.S., to EPA Level III ecoregions, we contrast these
different delineations using two specific sites as examples. We conclude
that ECOR yields regionalization somewhat similar to EPA level M
ecoregions, but for the entire world, and by automatic means.&lt;/p&gt;

&lt;h3 id=&quot;laser-based-spectroscopic-methods-to-evaluate-the-humification-degree-of-soil-organic-matter-in-whole-soils-a-review&quot;&gt;Laser-based spectroscopic methods to evaluate the humification degree of soil organic matter in whole soils: a review&lt;/h3&gt;

&lt;p&gt;Authors:
Senesi, GS; Martin-Neto, L; Villas-Boas, PR; Nicolodelli, G; Milori,
DMBP&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;JOURNAL OF SOILS AND SEDIMENTS&lt;/em&gt;, 18 (4):1292-1302; APR 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The objective of this review is to survey critically the results
obtained by the application of laser-induced fluorescence spectroscopy
(LIFS) and laser-induced breakdown spectroscopy (LIBS) to the evaluation
of the humification degree (HD) of soil organic matter (SOM) directly in
untreated, intact whole soils.A large number of soils of various origin
and nature, either native or under various cultivations, land use, and
management, at various depths, have been studied to evaluate the HD of
their SOM directly in intact whole samples. The LIFS spectra were
obtained by either a bench or a portable argon laser apparatus that
emits UV-VIS light of high power, whereas the LIBS spectra were obtained
using a Q-switched Nd:YAG laser at 1064 nm.The close correlations found
by comparing H-LIF values of whole soil samples with values of earlier
proposed humification indexes confirmed the applicability of LIFS to
assess the HD of SOM in whole soils. The high correlation found between
HDLIBS values and H-LIF values showed the promising potential of LIBS
for the evaluation HD of SOM.The LIFS technique shows to be a valuable
alternative to evaluate the HD of SOM by probing directly the whole
solid soil sample, thus avoiding the use of any previous chemical and/or
physical treatments or separation procedures of SOM from the mineral
soil matrix. The emerging application of LIBS to evaluate the HD of SOM
in whole soils appears promising and appealing due to its sensitivity,
selectivity, accuracy, and precision.&lt;/p&gt;

&lt;h3 id=&quot;better-models-are-more-effectively-connected-models&quot;&gt;Better models are more effectively connected models&lt;/h3&gt;

&lt;p&gt;Authors:
Nunes, JP; Wainwright, J; Bielders, CL; Darboux, F; Fiener, P; Finger,
D; Turnbull, L&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;EARTH SURFACE PROCESSES AND LANDFORMS&lt;/em&gt;, 43 (6):1355-1360; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Water- and sediment-transfer models are commonly used to explain or
predict patterns in the landscape at scales different from those at
which observations are available. These patterns are often the result of
emergent properties that occur because processes of water and sediment
transfer are connected in different ways. Recent advances in
geomorphology suggest that it is important to consider, at a specific
spatio-temporal scale, the structural connectivity of system properties
that control processes, and the functional connectivity resulting from
the way those processes operate and evolve through time. We argue that a
more careful consideration of how structural and functional connectivity
are represented in models should lead to more robust models that are
appropriate for the scale of application and provide results that can be
upscaled. This approach is necessary because, notwithstanding the
significant advances in computer power in recent years, many geomorphic
models are still unable to represent the landscape in sufficient detail
to allow all connectivity to emerge. It is important to go beyond the
simple representation of structural connectivity elements and allow the
dynamics of processes to be represented, for example by using a
connectivity function. This commentary aims to show how a better
representation of connectivity in models can be achieved, by considering
the sorts of landscape features present, and whether these features can
be represented explicitly in the model spatial structure, or must be
represented implicitly at the subgrid scale.&lt;/p&gt;

&lt;h3 id=&quot;multi-scale-relief-model-msrm-a-new-algorithm-for-the-visualization-of-subtle-topographic-change-of-variable-size-in-digital-elevation-models&quot;&gt;Multi-scale relief model (MSRM): a new algorithm for the visualization of subtle topographic change of variable size in digital elevation models&lt;/h3&gt;

&lt;p&gt;Authors:
Orengo, HA; Petrie, CA&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;EARTH SURFACE PROCESSES AND LANDFORMS&lt;/em&gt;, 43 (6):1361-1369; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Morphological analysis of landforms has traditionally relied on the
interpretation of imagery. Although imagery provides a natural view of
an area of interest (AOI) images are largely hindered by the
environmental conditions at the time of image acquisition, the quality
of the image and, mainly, the lack of topographical information, which
is an essential factor for a correct understanding of the AOI’s
geomorphology.More recently digital surface models (DSMs) have been
incorporated into the analytical toolbox of geomorphologists. These are
usually high-resolution models derived from digital photogrammetric
processes or LiDAR data. However, these are restricted to relatively
small areas and are expensive or complex to acquire, which limits
widespread implementation.In this paper, we present the multi-scale
relief model (MSRM), which is a new algorithm for the visual
interpretation of landforms using DSMs. The significance of this new
method lies in its capacity to extract landform morphology from both
high- and low-resolution DSMs independently of the shape or scale of the
landform under study. This method thus provides important advantages
compared to previous approaches as it: (1) allows the use of worldwide
medium resolution models, such as SRTM, ASTER GDEM, ALOS, and TanDEM-X;
(2) offers an alternative to traditional photograph interpretation that
does not rely on the quality of the imagery employed nor on the
environmental conditions and time of its acquisition; and (3) can be
easily implemented for large areas using traditional GIS/RS software.The
algorithm is tested in the Sutlej-Yamuna interfluve, which is a very
large low-relief alluvial plain in northwest India where 10 000 km of
palaeoriver channels have been mapped using MSRM. The code, written in
Google Earth Engine’s implementation of JavaScript, is provided as
Supporting Information for its use in any other AOI without particular
technical knowledge or access to topographical data&lt;/p&gt;

&lt;h3 id=&quot;deep-learning-in-agriculture-a-survey&quot;&gt;Deep learning in agriculture: A survey&lt;/h3&gt;

&lt;p&gt;Authors:
Kamilaris, A; Prenafeta-Boldu, FX&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 147 70-90; APR 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Deep learning constitutes a recent, modem technique for image processing
and data analysis, with promising results and large potential. As deep
learning has been successfully applied in various domains, it has
recently entered also the domain of agriculture. In this paper, we
perform a survey of 40 research efforts that employ deep learning
techniques, applied to various agricultural and food production
challenges. We examine the particular agricultural problems under study,
the specific models and frameworks employed, the sources, nature and
pre-processing of data used, and the overall performance achieved
according to the metrics used at each work under study. Moreover, we
study comparisons of deep learning with other existing popular
techniques, in respect to differences in classification or regression
performance. Our findings indicate that deep learning provides high
accuracy, outperforming existing commonly used image processing
techniques.&lt;/p&gt;

&lt;h3 id=&quot;mapping-agricultural-land-abandonment-from-spatial-and-temporal-segmentation-of-landsat-time-series&quot;&gt;Mapping agricultural land abandonment from spatial and temporal segmentation of Landsat time series&lt;/h3&gt;

&lt;p&gt;Authors:
Yin, H; Prishchepov, AV; Kuemmerle, T; Bleyhl, B; Buchner, J; Radeloff,
VC&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 210 12-24; JUN 1 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Agricultural land abandonment is a common land-use change, making the
accurate mapping of both location and timing when agricultural land
abandonment occurred important to understand its environmental and
social outcomes. However, it is challenging to distinguish agricultural
abandonment from transitional classes such as fallow land at high
spatial resolutions due to the complexity of change process. To date, no
robust approach exists to detect when agricultural land abandonment
occurred based on 30-m Landsat images. Our goal here was to develop a
new approach to detect the extent and the exact timing of agricultural
land abandonment using spatial and temporal segments derived from
Landsat time series. We tested our approach for one Landsat footprint in
the Caucasus, covering parts of Russia and Georgia, where agricultural
land abandonment is widespread. First, we generated agricultural land
image objects from multi-date Landsat imagery using a multi resolution
segmentation approach. Second, we estimated the probability for each
object that agricultural land was used each year based on Landsat
temporal-spectral metrics and a random forest model. Third, we applied
temporal segmentation of the resulting agricultural land probability
time series to identify change classes and detect when abandonment
occurred. We found that our approach was able to accurately separate
agricultural abandonment from active agricultural lands, fallow land,
and re-cultivation. Our spatial and temporal segmentation approach
captured the changes at the object level well (overall mapping accuracy
= 97 +/- 1%), and performed substantially better than pixel-level change
detection (overall accuracy = 82 +/- 3%). We found strong spatial and
temporal variations in agricultural land abandonment rates in our study
area, likely a consequence of regional wars after the collapse of the
Soviet Union. In summary, the combination of spatial and temporal
segmentation approaches of time-series is a robust method to track
agricultural land abandonment and may be relevant for other land-use
changes as well.&lt;/p&gt;

&lt;h3 id=&quot;how-far-are-we-from-the-use-of-satellite-rainfall-products-in-landslide-forecasting&quot;&gt;How far are we from the use of satellite rainfall products in landslide forecasting?&lt;/h3&gt;

&lt;p&gt;Authors:
Brunetti, MT; Melillo, M; Peruccacci, S; Ciabatta, L; Brocca, L&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 210 65-75; JUN 1 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Satellite rainfall products have been available for many years (since
‘90) with an increasing spatial/temporal resolution and accuracy. Their
global scale coverage and near real-time products perfectly fit the need
of an early warning landslide system. Notwithstanding these
characteristics, the number of studies employing satellite rainfall
estimates for predicting landslide events is quite limited.In this
study, we propose a procedure that allows us to evaluate the capability
of different rainfall products to forecast the spatial -temporal
occurrence of rainfall -induced landslides using rainfall thresholds.
Specifically, the assessment is carried out in terms of skill scores,
and receiver operating characteristic (ROC) analysis. The procedure is
applied to ground observations and four different satellite rainfall
estimates: 1) the Tropical Rainfall Measurement Mission Multi -satellite
Precipitation Analysis, TMPA, real time product (3642-RT), 2) the
SM2RASC product obtained from the application of SM2RAIN algorithm to
the Advanced SCATterometer (ASCAT) derived satellite soil moisture (SM)
data, 3) the Precipitation Estimation from Remotely Sensed Information
using Artificial Neural Network (PERSIANN), and 4) the Climate
Prediction Center (CPC) Morphing Technique (CMORPH). As case study, we
consider the Italian territory for which a catalogue listing 1414
rainfall induced landslides in the period 2008-2014 is available.Results
show that satellite products underestimate rainfall with respect to
ground observations. However, by adjusting the rainfall thresholds,
satellite products are able to identify landslide occurrence, even
though with less accuracy than ground-based rainfall observations. Among
the four satellite rainfall products, CMORPH and SM2RASC are performing
the best, even though differences are small. This result is to be
attributed to the high spatial/temporal resolution of CMORPH, and the
good accuracy of SM2RSC. Overall, we believe that satellite rainfall
estimates might be an important additional data source for developing
continental or global landslide warning systems.&lt;/p&gt;

&lt;h3 id=&quot;mapping-rootable-depth-and-root-zone-plant-available-water-holding-capacity-of-the-soil-of-sub-saharan-africa&quot;&gt;Mapping rootable depth and root zone plant-available water holding capacity of the soil of sub-Saharan Africa&lt;/h3&gt;

&lt;p&gt;Authors:
Leenaars, JGB; Claessens, L; Heuvelink, GBM; Hengla, T; Gonzalez, MR;
van Bussel, LGJ; Guilpart, N; Yang, HS; Cassman, KG&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 324 18-36; AUG 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
In rainfed crop production, root zone plant-available water holding
capacity (RZ-PAWHC) of the soil has a large influence on crop growth and
the yield response to management inputs such as improved seeds and
fertilisers. However, data are lacking for this parameter in sub-Saharan
Africa (SSA). This study produced the first spatially explicit, coherent
and complete maps of the rootable depth and RZ-PAWHC of soil in SSA. We
compiled georeferenced data from 28,000 soil profiles from SSA, which
were used as input for digital soil mapping (DSM) techniques to produce
soil property maps of SSA. Based on these soil properties, we developed
and parameterised (pedotransfer) functions, rules and criteria to
evaluate soil water retention at field capacity and wilting point, the
soil fine earth fraction from coarse fragments content and, for maize,
the soil rootability (relative to threshold values) and rootable depth.
Maps of these secondary soil properties were derived using the primary
soil property maps as input for the evaluation rules and the results
were aggregated over the rootable depth to obtain a map of RZ-PAWHC,
with a spatial resolution of 1 km(2). The mean RZ-PAWHC for SSA is 74 mm
and the associated average root zone depth is 96 cm. Pearson correlation
between the two is 0.95. RZ-PAWHC proves most limited by the rootable
depth but is also highly sensitive to the definition of field capacity.
The total soil volume of SSA potentially rootable by maize is reduced by
one third (over 10,500 km(3)) due to soil conditions restricting root
zone depth. Of these, 4800 km(3) are due to limited depth of aeration,
which is the factor most severely limiting in terms of extent (km2), and
2500 km(3) due to sodicity which is most severely limiting in terms of
degree (depth in cm). Depth of soil to bedrock reduces the rootable soil
volume by 2500 km(3), aluminium toxicity by 600 km(3), porosity by 120
km(3) and alkalinity by 20 km(3). The accuracy of the map of rootable
depth and thus of RZ-PAWHC could not be validated quantitatively due to
absent data on rootability and rootable depth but is limited by the
accuracy of the primary soil property maps. The methodological framework
is robust and has been operationalised such that the maps can easily be
updated as additional data become available.&lt;/p&gt;

&lt;h3 id=&quot;accounting-for-non-stationary-variance-in-geostatistical-mapping-of-soil-properties&quot;&gt;Accounting for non-stationary variance in geostatistical mapping of soil properties&lt;/h3&gt;

&lt;p&gt;Authors:
Wadoux, AMJC; Brus, DJ; Heuvelink, GBM&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 324 138-147; AUG 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Simple and ordinary kriging assume a constant mean and variance of the
soil variable of interest. This assumption is often implausible because
the mean and/or variance are linked to terrain attributes, parent
material or other soil forming factors. In kriging with external drift
(KED) non-stationarity in the mean is accounted for by modelling it as a
linear combination of covariates. In this study, we applied an extension
of KED that also accounts for non-stationary variance. Similar to the
mean, the variance is modelled as a linear combination of covariates.
The set of covariates for the mean may differ from the set for the
variance. The best combinations of covariates for the mean and variance
are selected using Akaike’s information criterion. Model parameters of
the selected model are then estimated by differential evolution using
the Restricted Maximum Likelihood (REML) in the objective function. The
methodology was tested in a small area of the Hunter Valley, NSW
Australia, where samples from a fine grid with gamma K measurements were
treated as measurements of the variable of interest. Terrain attributes
were used as covariates. Both a non-stationary variance and a stationary
variance model were calibrated. The mean squared prediction errors of
the two models were somewhat comparable. However, the uncertainty about
the predictions was much better quantified by the non-stationary
variance model, as indicated by the mean and median of the standardized
squared prediction error and by accuracy plots. We conclude that the non
-stationary variance model is more flexible and better suited for
uncertainty quantification of a mapped soil property. However, parameter
estimation of the non -stationary variance model requires more attention
due to possible singularity of the covariance matrix.&lt;/p&gt;

&lt;h3 id=&quot;global-environmental-costs-of-chinas-thirst-for-milk&quot;&gt;Global environmental costs of China’s thirst for milk&lt;/h3&gt;

&lt;p&gt;Authors:
Bai, ZH; Lee, MRF; Ma, L; Ledgard, S; Oenema, O; Velthof, GL; Ma, WQ;
Guo, MC; Zhao, ZQ; Wei, S; Li, SL; Liu, X; Havlik, P; Luo, JF; Hu, CS;
Zhang, FS&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GLOBAL CHANGE BIOLOGY&lt;/em&gt;, 24 (5):2198-2211; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
China has an ever-increasing thirst for milk, with a predicted 3.2-fold
increase in demand by 2050 compared to the production level in 2010.
What are the environmental implications of meeting this demand, and what
is the preferred pathway? We addressed these questions by using a nexus
approach, to examine the interdependencies of increasing milk
consumption in China by 2050 and its global impacts, under different
scenarios of domestic milk production and importation. Meeting China’s
milk demand in a business as usual scenario will increase global
dairy-related (China and the leading milk exporting regions) greenhouse
gas (GHG) emissions by 35% (from 565 to 764Tg CO2eq) and land use for
dairy feed production by 32% (from 84 to 111 million ha) compared to
2010, while reactive nitrogen losses from the dairy sector will increase
by 48% (from 3.6 to 5.4Tg nitrogen). Producing all additional milk in
China with current technology will greatly increase animal feed import;
from 1.9 to 8.5Tg for concentrates and from 1.0 to 6.2Tg for forage
(alfalfa). In addition, it will increase domestic dairy related GHG
emissions by 2.2 times compared to 2010 levels. Importing the extra milk
will transfer the environmental burden from China to milk exporting
countries; current dairy exporting countries may be unable to produce
all additional milk due to physical limitations or environmental
preferences/legislation. For example, the farmland area for cattle-feed
production in New Zealand would have to increase by more than 57% (1.3
million ha) and that in Europe by more than 39% (15 million ha), while
GHG emissions and nitrogen losses would increase roughly proportionally
with the increase of farmland in both regions. We propose that a more
sustainable dairy future will rely on high milk demanding regions (such
as China) improving their domestic milk and feed production efficiencies
up to the level of leading milk producing countries. This will decrease
the global dairy related GHG emissions and land use by 12% (90Tg CO2eq
reduction) and 30% (34 million ha land reduction) compared to the
business as usual scenario, respectively. However, this still represents
an increase in total GHG emissions of 19% whereas land use will decrease
by 8% when compared with 2010 levels, respectively.&lt;/p&gt;

&lt;h3 id=&quot;exploring-the-case-for-a-national-scale-soil-conservation-and-soil-condition-framework-for-evaluating-and-reporting-on-environmental-and-land-use-policies&quot;&gt;Exploring the case for a national-scale soil conservation and soil condition framework for evaluating and reporting on environmental and land use policies&lt;/h3&gt;

&lt;p&gt;Authors:
Humphries, RN; Brazier, RE&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;SOIL USE AND MANAGEMENT&lt;/em&gt;, 34 (1):134-146; MAR 2018&lt;/p&gt;

&lt;p&gt;Abstract:
It has long been realized that the conservation of soil capital and
ecosystem services are of paramount importance, resulting in a growing
case for a change in attitude and policymaking in respect of soils.
Current UK and EU approaches are risk-based and focused on measures to
manage and remediate the adverse impact of current policies and
practices directed at maximizing productivity and profit, rather than
one of resource conservation. Increasing soil loss and degradation is
evidence that current policy is not working and a new approach is
needed. In the UK there is governmental ambition to progress towards
natural capital-led land use policies but, in the absence of a framework
to determine the relative condition of the soil resource, the delivery
of sustainable soil conservation policies will continue to be inhibited.
Common Standards Monitoring (CSM) is an established monitoring and
management framework (based on ecosystem structure, function and
process) and has been effectively deployed for almost two decades by the
UK Government for the monitoring and reporting of key biological and
earth science natural capital and ecosystem services from field’ to
local, regional and national levels to the European Commission. It is
argued that a CSM for soils could be developed for the UK’s soil
resources as well as for those elsewhere, and would be able to deliver a
conservation rather than the current risk-based approach. It is capable
of accommodating the complexities and variation in soil types and
functions and potentially being practical and cost-effective in its
implementation.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/05/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on May 17, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Journal Paper Digests]]></title>
 <link rel="alternate" type="text/html" href="/2018/05/journalDigest" />
  <id>/2018/05/journalDigest</id>
  <updated>2018-05-12T00:00:00-00:00</updated>
  <published>2018-05-12T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;h2 id=&quot;journal-paper-digests-2018-10&quot;&gt;Journal Paper Digests 2018 #10&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Hydrological Storage Length Scales Represented by Remote Sensing Estimates of Soil Moisture and Precipitation&lt;/li&gt;
  &lt;li&gt;A Primer for Model Selection: The Decisive Role of Model Complexity&lt;/li&gt;
  &lt;li&gt;Spatial Variability of Soil Moisture and the Scale Issue: A Geostatistical Approach&lt;/li&gt;
  &lt;li&gt;Soil Texture Often Exerts a Stronger Influence Than Precipitation on Mesoscale Soil Moisture Patterns&lt;/li&gt;
  &lt;li&gt;Deep learning in agriculture: A survey&lt;/li&gt;
  &lt;li&gt;Vineyard water status estimation using multispectral imagery from an UAV platform and machine learning algorithms for irrigation scheduling management&lt;/li&gt;
  &lt;li&gt;Spectral matching based on discrete particle swarm optimization: A new method for terrestrial water body extraction using multi-temporal Landsat 8 images&lt;/li&gt;
  &lt;li&gt;How much can natural resource inventory benefit from finer resolution auxiliary data?&lt;/li&gt;
  &lt;li&gt;A Cubesat enabled Spatio-Temporal Enhancement Method (CESTEM) utilizing Planet, Landsat and MODIS data&lt;/li&gt;
  &lt;li&gt;The functional characterization of grass- and shrubland ecosystems using hyperspectral remote sensing: trends, accuracy and moderating variables&lt;/li&gt;
  &lt;li&gt;Overview of Solar-Induced chlorophyll Fluorescence (SIF) from the Orbiting Carbon Observatory-2: Retrieval, cross-mission comparison, and global monitoring for GPP&lt;/li&gt;
  &lt;li&gt;Soil respiration and its temperature sensitivity (Q10): Rapid acquisition using mid-infrared spectroscopy&lt;/li&gt;
  &lt;li&gt;Soil mineral assemblage and substrate quality effects on microbial priming&lt;/li&gt;
  &lt;li&gt;The singularity index for soil geochemical variables, and a mixture model for its interpretation&lt;/li&gt;
  &lt;li&gt;A pedometric technique to delimitate soil-specific zones at field scale&lt;/li&gt;
  &lt;li&gt;Digital soil monitoring of top- and sub-soil pH with bivariate linear mixed models&lt;/li&gt;
  &lt;li&gt;A preliminary spatial quantification of the soil security dimensions for Tasmania&lt;/li&gt;
  &lt;li&gt;Soil quality - A critical review&lt;/li&gt;
  &lt;li&gt;The root of the matter: Linking root traits and soil organic matter stabilization processes&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;hydrological-storage-length-scales-represented-by-remote-sensing-estimates-of-soil-moisture-and-precipitation&quot;&gt;Hydrological Storage Length Scales Represented by Remote Sensing Estimates of Soil Moisture and Precipitation&lt;/h3&gt;

&lt;p&gt;Authors:
Akbar, R; Gianotti, DS; McColl, KA; Haghighi, E; Salvucci, GD;
Entekhabi, D&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;WATER RESOURCES RESEARCH&lt;/em&gt;, 54 (3):1476-1492; MAR 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The soil water content profile is often well correlated with the soil
moisture state near the surface. They share mutual information such that
analysis of surface-only soil moisture is, at times and in conjunction
with precipitation information, reflective of deeper soil fluxes and
dynamics. This study examines the characteristic length scale, or
effective depth Delta z, of a simple active hydrological control volume.
The volume is described only by precipitation inputs and soil water
dynamics evident in surface-only soil moisture observations. To proceed,
first an observation-based technique is presented to estimate the soil
moisture loss function based on analysis of soil moisture dry-downs and
its successive negative increments. Then, the length scale Delta z is
obtained via an optimization process wherein the root-mean-squared (RMS)
differences between surface soil moisture observations and its
predictions based on water balance are minimized. The process is
entirely observation-driven. The surface soil moisture estimates are
obtained from the NASA Soil Moisture Active Passive (SMAP) mission and
precipitation from the gauge-corrected Climate Prediction Center daily
global precipitation product. The length scale Delta z exhibits a clear
east-west gradient across the contiguous United States (CONUS), such
that large Delta z depths (&amp;gt;200 mm) are estimated in wetter regions with
larger mean precipitation. The median Delta z across CONUS is 135 mm.
The spatial variance of Delta z is predominantly explained and
influenced by precipitation characteristics. Soil properties, especially
texture in the form of sand fraction, as well as the mean soil moisture
state have a lesser influence on the length scale.&lt;/p&gt;

&lt;h3 id=&quot;a-primer-for-model-selection-the-decisive-role-of-model-complexity&quot;&gt;A Primer for Model Selection: The Decisive Role of Model Complexity&lt;/h3&gt;

&lt;p&gt;Authors:
Hoge, M; Wohling, T; Nowak, W&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;WATER RESOURCES RESEARCH&lt;/em&gt;, 54 (3):1688-1715; MAR 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Selecting a “best” model among several competing candidate models poses
an often encountered problem in water resources modeling (and other
disciplines which employ models). For a modeler, the best model fulfills
a certain purpose best (e.g., flood prediction), which is typically
assessed by comparing model simulations to data (e.g., stream flow).
Model selection methods find the “best” trade-off between good fit with
data and model complexity. In this context, the interpretations of model
complexity implied by different model selection methods are crucial,
because they represent different underlying goals of modeling. Over the
last decades, numerous model selection criteria have been proposed, but
modelers who primarily want to apply a model selection criterion often
face a lack of guidance for choosing the right criterion that matches
their goal. We propose a classification scheme for model selection
criteria that helps to find the right criterion for a specific goal,
i.e., which employs the correct complexity interpretation. We identify
four model selection classes which seek to achieve high predictive
density, low predictive error, high model probability, or shortest
compression of data. These goals can be achieved by following either
nonconsistent or consistent model selection and by either incorporating
a Bayesian parameter prior or not. We allocate commonly used criteria to
these four classes, analyze how they represent model complexity and what
this means for the model selection task. Finally, we provide guidance on
choosing the right type of criteria for specific model selection tasks.
(A quick guide through all key points is given at the end of the
introduction.)&lt;/p&gt;

&lt;h3 id=&quot;spatial-variability-of-soil-moisture-and-the-scale-issue-a-geostatistical-approach&quot;&gt;Spatial Variability of Soil Moisture and the Scale Issue: A Geostatistical Approach&lt;/h3&gt;

&lt;p&gt;Authors:
Zarlenga, A; Fiori, A; Russo, D&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;WATER RESOURCES RESEARCH&lt;/em&gt;, 54 (3):1765-1780; MAR 2018&lt;/p&gt;

&lt;p&gt;Abstract:
We study the standard deviation of water saturation SDS as function of
the mean saturation &amp;lt; S &amp;gt; by a stochastic model of unsaturated flow,
which is based on the first-order solution of the three-dimensional
Richards equation. The model assumes spatially variable soil properties,
following a given geostatistical description, and it explicitly accounts
for the different scales involved in the determination of the spatial
properties of saturation: the extent L, i.e., the domain size, the
spacing Delta among measurements, and the dimension l associated to the
sampling measurement. It is found that the interplay between those
scales and the correlation scale I of the hydraulic properties rules the
spatial variability of saturation. A “scale effect’’ manifests for small
to intermediate L/I, for which SDS increase with the extent L. This
nonergodic effect depends on the structural and hydraulic parameters as
well as the scales of the problem, and it is consistent with a similar
effect found in field experiments. In turn, the influence of the scale l
is to decrease the saturation variability and increase its spatial
correlation. Although the solution focuses on the medium heterogeneity
as the main driver for the spatial variability of saturation, neglecting
other important components, it explicitly links the spatial variation of
saturation to the hydraulic properties of the soil, their spatial
variability, and the sampling schemes; it can provide a useful tool to
assess the impact of scales on the saturation variability, also in view
of the several applications that involve the saturation variability.&lt;/p&gt;

&lt;h3 id=&quot;soil-texture-often-exerts-a-stronger-influence-than-precipitation-on-mesoscale-soil-moisture-patterns&quot;&gt;Soil Texture Often Exerts a Stronger Influence Than Precipitation on Mesoscale Soil Moisture Patterns&lt;/h3&gt;

&lt;p&gt;Authors:
Dong, JN; Ochsner, TE&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;WATER RESOURCES RESEARCH&lt;/em&gt;, 54 (3):2199-2211; MAR 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soil moisture patterns are commonly thought to be dominated by land
surface characteristics, such as soil texture, at small scales and by
atmospheric processes, such as precipitation, at larger scales. However,
a growing body of evidence challenges this conceptual model. We
investigated the structural similarity and spatial correlations between
mesoscale (approximate to 1-100 km) soil moisture patterns and land
surface and atmospheric factors along a 150 km transect using 4 km
multisensor precipitation data and a cosmic-ray neutron rover, with a
400 m diameter footprint. The rover was used to measure soil moisture
along the transect 18 times over 13 months. Spatial structures of soil
moisture, soil texture (sand content), and antecedent precipitation
index (API) were characterized using autocorrelation functions and
fitted with exponential models. Relative importance of land surface
characteristics and atmospheric processes were compared using
correlation coefficients (r) between soil moisture and sand content or
API. The correlation lengths of soil moisture, sand content, and API
ranged from 12-32 km, 13-20 km, and 14-45 km, respectively. Soil
moisture was more strongly correlated with sand content (r=-0.536 to
-0.704) than with API for all but one date. Thus, land surface
characteristics exhibit coherent spatial patterns at scales up to 20 km,
and those patterns often exert a stronger influence than do
precipitation patterns on mesoscale spatial patterns of soil moisture.&lt;/p&gt;

&lt;h3 id=&quot;deep-learning-in-agriculture-a-survey&quot;&gt;Deep learning in agriculture: A survey&lt;/h3&gt;

&lt;p&gt;Authors:
Kamilaris, A; Prenafeta-Boldu, FX&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 147 70-90; APR 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Deep learning constitutes a recent, modem technique for image processing
and data analysis, with promising results and large potential. As deep
learning has been successfully applied in various domains, it has
recently entered also the domain of agriculture. In this paper, we
perform a survey of 40 research efforts that employ deep learning
techniques, applied to various agricultural and food production
challenges. We examine the particular agricultural problems under study,
the specific models and frameworks employed, the sources, nature and
pre-processing of data used, and the overall performance achieved
according to the metrics used at each work under study. Moreover, we
study comparisons of deep learning with other existing popular
techniques, in respect to differences in classification or regression
performance. Our findings indicate that deep learning provides high
accuracy, outperforming existing commonly used image processing
techniques.&lt;/p&gt;

&lt;h3 id=&quot;vineyard-water-status-estimation-using-multispectral-imagery-from-an-uav-platform-and-machine-learning-algorithms-for-irrigation-scheduling-management&quot;&gt;Vineyard water status estimation using multispectral imagery from an UAV platform and machine learning algorithms for irrigation scheduling management&lt;/h3&gt;

&lt;p&gt;Authors:
Romero, M; Luo, YC; Su, BF; Fuentes, S&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;COMPUTERS AND ELECTRONICS IN AGRICULTURE&lt;/em&gt;, 147 109-117; APR 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Remote sensing can provide a fast and reliable alternative for
traditional in situ water status measurement in vineyards. Several
vegetation indices (Ws) derived from aerial multispectral imagery were
tested to estimate midday stem water potential (Psi(stem)) of
grapevines. The experimental trial was carried out in a vineyard in the
Shangri-La region, located in Yunnan province in China. Statistical
methods and machine learning algorithms were used to evaluate the
correlations between Psi(stem) and VIs. Results by simple regression
between VIs individually and Psi(stem) showed no significant
relationships, with coefficient of determination (R-2) for linear
fitting smaller than 0.3 for almost all the indices studied, except for
the Optimal Soil Adjusted Vegetation Index (OSAVI); R-2 = 0.42 with
statistical significance (p &amp;lt;= 0.001). However, results from a model
obtained by fitting using Artificial Neural Network (ANN), using all VIs
calculated as inputs and real Psi(stem) from plants within the study
site (n = 90) as targets (Model 1), showed high correlation between the
estimated water potential through ANN (Psi(stem ANN)) and the actual
measured Psi(stem). Training, validation and testing data sets presented
individual correlations of R = 0.8, 0.72 and 0.62 respectively. The
models obtained from the study site were then applied to a wider area
from the vineyard studied and compared to further Psi(stem) measured
obtained from different sites (n = 23) showing high correlation values
between Psi(stem) (ANN) and real Psi(stem) (R-2 = 0.83; slope = 1; p &amp;lt;=
0.001). Finally, a pattern recognition ANN model (Model 2) was developed
for irrigation scheduling purposes using the same Psi(stem) measured in
the study site as inputs and with the following thresholds as outputs:
Psi(stem) below -1.2 MPa considered as severe water stress (SS),
Psi(stem) between -0.8 to -1.2 MPa as moderate stress (MS) and Psi(stem)
over -0.8 MPa with no water stress (NS). This model can be applied to
analyze on a plant by plant basis to identify sectors of stress within
the vineyard for optimal irrigation management and to identify spatial
variability within the vineyards.&lt;/p&gt;

&lt;h3 id=&quot;spectral-matching-based-on-discrete-particle-swarm-optimization-a-new-method-for-terrestrial-water-body-extraction-using-multi-temporal-landsat-8-images&quot;&gt;Spectral matching based on discrete particle swarm optimization: A new method for terrestrial water body extraction using multi-temporal Landsat 8 images&lt;/h3&gt;

&lt;p&gt;Authors:
Jia, K; Jiang, WG; Li, J; Tang, ZH&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 209 1-18; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Terrestrial water, an important indicator of inland hydrological status,
is sensitive to land use cover change, natural disaster and climate
change. An accurate and robust water extraction method can determine the
surface water distribution. In this paper, a new method, called the
spectrum matching based on discrete particle swarm optimization (SMDPSO)
is proposed to recognize water and nonwater in Landsat 8 Operational
Land Imager (OLI) images. Only two parameters, the standard water
spectrum and the tile size, are considered. These parameters are
sufficiently stable so it is unnecessary to change their values for
different conditions. By contrast, in supervised methods, samples are
chosen based on conditions. Eight test sites covering various water
types in different climate conditions are used to assess the performance
relative to that of unsupervised and supervised methods in terms of
overall accuracy (OA), kappa coefficients (KC), commission error (CE)
and omission error (OE). The results show that: (1) SMDPSO achieves the
highest accuracy and robustness; (2) SMDPSO has lower OE but higher CE
than the supervised method, which means that SMDPSO is the least likely
to misclassify water as nonwater, but is more likely to misclassify
nonwater as water; (3) SMDPSO has advantages with respect to removing
shallows and dark vegetation and preserving the real distribution of
small ponds, but cannot recognize shadows, ice, or clouds without the
help of other data such as DEM. In addition, a case of flooding in
northeastern China is analyzed to demonstrate the applicability of
SMDPSO in water inundation mapping. The findings of this study
demonstrate a novel robust, low-cost water extraction method that
satisfies the requirements of terrestrial water inundation mapping and
management.&lt;/p&gt;

&lt;h3 id=&quot;how-much-can-natural-resource-inventory-benefit-from-finer-resolution-auxiliary-data&quot;&gt;How much can natural resource inventory benefit from finer resolution auxiliary data?&lt;/h3&gt;

&lt;p&gt;Authors:
Hou, ZY; McRoberts, RE; Stahl, G; Packalen, P; Greenberg, JA; Xu, Q&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 209 31-40; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
For remote sensing-assisted natural resource inventories, the effects of
spatial resolution in the form of pixel size and the effects of subpixel
information on estimates of population parameters were evaluated by
comparing results obtained using Landsat 8 and RapidEye auxiliary
imagery. The study area was in Burkina Faso, and the response variable
of interest was firewood volume (m(3)/ha). A sample consisting of 160
field plots was selected from the population following a two-stage
sampling design. Models were fit using weighted least squares; the
population mean, mu, and the variance of the estimator of the population
mean, V ((mu) over cap), were estimated using two inferential
frameworks, model-based and model-assisted, and compared. For each
framework, V((mu) over cap) was estimated both analytically and
empirically. Empirical variances were estimated using bootstrapping that
accounted for the two-stage sampling. The primary results were twofold.
First, for the effects of spatial resolution and subpixel information,
four conclusions are relevant: (1) finer spatial resolution imagery
indeed contributed to greater precision for estimators of population
parameter, but despite the finer spatial resolution of RapidEye, the
increase was only marginal, on the order of 10% for model-based variance
estimators and 36% for model assisted variance estimators; (2) subpixel
information on texture was marginally beneficial for inference of large
area population parameters; (3) RapidEye did not offer enough of an
improvement to justify its cost relative to the free Landsat 8 imagery;
and (4) for a given plot size, candidate remote sensing auxiliary
datasets are more cost-effective when their spatial resolutions are
similar to the plot size than with much finer alternatives. Second, for
the comparison between estimators, three conclusions are relevant: (1)
sampling distribution for the model based V((mu) over cap) was more
concentrated and smaller on the order of 42% to 59% than that for the
model-assisted V((mu) over cap), suggesting superior consistency and
efficiency of model-based inference to model-assisted inference; (2)
bootstrapping is an effective alternative to analytical variance
estimators; and (3) prediction accuracy expressed by RMSE is useful for
screening candidate models to be used for population inferences.&lt;/p&gt;

&lt;h3 id=&quot;a-cubesat-enabled-spatio-temporal-enhancement-method-cestem-utilizing-planet-landsat-and-modis-data&quot;&gt;A Cubesat enabled Spatio-Temporal Enhancement Method (CESTEM) utilizing Planet, Landsat and MODIS data&lt;/h3&gt;

&lt;p&gt;Authors:
Houborg, R; McCabe, MF&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 209 211-226; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Satellite sensing in the visible to near-infrared (VNIR) domain has been
the backbone of land surface monitoring and characterization for more
than four decades. However, a limitation of conventional single-sensor
satellite missions is their limited capacity to observe land surface
dynamics at the very high spatial and temporal resolutions demanded by a
wide range of applications. One solution to this spatio-temporal divide
is an observation strategy based on the CubeSat standard, which
facilitates constellations of small, inexpensive satellites. Repeatable
near-daily image capture in RGB and near-infrared (NIR) bands at 3-4 m
resolution has recently become available via a constellation of &amp;gt; 130
CubeSats operated commercially by Planet. While the observing capacity
afforded by this system is unprecedented, the relatively low radiometric
quality and cross-sensor inconsistencies represent key challenges in the
realization of their full potential as a game changer in Earth
observation. To address this issue, we developed a Cubesat Enabled
Spatio-Temporal Enhancement Method (CESTEM) that uses a multi-scale
machine-learning technique to correct for radiometric inconsistencies
between CubeSat acquisitions. The CESTEM produces Landsat 8 consistent
atmospherically corrected surface reflectances in blue, green, red, and
NIR bands, but at the spatial scale and temporal frequency of the
CubeSat observations. An application of CESTEM over an agricultural
dryland system in Saudi Arabia demonstrated CubeSat-based reproduction
of Landsat 8 consistent VNIR data with an overall relative mean absolute
deviation of 1.6% or better, even when the Landsat 8 and CubeSat
acquisitions were temporally displaced by &amp;gt; 32 days. The consistently
high retrieval accuracies were achieved using a multi-scale target
sampling scheme that draws Landsat 8 reference data from a series of
scenes by using MODIS-consistent surface reflectance time series to
quantify relative changes in Landsat-scale reflectances over given
Landsat-CubeSat acquisition timespans. With the observing potential of
Planet’s CubeSats approaching daily nadir-pointing land surface imaging
of the entire Earth, CESTEM offers the capacity to produce daily Landsat
8 consistent VNIR imagery with a factor of 10 increase in spatial
resolution and with the radiometric quality of actual Landsat 8
observations. Realization of this unprecedented Earth observing capacity
has far reaching implications for the monitoring and characterization of
terrestrial systems at the precision scale.&lt;/p&gt;

&lt;h3 id=&quot;the-functional-characterization-of-grass--and-shrubland-ecosystems-using-hyperspectral-remote-sensing-trends-accuracy-and-moderating-variables&quot;&gt;The functional characterization of grass- and shrubland ecosystems using hyperspectral remote sensing: trends, accuracy and moderating variables&lt;/h3&gt;

&lt;p&gt;Authors:
Van Cleemput, E; Vanierschot, L; Fernandez-Castilla, B; Honnay, O;
Somers, B&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 209 747-763; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Hyperspectral remote sensing is increasingly being recognized as a
powerful tool to map ecosystem properties and functions through time and
space. However, general information on the accuracy of this technology
to assess the vegetation’s biophysical and-chemical trait composition,
and on the variables which are mediating this accuracy, is often lacking
so far. Here, we addressed this knowledge gap for grass- and shrubland
ecosystems and applied novel three-level meta-analytical regression
equations to 77 studies that validated hyperspectral remote sensing data
with field observations. Our results showed that the accuracy of
hyperspectral sensors is generally high, but strongly depends on the
trait being studied (leaf area index: R-2 = 0.79 and nRMSE = 0.19,
chlorophyll: R-2 = 0.77 and nRMSE = 0.21, carotenoids: R-2 = 0.80 and
nRMSE = 0.29, phosphorus: R-2 = 0.75 and nRMSE = 0.14, nitrogen: R-2 =
0.74 and nRMSE = 0.09, water: R-2 = 0.69 and nRMSE = 0.13, and lignin
content: R-2 = 0.64 and nRMSE = 0.26). Moreover, they indicated that the
use of multivariate signal processing techniques could improve these
estimation accuracies (adjusted p &amp;lt; 0.06 for LAI, chlorophyll and
nitrogen). Finally, estimations from air- and spaceborne imaging
spectrometers, allowing for functional mapping at broader spatial
scales, were found to be as accurate as estimations from ground-based
spectral measurements. Despite these promising findings, we revealed
that leaf morphological properties (e.g. specific leaf area and leaf dry
matter content) and biochemical traits which are not growth-related
(e.g. lignin and cellulose) remain under explored in grass- and
shrublands. Moreover there was a strong publication bias towards R2 for
assessing model performance. Our findings foster and direct further
methodological and technological developments for a more accurate and
complete functional characterization of these ecosystems worldwide.&lt;/p&gt;

&lt;h3 id=&quot;overview-of-solar-induced-chlorophyll-fluorescence-sif-from-the-orbiting-carbon-observatory-2-retrieval-cross-mission-comparison-and-global-monitoring-for-gpp&quot;&gt;Overview of Solar-Induced chlorophyll Fluorescence (SIF) from the Orbiting Carbon Observatory-2: Retrieval, cross-mission comparison, and global monitoring for GPP&lt;/h3&gt;

&lt;p&gt;Authors:
Sun, Y; Frankenberg, C; Jung, M; Joiner, J; Guanter, L; Kohler, P;
Magney, T&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;REMOTE SENSING OF ENVIRONMENT&lt;/em&gt;, 209 808-823; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
The Orbiting Carbon Observatory-2 (OCO-2), launched in July 2014, is
capable of measuring Solar-Induced chlorophyll Fluorescence (SIF), a
functional proxy for terrestrial gross primary productivity (GPP).
Although its primary mission is to measure the column-averaged mixing
ratio of CO2 (Xco(2)) to constrain global carbon source/sink
distribution, one of the OCO-2 spectrometers allows for a robust SIF
retrieval solely based on solar Fraunhofer lines. Here we present a
technical overview of the OCO-2 SIF product, aiming to provide the
scientific community guidance on best practices for data analysis,
interpretation, and application. This overview consists of the retrieval
algorithms, OCO-2 specific bias correction, retrieval uncertainty
evaluation, cross-mission comparison with other existing SIF products,
and a global-scale examination of the SIF-GPP relationship. With the
initial three years of data (September 2014 onward), we compared OCO-2
SIF with retrievals from Greenhouse Gases Observing Satellite (GOSAT)
and Global Ozone Monitoring Experiment-2 (GOME-2), and examined its
relationship with FLUXCOM and MODIS GPP datasets. Our results show that
OCO-2 SIF, along with GOSAT products, closely resemble the mean spatial
and temporal patterns of FLUXCOM GPP from regions to the globe. Compared
with GOME-2, however, OCO-2 depicts a more realistic spatial contrast
between the tropics and extra-tropics. The linear relationship between
OCO-2 SIF and existing modeled GPP products diverges somewhat across
biomes at the global scale, consistent with previous GOSAT or GOME-2
based findings when modeled GPP products were used, but in contrast to a
consistent cross-biome SIF-GPP relationship obtained at flux tower sites
with OCO-2 products. This contrast suggests a critical need to reconcile
differences in diverse SIF and GPP products and the relationships among
them. Overall, the OCO-2 SIF products are robust and valuable for
monitoring the global terrestrial carbon cycle and for constraining the
carbon source/sink strengths of the Earth system. Finally, insights are
offered for future satellite missions optimized for SIF retrievals.&lt;/p&gt;

&lt;h3 id=&quot;soil-respiration-and-its-temperature-sensitivity-q10-rapid-acquisition-using-mid-infrared-spectroscopy&quot;&gt;Soil respiration and its temperature sensitivity (Q10): Rapid acquisition using mid-infrared spectroscopy&lt;/h3&gt;

&lt;p&gt;Authors:
Meyer, N; Meyer, H; Welp, G; Amelung, W&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 323 31-40; AUG 1 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Spatial patterns of soil respiration (SR) and its sensitivity to
temperature (Q10) are one of the key uncertainties in climate change
research but since their assessment is very time-consuming, large data
sets can still not be provided. Here, we investigated the potential of
mid-infrared spectroscopy (MIRS) to predict SR and Q10 values for 124
soil samples of diverse land use types taken from a 2868 km(2) catchment
(Rur catchment, Germany/Belgium/Netherlands). Soil respiration at
standardized temperature (25 degrees C) and soil moisture (45% of
maximum water holding capacity, WHC) was successfully predicted by MIRS
coupled with partial least square regression (PLSR, R-2 = 0.83). Also
the Q10 value was predictable by MIRS-PLSR for a grassland submodel (R-2
= 0.75) and a cropland submodel (R-2 = 0.72) but not for forested sites
(R-2 = 0.03). In order to provide soil respiration estimates for
arbitrary conditions of temperature and soil moisture, more flexible
models are required that can handle nonlinear and interacting relations.
Therefore, we applied a Random Forest model, which includes the MIRS
spectra, temperature, soil moisture, and land use as predictor
variables. We could show that SR can be simultaneously predicted for any
temperature (5-25 degrees C) and soil moisture level (30-75% of WHC),
indicated by a high R-2 of 0.73. We conclude that the combination of
MIRS with sophisticated statistical prediction tools allows for a novel,
rapid acquisition of SR and Q10 values across landscapes and thus to
fill an important data gap in the validation of large scale carbon
modeling.&lt;/p&gt;

&lt;h3 id=&quot;soil-mineral-assemblage-and-substrate-quality-effects-on-microbial-priming&quot;&gt;Soil mineral assemblage and substrate quality effects on microbial priming&lt;/h3&gt;

&lt;p&gt;Authors:
Finley, BK; Dijkstra, P; Rasmussen, C; Schwartz, E; Mau, RL; Liu, XJA;
Van Gestel, N; Hungate, BA&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 322 38-47; JUL 15 2018&lt;/p&gt;

&lt;h3 id=&quot;the-singularity-index-for-soil-geochemical-variables-and-a-mixture-model-for-its-interpretation&quot;&gt;The singularity index for soil geochemical variables, and a mixture model for its interpretation&lt;/h3&gt;

&lt;p&gt;Authors:
Lark, RM; Patton, M; Ander, EL; Reay, DM&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 323 83-106; AUG 1 2018&lt;/p&gt;

&lt;p&gt;Abstract:
A geochemical anomaly is a concentration of an element or other
constituent in a medium (soil, sediment or surface water) which is
unusual in its local setting. Geochemical anomalies may be interesting
as indicators of processes such as point contamination or
mineralizations. They may therefore be practically useful, indicating
sources of pollution or mineral deposits which may be of economic value.
As defined, a geochemical anomaly is not merely a large (or small)
concentration of a constituent as compared to the marginal distribution.
To detect anomalies we must therefore do more than simply map the
spatial distribution of the constituent. One proposed approach makes use
of a singularity index based on fractal representation of spatial
variation. The singularity index can be computed from local
concentration measures in nested windows. In this paper we propose an
approach to compute threshold values for the index to identify
enrichment and depletion anomalies, separate from background
information. The approach is based on a mixture model for the
singularity index, and it can be supported by computing a distribution
for background values of the index by parametric bootstrapping from a
robustly-estimated variogram model for the target constituent. This
approach is illustrated here using data on elements in the soil in four
settings in Great Britain and Ireland.&lt;/p&gt;

&lt;h3 id=&quot;a-pedometric-technique-to-delimitate-soil-specific-zones-at-field-scale&quot;&gt;A pedometric technique to delimitate soil-specific zones at field scale&lt;/h3&gt;

&lt;p&gt;Authors:
Castro-Franco, M; Cordoba, MA; Balzarini, MG; Costa, JL&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 322 101-111; JUL 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Delimitation of soil types within a farm field is key for site-specific
crop management. An alternative to this, is to develop pedometric
techniques that allow an efficient combination of soil survey
information and high-resolution terrain attribute data. The aim of this
study was to present and evaluate a pedometric technique to delimit
soil-specific zones at field scale by coupled Random forest, fuzzy
k-means clustering and spatial principal components algorithms
(RF-KM-sPCA) and by using information from soil surveys and terrain
attributes derived from a digital elevation model. The protocol involves
three-steps: 1) automatic classification of small (20x20m) spatial units
(SU) using the knowledge of the soil map units present in the farm
landscape, 2) aggregation of SUM at farm scale and 3) validation of
soil-specific zones. For the first step, we used the random forest
algorithm with 10 terrain attributes. For the second step, KM-sPCA
algorithms were used to cluster within field SU accounting for
autocorrelation. For the third step, apparent soil electrical
conductivity and yield maps was used to validate the delimitation of
soil-specific zones. This technique produced more contiguous zones than
other cluster methods which do not use spatiality. Six farm fields with
highly differences in soils were partitioned by the proposed pedometric
strategy. Apparent soil electrical conductivity and yield maps present
significant differences among zones in all experimental fields. This
analytic strategy, based in easy-to-obtain data, could be used to
improve precision agricultural managements.&lt;/p&gt;

&lt;h3 id=&quot;digital-soil-monitoring-of-top--and-sub-soil-ph-with-bivariate-linear-mixed-models&quot;&gt;Digital soil monitoring of top- and sub-soil pH with bivariate linear mixed models&lt;/h3&gt;

&lt;p&gt;Authors:
Filippi, P; Cattle, SR; Bishop, TFA; Odeh, IOA; Pringle, MJ&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 322 149-162; JUL 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Intensive agricultural management practices and fluctuating rainfall
patterns have the potential to significantly impact the status and
change of important soil properties. This study looks at the change in
soil pH during a 13-year period in a semi-arid, irrigated cotton-growing
region in the lower Lachlan River valley in southern NSW, Australia
under various land uses. Two soil surveys - one from 2002 and the other
from 2015 - that had many of the same sites revisited and resampled,
were used in conjunction with bivariate linear mixed models (BLMMs) to
map soil pH status and change, at five depth increments to 1.2 m depth.
The BLMM approach resulted in models with high predictive power and low
prediction variance, likely due to the utilisation of the correlation of
pH values at co-located sites through time. Results revealed an overall
acidification trend throughout the soil profile, particularly in the
subsoil. Test statistics were performed on this predicted acidification,
showing that not all of this was statistically significant. This trend
of decreasing pH over time is presumed to be at least partly due to
management practices associated with irrigated cotton production, but
also appears to be affected by increased water flow through the profile
due to periods of very high rainfall. While acidification in the highly
alkaline soils that cover much of the study area is of no great concern
at this time, further acidification should be monitored. Further
investigation into utilising the correlation from other co-located soil
information should also be considered, such as different soil depths and
soil properties in combination with the different time points used in
this study.&lt;/p&gt;

&lt;h3 id=&quot;a-preliminary-spatial-quantification-of-the-soil-security-dimensions-for-tasmania&quot;&gt;A preliminary spatial quantification of the soil security dimensions for Tasmania&lt;/h3&gt;

&lt;p&gt;Authors:
Kidd, D; Field, D; McBratney, A; Webb, M&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;GEODERMA&lt;/em&gt;, 322 184-200; JUL 15 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Soil Security is a holistic soil assessment approach that cogitates soil
as a multi-dimensional medium. Rather than traditional single
dimensional assessment approaches such as land capability mapping that
largely considers only soil and landscape biophysical attributes, the
Soil Security concept considers social aspects, education, policy,
legislation, current land use, condition and the soils natural and
economic value to society. It can identify discrete soils that are
currently being used within their capacity, and areas where a use might
be unsustainable, i.e. not secure. It would therefore make sense to map
this concept, which aligns well with the aspirational and marketing
policies of the Tasmanian Government, where increased agricultural
expansion through new irrigation schemes and multiple-use State managed
production forests co-exists beside pristine World Heritage conservation
land, a major drawcard of the economically important tourism industry.
The spatial quantification of soil security is seen as an emerging tool
to effectively protect the soil resource in terms of food and water
security, biodiversity maintenance and safeguarding fragile ecosystems.
The recent development and application of Digital Soil Mapping and
Assessment capacities in Tasmania to stimulate agricultural production
and better target appropriate soil resource use has formed the
foundational system that can enable the first efforts in quantifying and
mapping Soil Security, in particular the five Soil Security dimensions
(Capability, Condition, Capital, Codification and Connectivity). This
forms a preliminary mapping product that demonstrates the feasibility of
mapping the Soil Security concept. To provide a measure of overall soil
security, it was necessary to separately assess the State’s three major
soil uses; Agriculture, Conservation and Forestry. These outputs provide
an indication of where different activities are sustainable or at risk,
where more soil data is needed, and develops a tool to better plan for a
State requiring optimal food and fibre production, without depleting its
natural soil resources and impacting the fragile ecosystems providing
environmental benefits and supporting the tourism industry. The
following paper demonstrates why and how we might map Soil Security,
describing a preliminary approach to mapping the separate dimensions;
this approach could be adapted and applied elsewhere as an evaluation
tool to identify soil threats relevant to current land use, biophysical
properties, policy and management, and stimulate further research and
debate into developing a global Soil Security mapping methodology.&lt;/p&gt;

&lt;h3 id=&quot;soil-quality---a-critical-review&quot;&gt;Soil quality - A critical review&lt;/h3&gt;

&lt;p&gt;Authors:
Bunemann, EK; Bongiorno, G; Bai, ZG; Creamer, RE; De Deyn, G; de Goede,
R; Fleskens, L; Geissen, V; Kuyper, TW; Mader, P; Pulleman, M; Sukkel,
W; van Groenigen, JW; Brussaard, L&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;SOIL BIOLOGY &amp;amp; BIOCHEMISTRY&lt;/em&gt;, 120 105-125; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Sampling and analysis or visual examination of soil to assess its status
and use potential is widely practiced from plot to national scales.
However, the choice of relevant soil attributes and interpretation of
measurements are not straightforward, because of the complexity and
site-specificity of soils, legacy effects of previous land use, and
trade-offs between ecosystem services. Here we review soil quality and
related concepts, in terms of definition, assessment approaches, and
indicator selection and interpretation. We identify the most frequently
used soil quality indicators under agricultural land use. We find that
explicit evaluation of soil quality with respect to specific soil
threats, soil functions and ecosystem services has rarely been
implemented, and few approaches provide clear interpretation schemes of
measured indicator values. This limits their adoption by land managers
as well as policy. We also consider novel indicators that address
currently neglected though important soil properties and processes, and
we list the crucial steps in the development of a soil quality
assessment procedure that is scientifically sound and supports
management and policy decisions that account for the multi-functionality
of soil. This requires the involvement of the pertinent actors,
stakeholders and end-users to a much larger degree than practiced to
date.&lt;/p&gt;

&lt;h3 id=&quot;the-root-of-the-matter-linking-root-traits-and-soil-organic-matter-stabilization-processes&quot;&gt;The root of the matter: Linking root traits and soil organic matter stabilization processes&lt;/h3&gt;

&lt;p&gt;Authors:
Poirier, V; Roumet, C; Munson, AD&lt;/p&gt;

&lt;p&gt;Source:
&lt;em&gt;SOIL BIOLOGY &amp;amp; BIOCHEMISTRY&lt;/em&gt;, 120 246-259; MAY 2018&lt;/p&gt;

&lt;p&gt;Abstract:
Plant roots contribute substantially to the formation of stable soil
organic matter (SOM), and there is evidence that species differ in their
contribution to SOM stabilization. However, it remains unclear what
specific root traits contribute to the three SOM stabilization
mechanisms: recalcitrance against decomposition, occlusion in soil
aggregates and interaction with soil minerals and metals. This is likely
because research is highly fragmented and hampered by disciplinary
barriers. By reviewing both plant functional ecology and soil science
literature, we identified 18 different traits: architectural,
morphological, physiological, symbiotic and chemical root
characteristics, influencing the three SOM stabilization mechanisms. We
found that traits increasing root recalcitrance promote short term
stabilization by slowing decomposition, but that traits reducing
recalcitrance contribute to long term stabilization by reaction of
microbial products with mineral surfaces. Root length density,
mycorrhizal association and rhizodeposition contribute to
microaggregation. These and other traits, such as hemicellulose, soluble
compounds, and high root branching index, favor macroaggregation. For
stabilization by minerals and metals, those root traits promoting higher
microbial activity: root nitrogen, hemicellulose and soluble compound
concentrations are fundamental, while polyphenols, and litter Al and Mn
also contribute to complexification and stabilization. Root depth
distribution is the most important trait to control root C storage and
stabilization in the subsoil; once roots have reached deeper soil
layers, other traits, such as rhizodeposition and root chemistry,
influence interaction with minerals and metals. Both mycorrhizal
presence and root suberin promote SOC stabilization by means of all
three mechanisms, indicating that these are important targets for
continued work. Surprisingly, morphological traits commonly measured,
namely specific root length and root diameter, poorly relate to
stabilization mechanisms. Alternative traits such as chemical
composition of the different root orders, root apex characteristics,
quantity and quality of rhizodeposits as well as mycorrhizal fungal
traits, should be further investigated. For future research, this review
highlights the need to evaluate root decomposition and root-C
stabilization concomitantly over the long-term, considering
simultaneously root litter quality, estimated by root traits, the
microbial products and properties of the soil matrix. The information
accrued in this review can be used to evaluate the potential of plant
species and cultivars to promote SOM stabilization, based on their root
traits.&lt;/p&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/05/journalDigest&quot;&gt;Journal Paper Digests&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on May 12, 2018.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Agri-Analytics Conference]]></title>
 <link rel="alternate" type="text/html" href="/2018/05/AgriAnalytics" />
  <id>/2018/05/AgriAnalytics</id>
  <updated>2018-05-08T00:00:00-00:00</updated>
  <published>2018-05-08T00:00:00+10:00</published>
  
  <author>
    <name>Smart Digital Agriculture</name>
    <uri></uri>
    <email>malone.brendan1001@gmail.com</email>
  </author>
  <content type="html">
    &lt;p&gt;This week has taken me to far flung Benguerir in central Morocco to attend the inaugural Agri Analytics meeting. This is a forum about digital agriculture, and I was keen to see how other people in the world are grappling with the data and associated analytics and processes which are driving the present revolution in agriculture throughout the world. These sorts of meetings are becoming regular events around the world, with Australia being no stranger to them either where I have attended a few to date. The format for this particular meeting were a number of invited talks by people from mainly universities and the private sector to a diverse audience which included Government officials dealing in agriculture, public institutions, academics and post-grad students, farmer groups, and digital ag service providers. There was an international flavour to this meeting but most people were from either Africa or Europe, with a few from Latin America and the US. I was the only attendee from Australia, and I met a colleague from New Zealand, so we were kind of special perhaps even exotic. I presented some work on digital soil mapping, and what we know we can do with it already for delivery of critical soil information to support decision making at all manner of spatial scales.&lt;/p&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;what-was-it&quot;&gt;What was it?&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://www.ocpgroup.ma/&quot;&gt;OCP Group&lt;/a&gt; is a leading producer of phosphate and fertilizer, serving customers around the globe. Building on nearly 100 years of agricultural and industrial knowledge and expertise, OCP is committed to being a globally responsible company, helping to drive sustainable solutions to feed a growing world population.&lt;/p&gt;

&lt;p&gt;Aware of the importance of Agri Analytics and Big data in driving change and promoting sustainable agriculture, OCP Group and the Mohammed VI Polytechnic University initiated the Agri Analytics Days which  was held on May 8th and 9th, 2018 in BenGuerir city, (60km from Marrakesh), Morocco.&lt;/p&gt;

&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot; /&gt;
&lt;script&gt;(function() {
  // If window.HTMLWidgets is already defined, then use it; otherwise create a
  // new object. This allows preceding code to set options that affect the
  // initialization process (though none currently exist).
  window.HTMLWidgets = window.HTMLWidgets || {};

  // See if we're running in a viewer pane. If not, we're in a web browser.
  var viewerMode = window.HTMLWidgets.viewerMode =
      /\bviewer_pane=1\b/.test(window.location);

  // See if we're running in Shiny mode. If not, it's a static document.
  // Note that static widgets can appear in both Shiny and static modes, but
  // obviously, Shiny widgets can only appear in Shiny apps/documents.
  var shinyMode = window.HTMLWidgets.shinyMode =
      typeof(window.Shiny) !== &quot;undefined&quot; &amp;&amp; !!window.Shiny.outputBindings;

  // We can't count on jQuery being available, so we implement our own
  // version if necessary.
  function querySelectorAll(scope, selector) {
    if (typeof(jQuery) !== &quot;undefined&quot; &amp;&amp; scope instanceof jQuery) {
      return scope.find(selector);
    }
    if (scope.querySelectorAll) {
      return scope.querySelectorAll(selector);
    }
  }

  function asArray(value) {
    if (value === null)
      return [];
    if ($.isArray(value))
      return value;
    return [value];
  }

  // Implement jQuery's extend
  function extend(target /*, ... */) {
    if (arguments.length == 1) {
      return target;
    }
    for (var i = 1; i &lt; arguments.length; i++) {
      var source = arguments[i];
      for (var prop in source) {
        if (source.hasOwnProperty(prop)) {
          target[prop] = source[prop];
        }
      }
    }
    return target;
  }

  // IE8 doesn't support Array.forEach.
  function forEach(values, callback, thisArg) {
    if (values.forEach) {
      values.forEach(callback, thisArg);
    } else {
      for (var i = 0; i &lt; values.length; i++) {
        callback.call(thisArg, values[i], i, values);
      }
    }
  }

  // Replaces the specified method with the return value of funcSource.
  //
  // Note that funcSource should not BE the new method, it should be a function
  // that RETURNS the new method. funcSource receives a single argument that is
  // the overridden method, it can be called from the new method. The overridden
  // method can be called like a regular function, it has the target permanently
  // bound to it so &quot;this&quot; will work correctly.
  function overrideMethod(target, methodName, funcSource) {
    var superFunc = target[methodName] || function() {};
    var superFuncBound = function() {
      return superFunc.apply(target, arguments);
    };
    target[methodName] = funcSource(superFuncBound);
  }

  // Add a method to delegator that, when invoked, calls
  // delegatee.methodName. If there is no such method on
  // the delegatee, but there was one on delegator before
  // delegateMethod was called, then the original version
  // is invoked instead.
  // For example:
  //
  // var a = {
  //   method1: function() { console.log('a1'); }
  //   method2: function() { console.log('a2'); }
  // };
  // var b = {
  //   method1: function() { console.log('b1'); }
  // };
  // delegateMethod(a, b, &quot;method1&quot;);
  // delegateMethod(a, b, &quot;method2&quot;);
  // a.method1();
  // a.method2();
  //
  // The output would be &quot;b1&quot;, &quot;a2&quot;.
  function delegateMethod(delegator, delegatee, methodName) {
    var inherited = delegator[methodName];
    delegator[methodName] = function() {
      var target = delegatee;
      var method = delegatee[methodName];

      // The method doesn't exist on the delegatee. Instead,
      // call the method on the delegator, if it exists.
      if (!method) {
        target = delegator;
        method = inherited;
      }

      if (method) {
        return method.apply(target, arguments);
      }
    };
  }

  // Implement a vague facsimilie of jQuery's data method
  function elementData(el, name, value) {
    if (arguments.length == 2) {
      return el[&quot;htmlwidget_data_&quot; + name];
    } else if (arguments.length == 3) {
      el[&quot;htmlwidget_data_&quot; + name] = value;
      return el;
    } else {
      throw new Error(&quot;Wrong number of arguments for elementData: &quot; +
        arguments.length);
    }
  }

  // http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex
  function escapeRegExp(str) {
    return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, &quot;\\$&amp;&quot;);
  }

  function hasClass(el, className) {
    var re = new RegExp(&quot;\\b&quot; + escapeRegExp(className) + &quot;\\b&quot;);
    return re.test(el.className);
  }

  // elements - array (or array-like object) of HTML elements
  // className - class name to test for
  // include - if true, only return elements with given className;
  //   if false, only return elements *without* given className
  function filterByClass(elements, className, include) {
    var results = [];
    for (var i = 0; i &lt; elements.length; i++) {
      if (hasClass(elements[i], className) == include)
        results.push(elements[i]);
    }
    return results;
  }

  function on(obj, eventName, func) {
    if (obj.addEventListener) {
      obj.addEventListener(eventName, func, false);
    } else if (obj.attachEvent) {
      obj.attachEvent(eventName, func);
    }
  }

  function off(obj, eventName, func) {
    if (obj.removeEventListener)
      obj.removeEventListener(eventName, func, false);
    else if (obj.detachEvent) {
      obj.detachEvent(eventName, func);
    }
  }

  // Translate array of values to top/right/bottom/left, as usual with
  // the &quot;padding&quot; CSS property
  // https://developer.mozilla.org/en-US/docs/Web/CSS/padding
  function unpackPadding(value) {
    if (typeof(value) === &quot;number&quot;)
      value = [value];
    if (value.length === 1) {
      return {top: value[0], right: value[0], bottom: value[0], left: value[0]};
    }
    if (value.length === 2) {
      return {top: value[0], right: value[1], bottom: value[0], left: value[1]};
    }
    if (value.length === 3) {
      return {top: value[0], right: value[1], bottom: value[2], left: value[1]};
    }
    if (value.length === 4) {
      return {top: value[0], right: value[1], bottom: value[2], left: value[3]};
    }
  }

  // Convert an unpacked padding object to a CSS value
  function paddingToCss(paddingObj) {
    return paddingObj.top + &quot;px &quot; + paddingObj.right + &quot;px &quot; + paddingObj.bottom + &quot;px &quot; + paddingObj.left + &quot;px&quot;;
  }

  // Makes a number suitable for CSS
  function px(x) {
    if (typeof(x) === &quot;number&quot;)
      return x + &quot;px&quot;;
    else
      return x;
  }

  // Retrieves runtime widget sizing information for an element.
  // The return value is either null, or an object with fill, padding,
  // defaultWidth, defaultHeight fields.
  function sizingPolicy(el) {
    var sizingEl = document.querySelector(&quot;script[data-for='&quot; + el.id + &quot;'][type='application/htmlwidget-sizing']&quot;);
    if (!sizingEl)
      return null;
    var sp = JSON.parse(sizingEl.textContent || sizingEl.text || &quot;{}&quot;);
    if (viewerMode) {
      return sp.viewer;
    } else {
      return sp.browser;
    }
  }

  // @param tasks Array of strings (or falsy value, in which case no-op).
  //   Each element must be a valid JavaScript expression that yields a
  //   function. Or, can be an array of objects with &quot;code&quot; and &quot;data&quot;
  //   properties; in this case, the &quot;code&quot; property should be a string
  //   of JS that's an expr that yields a function, and &quot;data&quot; should be
  //   an object that will be added as an additional argument when that
  //   function is called.
  // @param target The object that will be &quot;this&quot; for each function
  //   execution.
  // @param args Array of arguments to be passed to the functions. (The
  //   same arguments will be passed to all functions.)
  function evalAndRun(tasks, target, args) {
    if (tasks) {
      forEach(tasks, function(task) {
        var theseArgs = args;
        if (typeof(task) === &quot;object&quot;) {
          theseArgs = theseArgs.concat([task.data]);
          task = task.code;
        }
        var taskFunc = eval(&quot;(&quot; + task + &quot;)&quot;);
        if (typeof(taskFunc) !== &quot;function&quot;) {
          throw new Error(&quot;Task must be a function! Source:\n&quot; + task);
        }
        taskFunc.apply(target, theseArgs);
      });
    }
  }

  function initSizing(el) {
    var sizing = sizingPolicy(el);
    if (!sizing)
      return;

    var cel = document.getElementById(&quot;htmlwidget_container&quot;);
    if (!cel)
      return;

    if (typeof(sizing.padding) !== &quot;undefined&quot;) {
      document.body.style.margin = &quot;0&quot;;
      document.body.style.padding = paddingToCss(unpackPadding(sizing.padding));
    }

    if (sizing.fill) {
      document.body.style.overflow = &quot;hidden&quot;;
      document.body.style.width = &quot;100%&quot;;
      document.body.style.height = &quot;100%&quot;;
      document.documentElement.style.width = &quot;100%&quot;;
      document.documentElement.style.height = &quot;100%&quot;;
      if (cel) {
        cel.style.position = &quot;absolute&quot;;
        var pad = unpackPadding(sizing.padding);
        cel.style.top = pad.top + &quot;px&quot;;
        cel.style.right = pad.right + &quot;px&quot;;
        cel.style.bottom = pad.bottom + &quot;px&quot;;
        cel.style.left = pad.left + &quot;px&quot;;
        el.style.width = &quot;100%&quot;;
        el.style.height = &quot;100%&quot;;
      }

      return {
        getWidth: function() { return cel.offsetWidth; },
        getHeight: function() { return cel.offsetHeight; }
      };

    } else {
      el.style.width = px(sizing.width);
      el.style.height = px(sizing.height);

      return {
        getWidth: function() { return el.offsetWidth; },
        getHeight: function() { return el.offsetHeight; }
      };
    }
  }

  // Default implementations for methods
  var defaults = {
    find: function(scope) {
      return querySelectorAll(scope, &quot;.&quot; + this.name);
    },
    renderError: function(el, err) {
      var $el = $(el);

      this.clearError(el);

      // Add all these error classes, as Shiny does
      var errClass = &quot;shiny-output-error&quot;;
      if (err.type !== null) {
        // use the classes of the error condition as CSS class names
        errClass = errClass + &quot; &quot; + $.map(asArray(err.type), function(type) {
          return errClass + &quot;-&quot; + type;
        }).join(&quot; &quot;);
      }
      errClass = errClass + &quot; htmlwidgets-error&quot;;

      // Is el inline or block? If inline or inline-block, just display:none it
      // and add an inline error.
      var display = $el.css(&quot;display&quot;);
      $el.data(&quot;restore-display-mode&quot;, display);

      if (display === &quot;inline&quot; || display === &quot;inline-block&quot;) {
        $el.hide();
        if (err.message !== &quot;&quot;) {
          var errorSpan = $(&quot;&lt;span&gt;&quot;).addClass(errClass);
          errorSpan.text(err.message);
          $el.after(errorSpan);
        }
      } else if (display === &quot;block&quot;) {
        // If block, add an error just after the el, set visibility:none on the
        // el, and position the error to be on top of the el.
        // Mark it with a unique ID and CSS class so we can remove it later.
        $el.css(&quot;visibility&quot;, &quot;hidden&quot;);
        if (err.message !== &quot;&quot;) {
          var errorDiv = $(&quot;&lt;div&gt;&quot;).addClass(errClass).css(&quot;position&quot;, &quot;absolute&quot;)
            .css(&quot;top&quot;, el.offsetTop)
            .css(&quot;left&quot;, el.offsetLeft)
            // setting width can push out the page size, forcing otherwise
            // unnecessary scrollbars to appear and making it impossible for
            // the element to shrink; so use max-width instead
            .css(&quot;maxWidth&quot;, el.offsetWidth)
            .css(&quot;height&quot;, el.offsetHeight);
          errorDiv.text(err.message);
          $el.after(errorDiv);

          // Really dumb way to keep the size/position of the error in sync with
          // the parent element as the window is resized or whatever.
          var intId = setInterval(function() {
            if (!errorDiv[0].parentElement) {
              clearInterval(intId);
              return;
            }
            errorDiv
              .css(&quot;top&quot;, el.offsetTop)
              .css(&quot;left&quot;, el.offsetLeft)
              .css(&quot;maxWidth&quot;, el.offsetWidth)
              .css(&quot;height&quot;, el.offsetHeight);
          }, 500);
        }
      }
    },
    clearError: function(el) {
      var $el = $(el);
      var display = $el.data(&quot;restore-display-mode&quot;);
      $el.data(&quot;restore-display-mode&quot;, null);

      if (display === &quot;inline&quot; || display === &quot;inline-block&quot;) {
        if (display)
          $el.css(&quot;display&quot;, display);
        $(el.nextSibling).filter(&quot;.htmlwidgets-error&quot;).remove();
      } else if (display === &quot;block&quot;){
        $el.css(&quot;visibility&quot;, &quot;inherit&quot;);
        $(el.nextSibling).filter(&quot;.htmlwidgets-error&quot;).remove();
      }
    },
    sizing: {}
  };

  // Called by widget bindings to register a new type of widget. The definition
  // object can contain the following properties:
  // - name (required) - A string indicating the binding name, which will be
  //   used by default as the CSS classname to look for.
  // - initialize (optional) - A function(el) that will be called once per
  //   widget element; if a value is returned, it will be passed as the third
  //   value to renderValue.
  // - renderValue (required) - A function(el, data, initValue) that will be
  //   called with data. Static contexts will cause this to be called once per
  //   element; Shiny apps will cause this to be called multiple times per
  //   element, as the data changes.
  window.HTMLWidgets.widget = function(definition) {
    if (!definition.name) {
      throw new Error(&quot;Widget must have a name&quot;);
    }
    if (!definition.type) {
      throw new Error(&quot;Widget must have a type&quot;);
    }
    // Currently we only support output widgets
    if (definition.type !== &quot;output&quot;) {
      throw new Error(&quot;Unrecognized widget type '&quot; + definition.type + &quot;'&quot;);
    }
    // TODO: Verify that .name is a valid CSS classname

    // Support new-style instance-bound definitions. Old-style class-bound
    // definitions have one widget &quot;object&quot; per widget per type/class of
    // widget; the renderValue and resize methods on such widget objects
    // take el and instance arguments, because the widget object can't
    // store them. New-style instance-bound definitions have one widget
    // object per widget instance; the definition that's passed in doesn't
    // provide renderValue or resize methods at all, just the single method
    //   factory(el, width, height)
    // which returns an object that has renderValue(x) and resize(w, h).
    // This enables a far more natural programming style for the widget
    // author, who can store per-instance state using either OO-style
    // instance fields or functional-style closure variables (I guess this
    // is in contrast to what can only be called C-style pseudo-OO which is
    // what we required before).
    if (definition.factory) {
      definition = createLegacyDefinitionAdapter(definition);
    }

    if (!definition.renderValue) {
      throw new Error(&quot;Widget must have a renderValue function&quot;);
    }

    // For static rendering (non-Shiny), use a simple widget registration
    // scheme. We also use this scheme for Shiny apps/documents that also
    // contain static widgets.
    window.HTMLWidgets.widgets = window.HTMLWidgets.widgets || [];
    // Merge defaults into the definition; don't mutate the original definition.
    var staticBinding = extend({}, defaults, definition);
    overrideMethod(staticBinding, &quot;find&quot;, function(superfunc) {
      return function(scope) {
        var results = superfunc(scope);
        // Filter out Shiny outputs, we only want the static kind
        return filterByClass(results, &quot;html-widget-output&quot;, false);
      };
    });
    window.HTMLWidgets.widgets.push(staticBinding);

    if (shinyMode) {
      // Shiny is running. Register the definition with an output binding.
      // The definition itself will not be the output binding, instead
      // we will make an output binding object that delegates to the
      // definition. This is because we foolishly used the same method
      // name (renderValue) for htmlwidgets definition and Shiny bindings
      // but they actually have quite different semantics (the Shiny
      // bindings receive data that includes lots of metadata that it
      // strips off before calling htmlwidgets renderValue). We can't
      // just ignore the difference because in some widgets it's helpful
      // to call this.renderValue() from inside of resize(), and if
      // we're not delegating, then that call will go to the Shiny
      // version instead of the htmlwidgets version.

      // Merge defaults with definition, without mutating either.
      var bindingDef = extend({}, defaults, definition);

      // This object will be our actual Shiny binding.
      var shinyBinding = new Shiny.OutputBinding();

      // With a few exceptions, we'll want to simply use the bindingDef's
      // version of methods if they are available, otherwise fall back to
      // Shiny's defaults. NOTE: If Shiny's output bindings gain additional
      // methods in the future, and we want them to be overrideable by
      // HTMLWidget binding definitions, then we'll need to add them to this
      // list.
      delegateMethod(shinyBinding, bindingDef, &quot;getId&quot;);
      delegateMethod(shinyBinding, bindingDef, &quot;onValueChange&quot;);
      delegateMethod(shinyBinding, bindingDef, &quot;onValueError&quot;);
      delegateMethod(shinyBinding, bindingDef, &quot;renderError&quot;);
      delegateMethod(shinyBinding, bindingDef, &quot;clearError&quot;);
      delegateMethod(shinyBinding, bindingDef, &quot;showProgress&quot;);

      // The find, renderValue, and resize are handled differently, because we
      // want to actually decorate the behavior of the bindingDef methods.

      shinyBinding.find = function(scope) {
        var results = bindingDef.find(scope);

        // Only return elements that are Shiny outputs, not static ones
        var dynamicResults = results.filter(&quot;.html-widget-output&quot;);

        // It's possible that whatever caused Shiny to think there might be
        // new dynamic outputs, also caused there to be new static outputs.
        // Since there might be lots of different htmlwidgets bindings, we
        // schedule execution for later--no need to staticRender multiple
        // times.
        if (results.length !== dynamicResults.length)
          scheduleStaticRender();

        return dynamicResults;
      };

      // Wrap renderValue to handle initialization, which unfortunately isn't
      // supported natively by Shiny at the time of this writing.

      shinyBinding.renderValue = function(el, data) {
        Shiny.renderDependencies(data.deps);
        // Resolve strings marked as javascript literals to objects
        if (!(data.evals instanceof Array)) data.evals = [data.evals];
        for (var i = 0; data.evals &amp;&amp; i &lt; data.evals.length; i++) {
          window.HTMLWidgets.evaluateStringMember(data.x, data.evals[i]);
        }
        if (!bindingDef.renderOnNullValue) {
          if (data.x === null) {
            el.style.visibility = &quot;hidden&quot;;
            return;
          } else {
            el.style.visibility = &quot;inherit&quot;;
          }
        }
        if (!elementData(el, &quot;initialized&quot;)) {
          initSizing(el);

          elementData(el, &quot;initialized&quot;, true);
          if (bindingDef.initialize) {
            var result = bindingDef.initialize(el, el.offsetWidth,
              el.offsetHeight);
            elementData(el, &quot;init_result&quot;, result);
          }
        }
        bindingDef.renderValue(el, data.x, elementData(el, &quot;init_result&quot;));
        evalAndRun(data.jsHooks.render, elementData(el, &quot;init_result&quot;), [el, data.x]);
      };

      // Only override resize if bindingDef implements it
      if (bindingDef.resize) {
        shinyBinding.resize = function(el, width, height) {
          // Shiny can call resize before initialize/renderValue have been
          // called, which doesn't make sense for widgets.
          if (elementData(el, &quot;initialized&quot;)) {
            bindingDef.resize(el, width, height, elementData(el, &quot;init_result&quot;));
          }
        };
      }

      Shiny.outputBindings.register(shinyBinding, bindingDef.name);
    }
  };

  var scheduleStaticRenderTimerId = null;
  function scheduleStaticRender() {
    if (!scheduleStaticRenderTimerId) {
      scheduleStaticRenderTimerId = setTimeout(function() {
        scheduleStaticRenderTimerId = null;
        window.HTMLWidgets.staticRender();
      }, 1);
    }
  }

  // Render static widgets after the document finishes loading
  // Statically render all elements that are of this widget's class
  window.HTMLWidgets.staticRender = function() {
    var bindings = window.HTMLWidgets.widgets || [];
    forEach(bindings, function(binding) {
      var matches = binding.find(document.documentElement);
      forEach(matches, function(el) {
        var sizeObj = initSizing(el, binding);

        if (hasClass(el, &quot;html-widget-static-bound&quot;))
          return;
        el.className = el.className + &quot; html-widget-static-bound&quot;;

        var initResult;
        if (binding.initialize) {
          initResult = binding.initialize(el,
            sizeObj ? sizeObj.getWidth() : el.offsetWidth,
            sizeObj ? sizeObj.getHeight() : el.offsetHeight
          );
          elementData(el, &quot;init_result&quot;, initResult);
        }

        if (binding.resize) {
          var lastSize = {};
          var resizeHandler = function(e) {
            var size = {
              w: sizeObj ? sizeObj.getWidth() : el.offsetWidth,
              h: sizeObj ? sizeObj.getHeight() : el.offsetHeight
            };
            if (size.w === 0 &amp;&amp; size.h === 0)
              return;
            if (size.w === lastSize.w &amp;&amp; size.h === lastSize.h)
              return;
            lastSize = size;
            binding.resize(el, size.w, size.h, initResult);
          };

          on(window, &quot;resize&quot;, resizeHandler);

          // This is needed for cases where we're running in a Shiny
          // app, but the widget itself is not a Shiny output, but
          // rather a simple static widget. One example of this is
          // an rmarkdown document that has runtime:shiny and widget
          // that isn't in a render function. Shiny only knows to
          // call resize handlers for Shiny outputs, not for static
          // widgets, so we do it ourselves.
          if (window.jQuery) {
            window.jQuery(document).on(
              &quot;shown.htmlwidgets shown.bs.tab.htmlwidgets shown.bs.collapse.htmlwidgets&quot;,
              resizeHandler
            );
            window.jQuery(document).on(
              &quot;hidden.htmlwidgets hidden.bs.tab.htmlwidgets hidden.bs.collapse.htmlwidgets&quot;,
              resizeHandler
            );
          }

          // This is needed for the specific case of ioslides, which
          // flips slides between display:none and display:block.
          // Ideally we would not have to have ioslide-specific code
          // here, but rather have ioslides raise a generic event,
          // but the rmarkdown package just went to CRAN so the
          // window to getting that fixed may be long.
          if (window.addEventListener) {
            // It's OK to limit this to window.addEventListener
            // browsers because ioslides itself only supports
            // such browsers.
            on(document, &quot;slideenter&quot;, resizeHandler);
            on(document, &quot;slideleave&quot;, resizeHandler);
          }
        }

        var scriptData = document.querySelector(&quot;script[data-for='&quot; + el.id + &quot;'][type='application/json']&quot;);
        if (scriptData) {
          var data = JSON.parse(scriptData.textContent || scriptData.text);
          // Resolve strings marked as javascript literals to objects
          if (!(data.evals instanceof Array)) data.evals = [data.evals];
          for (var k = 0; data.evals &amp;&amp; k &lt; data.evals.length; k++) {
            window.HTMLWidgets.evaluateStringMember(data.x, data.evals[k]);
          }
          binding.renderValue(el, data.x, initResult);
          evalAndRun(data.jsHooks.render, initResult, [el, data.x]);
        }
      });
    });

    invokePostRenderHandlers();
  }

  // Wait until after the document has loaded to render the widgets.
  if (document.addEventListener) {
    document.addEventListener(&quot;DOMContentLoaded&quot;, function() {
      document.removeEventListener(&quot;DOMContentLoaded&quot;, arguments.callee, false);
      window.HTMLWidgets.staticRender();
    }, false);
  } else if (document.attachEvent) {
    document.attachEvent(&quot;onreadystatechange&quot;, function() {
      if (document.readyState === &quot;complete&quot;) {
        document.detachEvent(&quot;onreadystatechange&quot;, arguments.callee);
        window.HTMLWidgets.staticRender();
      }
    });
  }


  window.HTMLWidgets.getAttachmentUrl = function(depname, key) {
    // If no key, default to the first item
    if (typeof(key) === &quot;undefined&quot;)
      key = 1;

    var link = document.getElementById(depname + &quot;-&quot; + key + &quot;-attachment&quot;);
    if (!link) {
      throw new Error(&quot;Attachment &quot; + depname + &quot;/&quot; + key + &quot; not found in document&quot;);
    }
    return link.getAttribute(&quot;href&quot;);
  };

  window.HTMLWidgets.dataframeToD3 = function(df) {
    var names = [];
    var length;
    for (var name in df) {
        if (df.hasOwnProperty(name))
            names.push(name);
        if (typeof(df[name]) !== &quot;object&quot; || typeof(df[name].length) === &quot;undefined&quot;) {
            throw new Error(&quot;All fields must be arrays&quot;);
        } else if (typeof(length) !== &quot;undefined&quot; &amp;&amp; length !== df[name].length) {
            throw new Error(&quot;All fields must be arrays of the same length&quot;);
        }
        length = df[name].length;
    }
    var results = [];
    var item;
    for (var row = 0; row &lt; length; row++) {
        item = {};
        for (var col = 0; col &lt; names.length; col++) {
            item[names[col]] = df[names[col]][row];
        }
        results.push(item);
    }
    return results;
  };

  window.HTMLWidgets.transposeArray2D = function(array) {
      if (array.length === 0) return array;
      var newArray = array[0].map(function(col, i) {
          return array.map(function(row) {
              return row[i]
          })
      });
      return newArray;
  };
  // Split value at splitChar, but allow splitChar to be escaped
  // using escapeChar. Any other characters escaped by escapeChar
  // will be included as usual (including escapeChar itself).
  function splitWithEscape(value, splitChar, escapeChar) {
    var results = [];
    var escapeMode = false;
    var currentResult = &quot;&quot;;
    for (var pos = 0; pos &lt; value.length; pos++) {
      if (!escapeMode) {
        if (value[pos] === splitChar) {
          results.push(currentResult);
          currentResult = &quot;&quot;;
        } else if (value[pos] === escapeChar) {
          escapeMode = true;
        } else {
          currentResult += value[pos];
        }
      } else {
        currentResult += value[pos];
        escapeMode = false;
      }
    }
    if (currentResult !== &quot;&quot;) {
      results.push(currentResult);
    }
    return results;
  }
  // Function authored by Yihui/JJ Allaire
  window.HTMLWidgets.evaluateStringMember = function(o, member) {
    var parts = splitWithEscape(member, '.', '\\');
    for (var i = 0, l = parts.length; i &lt; l; i++) {
      var part = parts[i];
      // part may be a character or 'numeric' member name
      if (o !== null &amp;&amp; typeof o === &quot;object&quot; &amp;&amp; part in o) {
        if (i == (l - 1)) { // if we are at the end of the line then evalulate
          if (typeof o[part] === &quot;string&quot;)
            o[part] = eval(&quot;(&quot; + o[part] + &quot;)&quot;);
        } else { // otherwise continue to next embedded object
          o = o[part];
        }
      }
    }
  };

  // Retrieve the HTMLWidget instance (i.e. the return value of an
  // HTMLWidget binding's initialize() or factory() function)
  // associated with an element, or null if none.
  window.HTMLWidgets.getInstance = function(el) {
    return elementData(el, &quot;init_result&quot;);
  };

  // Finds the first element in the scope that matches the selector,
  // and returns the HTMLWidget instance (i.e. the return value of
  // an HTMLWidget binding's initialize() or factory() function)
  // associated with that element, if any. If no element matches the
  // selector, or the first matching element has no HTMLWidget
  // instance associated with it, then null is returned.
  //
  // The scope argument is optional, and defaults to window.document.
  window.HTMLWidgets.find = function(scope, selector) {
    if (arguments.length == 1) {
      selector = scope;
      scope = document;
    }

    var el = scope.querySelector(selector);
    if (el === null) {
      return null;
    } else {
      return window.HTMLWidgets.getInstance(el);
    }
  };

  // Finds all elements in the scope that match the selector, and
  // returns the HTMLWidget instances (i.e. the return values of
  // an HTMLWidget binding's initialize() or factory() function)
  // associated with the elements, in an array. If elements that
  // match the selector don't have an associated HTMLWidget
  // instance, the returned array will contain nulls.
  //
  // The scope argument is optional, and defaults to window.document.
  window.HTMLWidgets.findAll = function(scope, selector) {
    if (arguments.length == 1) {
      selector = scope;
      scope = document;
    }

    var nodes = scope.querySelectorAll(selector);
    var results = [];
    for (var i = 0; i &lt; nodes.length; i++) {
      results.push(window.HTMLWidgets.getInstance(nodes[i]));
    }
    return results;
  };

  var postRenderHandlers = [];
  function invokePostRenderHandlers() {
    while (postRenderHandlers.length) {
      var handler = postRenderHandlers.shift();
      if (handler) {
        handler();
      }
    }
  }

  // Register the given callback function to be invoked after the
  // next time static widgets are rendered.
  window.HTMLWidgets.addPostRenderHandler = function(callback) {
    postRenderHandlers.push(callback);
  };

  // Takes a new-style instance-bound definition, and returns an
  // old-style class-bound definition. This saves us from having
  // to rewrite all the logic in this file to accomodate both
  // types of definitions.
  function createLegacyDefinitionAdapter(defn) {
    var result = {
      name: defn.name,
      type: defn.type,
      initialize: function(el, width, height) {
        return defn.factory(el, width, height);
      },
      renderValue: function(el, x, instance) {
        return instance.renderValue(x);
      },
      resize: function(el, width, height, instance) {
        return instance.resize(width, height);
      }
    };

    if (defn.find)
      result.find = defn.find;
    if (defn.renderError)
      result.renderError = defn.renderError;
    if (defn.clearError)
      result.clearError = defn.clearError;

    return result;
  }
})();

&lt;/script&gt;
&lt;script&gt;/*! jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){&quot;object&quot;==typeof module&amp;&amp;&quot;object&quot;==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(&quot;jQuery requires a window with a document&quot;);return b(a)}:b(a)}(&quot;undefined&quot;!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m=&quot;1.12.4&quot;,n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:&quot;&quot;,length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0&gt;a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0&gt;a?b:0);return this.pushStack(c&gt;=0&amp;&amp;b&gt;c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(&quot;boolean&quot;==typeof g&amp;&amp;(j=g,g=arguments[h]||{},h++),&quot;object&quot;==typeof g||n.isFunction(g)||(g={}),h===i&amp;&amp;(g=this,h--);i&gt;h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&amp;&amp;(j&amp;&amp;c&amp;&amp;(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&amp;&amp;n.isArray(a)?a:[]):f=a&amp;&amp;n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&amp;&amp;(g[d]=c));return g},n.extend({expando:&quot;jQuery&quot;+(m+Math.random()).replace(/\D/g,&quot;&quot;),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return&quot;function&quot;===n.type(a)},isArray:Array.isArray||function(a){return&quot;array&quot;===n.type(a)},isWindow:function(a){return null!=a&amp;&amp;a==a.window},isNumeric:function(a){var b=a&amp;&amp;a.toString();return!n.isArray(a)&amp;&amp;b-parseFloat(b)+1&gt;=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||&quot;object&quot;!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&amp;&amp;!k.call(a,&quot;constructor&quot;)&amp;&amp;!k.call(a.constructor.prototype,&quot;isPrototypeOf&quot;))return!1}catch(c){return!1}if(!l.ownFirst)for(b in a)return k.call(a,b);for(b in a);return void 0===b||k.call(a,b)},type:function(a){return null==a?a+&quot;&quot;:&quot;object&quot;==typeof a||&quot;function&quot;==typeof a?i[j.call(a)]||&quot;object&quot;:typeof a},globalEval:function(b){b&amp;&amp;n.trim(b)&amp;&amp;(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,&quot;ms-&quot;).replace(q,r)},nodeName:function(a,b){return a.nodeName&amp;&amp;a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c&gt;d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?&quot;&quot;:(a+&quot;&quot;).replace(o,&quot;&quot;)},makeArray:function(a,b){var c=b||[];return null!=a&amp;&amp;(s(Object(a))?n.merge(c,&quot;string&quot;==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(h)return h.call(b,a,c);for(d=b.length,c=c?0&gt;c?Math.max(0,d+c):c:0;d&gt;c;c++)if(c in b&amp;&amp;b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c&gt;d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g&gt;f;f++)d=!b(a[f],f),d!==h&amp;&amp;e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d&gt;g;g++)e=b(a[g],g,c),null!=e&amp;&amp;h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&amp;&amp;h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return&quot;string&quot;==typeof b&amp;&amp;(f=a[b],b=a,a=f),n.isFunction(a)?(c=e.call(arguments,2),d=function(){return a.apply(b||this,c.concat(e.call(arguments)))},d.guid=a.guid=a.guid||n.guid++,d):void 0},now:function(){return+new Date},support:l}),&quot;function&quot;==typeof Symbol&amp;&amp;(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each(&quot;Boolean Number String Function Array Date RegExp Object Error Symbol&quot;.split(&quot; &quot;),function(a,b){i[&quot;[object &quot;+b+&quot;]&quot;]=b.toLowerCase()});function s(a){var b=!!a&amp;&amp;&quot;length&quot;in a&amp;&amp;a.length,c=n.type(a);return&quot;function&quot;===c||n.isWindow(a)?!1:&quot;array&quot;===c||0===b||&quot;number&quot;==typeof b&amp;&amp;b&gt;0&amp;&amp;b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=&quot;sizzle&quot;+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&amp;&amp;(l=!0),0},C=1&lt;&lt;31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d&gt;c;c++)if(a[c]===b)return c;return-1},K=&quot;checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped&quot;,L=&quot;[\\x20\\t\\r\\n\\f]&quot;,M=&quot;(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+&quot;,N=&quot;\\[&quot;+L+&quot;*(&quot;+M+&quot;)(?:&quot;+L+&quot;*([*^$|!~]?=)&quot;+L+&quot;*(?:'((?:\\\\.|[^\\\\'])*)'|\&quot;((?:\\\\.|[^\\\\\&quot;])*)\&quot;|(&quot;+M+&quot;))|)&quot;+L+&quot;*\\]&quot;,O=&quot;:(&quot;+M+&quot;)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\&quot;((?:\\\\.|[^\\\\\&quot;])*)\&quot;)|((?:\\\\.|[^\\\\()[\\]]|&quot;+N+&quot;)*)|.*)\\)|)&quot;,P=new RegExp(L+&quot;+&quot;,&quot;g&quot;),Q=new RegExp(&quot;^&quot;+L+&quot;+|((?:^|[^\\\\])(?:\\\\.)*)&quot;+L+&quot;+$&quot;,&quot;g&quot;),R=new RegExp(&quot;^&quot;+L+&quot;*,&quot;+L+&quot;*&quot;),S=new RegExp(&quot;^&quot;+L+&quot;*([&gt;+~]|&quot;+L+&quot;)&quot;+L+&quot;*&quot;),T=new RegExp(&quot;=&quot;+L+&quot;*([^\\]'\&quot;]*?)&quot;+L+&quot;*\\]&quot;,&quot;g&quot;),U=new RegExp(O),V=new RegExp(&quot;^&quot;+M+&quot;$&quot;),W={ID:new RegExp(&quot;^#(&quot;+M+&quot;)&quot;),CLASS:new RegExp(&quot;^\\.(&quot;+M+&quot;)&quot;),TAG:new RegExp(&quot;^(&quot;+M+&quot;|[*])&quot;),ATTR:new RegExp(&quot;^&quot;+N),PSEUDO:new RegExp(&quot;^&quot;+O),CHILD:new RegExp(&quot;^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(&quot;+L+&quot;*(even|odd|(([+-]|)(\\d*)n|)&quot;+L+&quot;*(?:([+-]|)&quot;+L+&quot;*(\\d+)|))&quot;+L+&quot;*\\)|)&quot;,&quot;i&quot;),bool:new RegExp(&quot;^(?:&quot;+K+&quot;)$&quot;,&quot;i&quot;),needsContext:new RegExp(&quot;^&quot;+L+&quot;*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(&quot;+L+&quot;*((?:-\\d)?\\d*)&quot;+L+&quot;*\\)|)(?=[^-]|$)&quot;,&quot;i&quot;)},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp(&quot;\\\\([\\da-f]{1,6}&quot;+L+&quot;?|(&quot;+L+&quot;)|.)&quot;,&quot;ig&quot;),ca=function(a,b,c){var d=&quot;0x&quot;+b-65536;return d!==d||c?b:0&gt;d?String.fromCharCode(d+65536):String.fromCharCode(d&gt;&gt;10|55296,1023&amp;d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&amp;&amp;b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],&quot;string&quot;!=typeof a||!a||1!==x&amp;&amp;9!==x&amp;&amp;11!==x)return d;if(!e&amp;&amp;((b?b.ownerDocument||b:v)!==n&amp;&amp;m(b),b=b||n,p)){if(11!==x&amp;&amp;(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&amp;&amp;(j=w.getElementById(f))&amp;&amp;t(b,j)&amp;&amp;j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&amp;&amp;c.getElementsByClassName&amp;&amp;b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&amp;&amp;!A[a+&quot; &quot;]&amp;&amp;(!q||!q.test(a))){if(1!==x)w=b,s=a;else if(&quot;object&quot;!==b.nodeName.toLowerCase()){(k=b.getAttribute(&quot;id&quot;))?k=k.replace(aa,&quot;\\$&amp;&quot;):b.setAttribute(&quot;id&quot;,k=u),r=g(a),h=r.length,l=V.test(k)?&quot;#&quot;+k:&quot;[id='&quot;+k+&quot;']&quot;;while(h--)r[h]=l+&quot; &quot;+qa(r[h]);s=r.join(&quot;,&quot;),w=_.test(a)&amp;&amp;oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&amp;&amp;b.removeAttribute(&quot;id&quot;)}}}return i(a.replace(Q,&quot;$1&quot;),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+&quot; &quot;)&gt;d.cacheLength&amp;&amp;delete b[a.shift()],b[c+&quot; &quot;]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement(&quot;div&quot;);try{return!!a(b)}catch(c){return!1}finally{b.parentNode&amp;&amp;b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split(&quot;|&quot;),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&amp;&amp;a,d=c&amp;&amp;1===a.nodeType&amp;&amp;1===b.nodeType&amp;&amp;(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return&quot;input&quot;===c&amp;&amp;b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return(&quot;input&quot;===c||&quot;button&quot;===c)&amp;&amp;b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&amp;&amp;(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&amp;&amp;&quot;undefined&quot;!=typeof a.getElementsByTagName&amp;&amp;a}c=fa.support={},f=fa.isXML=function(a){var b=a&amp;&amp;(a.ownerDocument||a).documentElement;return b?&quot;HTML&quot;!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&amp;&amp;9===g.nodeType&amp;&amp;g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&amp;&amp;e.top!==e&amp;&amp;(e.addEventListener?e.addEventListener(&quot;unload&quot;,da,!1):e.attachEvent&amp;&amp;e.attachEvent(&quot;onunload&quot;,da)),c.attributes=ia(function(a){return a.className=&quot;i&quot;,!a.getAttribute(&quot;className&quot;)}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment(&quot;&quot;)),!a.getElementsByTagName(&quot;*&quot;).length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(&quot;undefined&quot;!=typeof b.getElementById&amp;&amp;p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute(&quot;id&quot;)===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c=&quot;undefined&quot;!=typeof a.getAttributeNode&amp;&amp;a.getAttributeNode(&quot;id&quot;);return c&amp;&amp;c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return&quot;undefined&quot;!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(&quot;*&quot;===a){while(c=f[e++])1===c.nodeType&amp;&amp;d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&amp;&amp;function(a,b){return&quot;undefined&quot;!=typeof b.getElementsByClassName&amp;&amp;p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&amp;&amp;(ia(function(a){o.appendChild(a).innerHTML=&quot;&lt;a id='&quot;+u+&quot;'&gt;&lt;/a&gt;&lt;select id='&quot;+u+&quot;-\r\\' msallowcapture=''&gt;&lt;option selected=''&gt;&lt;/option&gt;&lt;/select&gt;&quot;,a.querySelectorAll(&quot;[msallowcapture^='']&quot;).length&amp;&amp;q.push(&quot;[*^$]=&quot;+L+&quot;*(?:''|\&quot;\&quot;)&quot;),a.querySelectorAll(&quot;[selected]&quot;).length||q.push(&quot;\\[&quot;+L+&quot;*(?:value|&quot;+K+&quot;)&quot;),a.querySelectorAll(&quot;[id~=&quot;+u+&quot;-]&quot;).length||q.push(&quot;~=&quot;),a.querySelectorAll(&quot;:checked&quot;).length||q.push(&quot;:checked&quot;),a.querySelectorAll(&quot;a#&quot;+u+&quot;+*&quot;).length||q.push(&quot;.#.+[+~]&quot;)}),ia(function(a){var b=n.createElement(&quot;input&quot;);b.setAttribute(&quot;type&quot;,&quot;hidden&quot;),a.appendChild(b).setAttribute(&quot;name&quot;,&quot;D&quot;),a.querySelectorAll(&quot;[name=d]&quot;).length&amp;&amp;q.push(&quot;name&quot;+L+&quot;*[*^$|!~]?=&quot;),a.querySelectorAll(&quot;:enabled&quot;).length||q.push(&quot;:enabled&quot;,&quot;:disabled&quot;),a.querySelectorAll(&quot;*,:x&quot;),q.push(&quot;,.*:&quot;)})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&amp;&amp;ia(function(a){c.disconnectedMatch=s.call(a,&quot;div&quot;),s.call(a,&quot;[s!='']:x&quot;),r.push(&quot;!=&quot;,O)}),q=q.length&amp;&amp;new RegExp(q.join(&quot;|&quot;)),r=r.length&amp;&amp;new RegExp(r.join(&quot;|&quot;)),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&amp;&amp;b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&amp;&amp;16&amp;a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&amp;d||!c.sortDetached&amp;&amp;b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&amp;&amp;t(v,a)?-1:b===n||b.ownerDocument===v&amp;&amp;t(v,b)?1:k?J(k,a)-J(k,b):0:4&amp;d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&amp;&amp;m(a),b=b.replace(T,&quot;='$1']&quot;),c.matchesSelector&amp;&amp;p&amp;&amp;!A[b+&quot; &quot;]&amp;&amp;(!r||!r.test(b))&amp;&amp;(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&amp;&amp;11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length&gt;0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&amp;&amp;m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&amp;&amp;m(a);var e=d.attrHandle[b.toLowerCase()],f=e&amp;&amp;D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&amp;&amp;f.specified?f.value:null},fa.error=function(a){throw new Error(&quot;Syntax error, unrecognized expression: &quot;+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&amp;&amp;a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&amp;&amp;(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c=&quot;&quot;,d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(&quot;string&quot;==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{&quot;&gt;&quot;:{dir:&quot;parentNode&quot;,first:!0},&quot; &quot;:{dir:&quot;parentNode&quot;},&quot;+&quot;:{dir:&quot;previousSibling&quot;,first:!0},&quot;~&quot;:{dir:&quot;previousSibling&quot;}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||&quot;&quot;).replace(ba,ca),&quot;~=&quot;===a[2]&amp;&amp;(a[3]=&quot; &quot;+a[3]+&quot; &quot;),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),&quot;nth&quot;===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(&quot;even&quot;===a[3]||&quot;odd&quot;===a[3])),a[5]=+(a[7]+a[8]||&quot;odd&quot;===a[3])):a[3]&amp;&amp;fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&amp;&amp;a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||&quot;&quot;:c&amp;&amp;U.test(c)&amp;&amp;(b=g(c,!0))&amp;&amp;(b=c.indexOf(&quot;)&quot;,c.length-b)-c.length)&amp;&amp;(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return&quot;*&quot;===a?function(){return!0}:function(a){return a.nodeName&amp;&amp;a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+&quot; &quot;];return b||(b=new RegExp(&quot;(^|&quot;+L+&quot;)&quot;+a+&quot;(&quot;+L+&quot;|$)&quot;))&amp;&amp;y(a,function(a){return b.test(&quot;string&quot;==typeof a.className&amp;&amp;a.className||&quot;undefined&quot;!=typeof a.getAttribute&amp;&amp;a.getAttribute(&quot;class&quot;)||&quot;&quot;)})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?&quot;!=&quot;===b:b?(e+=&quot;&quot;,&quot;=&quot;===b?e===c:&quot;!=&quot;===b?e!==c:&quot;^=&quot;===b?c&amp;&amp;0===e.indexOf(c):&quot;*=&quot;===b?c&amp;&amp;e.indexOf(c)&gt;-1:&quot;$=&quot;===b?c&amp;&amp;e.slice(-c.length)===c:&quot;~=&quot;===b?(&quot; &quot;+e.replace(P,&quot; &quot;)+&quot; &quot;).indexOf(c)&gt;-1:&quot;|=&quot;===b?e===c||e.slice(0,c.length+1)===c+&quot;-&quot;:!1):!0}},CHILD:function(a,b,c,d,e){var f=&quot;nth&quot;!==a.slice(0,3),g=&quot;last&quot;!==a.slice(-4),h=&quot;of-type&quot;===b;return 1===d&amp;&amp;0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?&quot;nextSibling&quot;:&quot;previousSibling&quot;,q=b.parentNode,r=h&amp;&amp;b.nodeName.toLowerCase(),s=!i&amp;&amp;!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p=&quot;only&quot;===a&amp;&amp;!o&amp;&amp;&quot;nextSibling&quot;}return!0}if(o=[g?q.firstChild:q.lastChild],g&amp;&amp;s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&amp;&amp;j[1],t=n&amp;&amp;j[2],m=n&amp;&amp;q.childNodes[n];while(m=++n&amp;&amp;m&amp;&amp;m[p]||(t=n=0)||o.pop())if(1===m.nodeType&amp;&amp;++t&amp;&amp;m===b){k[a]=[w,n,t];break}}else if(s&amp;&amp;(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&amp;&amp;j[1],t=n),t===!1)while(m=++n&amp;&amp;m&amp;&amp;m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&amp;&amp;++t&amp;&amp;(s&amp;&amp;(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&amp;&amp;t/d&gt;=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error(&quot;unsupported pseudo: &quot;+a);return e[u]?e(b):e.length&gt;1?(c=[a,a,&quot;&quot;,b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,&quot;$1&quot;));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&amp;&amp;(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length&gt;0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)&gt;-1}}),lang:ha(function(a){return V.test(a||&quot;&quot;)||fa.error(&quot;unsupported lang: &quot;+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(&quot;xml:lang&quot;)||b.getAttribute(&quot;lang&quot;))return c=c.toLowerCase(),c===a||0===c.indexOf(a+&quot;-&quot;);while((b=b.parentNode)&amp;&amp;1===b.nodeType);return!1}}),target:function(b){var c=a.location&amp;&amp;a.location.hash;return c&amp;&amp;c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&amp;&amp;(!n.hasFocus||n.hasFocus())&amp;&amp;!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return&quot;input&quot;===b&amp;&amp;!!a.checked||&quot;option&quot;===b&amp;&amp;!!a.selected},selected:function(a){return a.parentNode&amp;&amp;a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType&lt;6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return&quot;input&quot;===b&amp;&amp;&quot;button&quot;===a.type||&quot;button&quot;===b},text:function(a){var b;return&quot;input&quot;===a.nodeName.toLowerCase()&amp;&amp;&quot;text&quot;===a.type&amp;&amp;(null==(b=a.getAttribute(&quot;type&quot;))||&quot;text&quot;===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0&gt;c?c+b:c]}),even:na(function(a,b){for(var c=0;b&gt;c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b&gt;c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0&gt;c?c+b:c;--d&gt;=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0&gt;c?c+b:c;++d&lt;b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+&quot; &quot;];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&amp;&amp;!(e=R.exec(h))||(e&amp;&amp;(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&amp;&amp;(c=e.shift(),f.push({value:c,type:e[0].replace(Q,&quot; &quot;)}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&amp;&amp;!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d=&quot;&quot;;c&gt;b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&amp;&amp;&quot;parentNode&quot;===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&amp;&amp;a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&amp;&amp;h[0]===w&amp;&amp;h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length&gt;1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e&gt;d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i&gt;h;h++)(f=a[h])&amp;&amp;(c&amp;&amp;!c(f,d,e)||(g.push(f),j&amp;&amp;b.push(h)));return g}function va(a,b,c,d,e,f){return d&amp;&amp;!d[u]&amp;&amp;(d=va(d)),e&amp;&amp;!e[u]&amp;&amp;(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||&quot;*&quot;,h.nodeType?[h]:h,[]),q=!a||!f&amp;&amp;b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&amp;&amp;c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&amp;&amp;(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&amp;&amp;j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&amp;&amp;(j=e?J(f,l):m[k])&gt;-1&amp;&amp;(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[&quot; &quot;],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)&gt;-1},h,!0),m=[function(a,c,d){var e=!g&amp;&amp;(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f&gt;i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f&gt;e;e++)if(d.relative[a[e].type])break;return va(i&gt;1&amp;&amp;sa(m),i&gt;1&amp;&amp;qa(a.slice(0,i-1).concat({value:&quot; &quot;===a[i-2].type?&quot;*&quot;:&quot;&quot;})).replace(Q,&quot;$1&quot;),c,e&gt;i&amp;&amp;wa(a.slice(i,e)),f&gt;e&amp;&amp;wa(a=a.slice(e)),f&gt;e&amp;&amp;qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length&gt;0,e=a.length&gt;0,f=function(f,g,h,i,k){var l,o,q,r=0,s=&quot;0&quot;,t=f&amp;&amp;[],u=[],v=j,x=f||e&amp;&amp;d.find.TAG(&quot;*&quot;,k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&amp;&amp;(j=g===n||g||k);s!==z&amp;&amp;null!=(l=x[s]);s++){if(e&amp;&amp;l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&amp;&amp;(w=y)}c&amp;&amp;((l=!q&amp;&amp;l)&amp;&amp;r--,f&amp;&amp;t.push(l))}if(r+=s,c&amp;&amp;s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r&gt;0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&amp;&amp;!f&amp;&amp;u.length&gt;0&amp;&amp;r+b.length&gt;1&amp;&amp;fa.uniqueSort(i)}return k&amp;&amp;(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+&quot; &quot;];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n=&quot;function&quot;==typeof a&amp;&amp;a,o=!f&amp;&amp;g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length&gt;2&amp;&amp;&quot;ID&quot;===(k=j[0]).type&amp;&amp;c.getById&amp;&amp;9===b.nodeType&amp;&amp;p&amp;&amp;d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&amp;&amp;(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&amp;&amp;(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&amp;&amp;oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&amp;&amp;qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&amp;&amp;oa(b.parentNode)||b),e},c.sortStable=u.split(&quot;&quot;).sort(B).join(&quot;&quot;)===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&amp;a.compareDocumentPosition(n.createElement(&quot;div&quot;))}),ia(function(a){return a.innerHTML=&quot;&lt;a href='#'&gt;&lt;/a&gt;&quot;,&quot;#&quot;===a.firstChild.getAttribute(&quot;href&quot;)})||ja(&quot;type|href|height|width&quot;,function(a,b,c){return c?void 0:a.getAttribute(b,&quot;type&quot;===b.toLowerCase()?1:2)}),c.attributes&amp;&amp;ia(function(a){return a.innerHTML=&quot;&lt;input/&gt;&quot;,a.firstChild.setAttribute(&quot;value&quot;,&quot;&quot;),&quot;&quot;===a.firstChild.getAttribute(&quot;value&quot;)})||ja(&quot;value&quot;,function(a,b,c){return c||&quot;input&quot;!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute(&quot;disabled&quot;)})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&amp;&amp;d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[&quot;:&quot;]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&amp;&amp;9!==a.nodeType)if(1===a.nodeType){if(e&amp;&amp;n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&amp;&amp;a!==b&amp;&amp;c.push(a);return c},w=n.expr.match.needsContext,x=/^&lt;([\w-]+)\s*\/?&gt;(?:&lt;\/\1&gt;|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if(&quot;string&quot;==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)&gt;-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&amp;&amp;(a=&quot;:not(&quot;+a+&quot;)&quot;),1===b.length&amp;&amp;1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if(&quot;string&quot;!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e&gt;b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e&gt;b;b++)n.find(a,d[b],c);return c=this.pushStack(e&gt;1?n.unique(c):c),c.selector=this.selector?this.selector+&quot; &quot;+a:a,c},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,&quot;string&quot;==typeof a&amp;&amp;w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(&lt;[\w\W]+&gt;)[^&gt;]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,&quot;string&quot;==typeof a){if(e=&quot;&lt;&quot;===a.charAt(0)&amp;&amp;&quot;&gt;&quot;===a.charAt(a.length-1)&amp;&amp;a.length&gt;=3?[null,a,null]:B.exec(a),!e||!e[1]&amp;&amp;b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&amp;&amp;b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&amp;&amp;n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}if(f=d.getElementById(e[2]),f&amp;&amp;f.parentNode){if(f.id!==e[2])return A.find(a);this.length=1,this[0]=f}return this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?&quot;undefined&quot;!=typeof c.ready?c.ready(a):a(n):(void 0!==a.selector&amp;&amp;(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d&gt;b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||&quot;string&quot;!=typeof a?n(a,b||this.context):0;e&gt;d;d++)for(c=this[d];c&amp;&amp;c!==b;c=c.parentNode)if(c.nodeType&lt;11&amp;&amp;(g?g.index(c)&gt;-1:1===c.nodeType&amp;&amp;n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length&gt;1?n.uniqueSort(f):f)},index:function(a){return a?&quot;string&quot;==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&amp;&amp;this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){do a=a[b];while(a&amp;&amp;1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&amp;&amp;11!==b.nodeType?b:null},parents:function(a){return u(a,&quot;parentNode&quot;)},parentsUntil:function(a,b,c){return u(a,&quot;parentNode&quot;,c)},next:function(a){return F(a,&quot;nextSibling&quot;)},prev:function(a){return F(a,&quot;previousSibling&quot;)},nextAll:function(a){return u(a,&quot;nextSibling&quot;)},prevAll:function(a){return u(a,&quot;previousSibling&quot;)},nextUntil:function(a,b,c){return u(a,&quot;nextSibling&quot;,c)},prevUntil:function(a,b,c){return u(a,&quot;previousSibling&quot;,c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return n.nodeName(a,&quot;iframe&quot;)?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return&quot;Until&quot;!==a.slice(-5)&amp;&amp;(d=c),d&amp;&amp;&quot;string&quot;==typeof d&amp;&amp;(e=n.filter(d,e)),this.length&gt;1&amp;&amp;(E[a]||(e=n.uniqueSort(e)),D.test(a)&amp;&amp;(e=e.reverse())),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a=&quot;string&quot;==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h&lt;f.length)f[h].apply(c[0],c[1])===!1&amp;&amp;a.stopOnFalse&amp;&amp;(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&amp;&amp;(f=c?[]:&quot;&quot;)},j={add:function(){return f&amp;&amp;(c&amp;&amp;!b&amp;&amp;(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&amp;&amp;j.has(c)||f.push(c):c&amp;&amp;c.length&amp;&amp;&quot;string&quot;!==n.type(c)&amp;&amp;d(c)})}(arguments),c&amp;&amp;!b&amp;&amp;i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))&gt;-1)f.splice(c,1),h&gt;=c&amp;&amp;h--}),this},has:function(a){return a?n.inArray(a,f)&gt;-1:f.length&gt;0},empty:function(){return f&amp;&amp;(f=[]),this},disable:function(){return e=g=[],f=c=&quot;&quot;,this},disabled:function(){return!f},lock:function(){return e=!0,c||j.disable(),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[[&quot;resolve&quot;,&quot;done&quot;,n.Callbacks(&quot;once memory&quot;),&quot;resolved&quot;],[&quot;reject&quot;,&quot;fail&quot;,n.Callbacks(&quot;once memory&quot;),&quot;rejected&quot;],[&quot;notify&quot;,&quot;progress&quot;,n.Callbacks(&quot;memory&quot;)]],c=&quot;pending&quot;,d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&amp;&amp;a[b];e[f[1]](function(){var a=g&amp;&amp;g.apply(this,arguments);a&amp;&amp;n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+&quot;With&quot;](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&amp;&amp;g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+&quot;With&quot;](this===e?d:this,arguments),this},e[f[0]+&quot;With&quot;]=g.fireWith}),d.promise(e),a&amp;&amp;a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&amp;&amp;n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length&gt;1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d&gt;1)for(i=new Array(d),j=new Array(d),k=new Array(d);d&gt;b;b++)c[b]&amp;&amp;n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&amp;&amp;--n.readyWait&gt;0||(I.resolveWith(d,[n]),n.fn.triggerHandler&amp;&amp;(n(d).triggerHandler(&quot;ready&quot;),n(d).off(&quot;ready&quot;))))}});function J(){d.addEventListener?(d.removeEventListener(&quot;DOMContentLoaded&quot;,K),a.removeEventListener(&quot;load&quot;,K)):(d.detachEvent(&quot;onreadystatechange&quot;,K),a.detachEvent(&quot;onload&quot;,K))}function K(){(d.addEventListener||&quot;load&quot;===a.event.type||&quot;complete&quot;===d.readyState)&amp;&amp;(J(),n.ready())}n.ready.promise=function(b){if(!I)if(I=n.Deferred(),&quot;complete&quot;===d.readyState||&quot;loading&quot;!==d.readyState&amp;&amp;!d.documentElement.doScroll)a.setTimeout(n.ready);else if(d.addEventListener)d.addEventListener(&quot;DOMContentLoaded&quot;,K),a.addEventListener(&quot;load&quot;,K);else{d.attachEvent(&quot;onreadystatechange&quot;,K),a.attachEvent(&quot;onload&quot;,K);var c=!1;try{c=null==a.frameElement&amp;&amp;d.documentElement}catch(e){}c&amp;&amp;c.doScroll&amp;&amp;!function f(){if(!n.isReady){try{c.doScroll(&quot;left&quot;)}catch(b){return a.setTimeout(f,50)}J(),n.ready()}}()}return I.promise(b)},n.ready.promise();var L;for(L in n(l))break;l.ownFirst=&quot;0&quot;===L,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c,e;c=d.getElementsByTagName(&quot;body&quot;)[0],c&amp;&amp;c.style&amp;&amp;(b=d.createElement(&quot;div&quot;),e=d.createElement(&quot;div&quot;),e.style.cssText=&quot;position:absolute;border:0;width:0;height:0;top:0;left:-9999px&quot;,c.appendChild(e).appendChild(b),&quot;undefined&quot;!=typeof b.style.zoom&amp;&amp;(b.style.cssText=&quot;display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1&quot;,l.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&amp;&amp;(c.style.zoom=1)),c.removeChild(e))}),function(){var a=d.createElement(&quot;div&quot;);l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}a=null}();var M=function(a){var b=n.noData[(a.nodeName+&quot; &quot;).toLowerCase()],c=+a.nodeType||1;return 1!==c&amp;&amp;9!==c?!1:!b||b!==!0&amp;&amp;a.getAttribute(&quot;classid&quot;)===b},N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&amp;&amp;1===a.nodeType){var d=&quot;data-&quot;+b.replace(O,&quot;-$1&quot;).toLowerCase();if(c=a.getAttribute(d),&quot;string&quot;==typeof c){try{c=&quot;true&quot;===c?!0:&quot;false&quot;===c?!1:&quot;null&quot;===c?null:+c+&quot;&quot;===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else c=void 0;
}return c}function Q(a){var b;for(b in a)if((&quot;data&quot;!==b||!n.isEmptyObject(a[b]))&amp;&amp;&quot;toJSON&quot;!==b)return!1;return!0}function R(a,b,d,e){if(M(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&amp;&amp;h;if(k&amp;&amp;j[k]&amp;&amp;(e||j[k].data)||void 0!==d||&quot;string&quot;!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),&quot;object&quot;!=typeof b&amp;&amp;&quot;function&quot;!=typeof b||(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&amp;&amp;(g[n.camelCase(b)]=d),&quot;string&quot;==typeof b?(f=g[b],null==f&amp;&amp;(f=g[n.camelCase(b)])):f=g,f}}function S(a,b,c){if(M(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&amp;&amp;(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(&quot; &quot;)),e=b.length;while(e--)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&amp;&amp;(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=void 0)}}}n.extend({cache:{},noData:{&quot;applet &quot;:!0,&quot;embed &quot;:!0,&quot;object &quot;:&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&amp;&amp;!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&amp;&amp;f.attributes;if(void 0===a){if(this.length&amp;&amp;(e=n.data(f),1===f.nodeType&amp;&amp;!n._data(f,&quot;parsedAttrs&quot;))){c=g.length;while(c--)g[c]&amp;&amp;(d=g[c].name,0===d.indexOf(&quot;data-&quot;)&amp;&amp;(d=n.camelCase(d.slice(5)),P(f,d,e[d])));n._data(f,&quot;parsedAttrs&quot;,!0)}return e}return&quot;object&quot;==typeof a?this.each(function(){n.data(this,a)}):arguments.length&gt;1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||&quot;fx&quot;)+&quot;queue&quot;,d=n._data(a,b),c&amp;&amp;(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||&quot;fx&quot;;var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};&quot;inprogress&quot;===e&amp;&amp;(e=c.shift(),d--),e&amp;&amp;(&quot;fx&quot;===b&amp;&amp;c.unshift(&quot;inprogress&quot;),delete f.stop,e.call(a,g,f)),!d&amp;&amp;f&amp;&amp;f.empty.fire()},_queueHooks:function(a,b){var c=b+&quot;queueHooks&quot;;return n._data(a,c)||n._data(a,c,{empty:n.Callbacks(&quot;once memory&quot;).add(function(){n._removeData(a,b+&quot;queue&quot;),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return&quot;string&quot;!=typeof a&amp;&amp;(b=a,a=&quot;fx&quot;,c--),arguments.length&lt;c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),&quot;fx&quot;===a&amp;&amp;&quot;inprogress&quot;!==c[0]&amp;&amp;n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||&quot;fx&quot;,[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};&quot;string&quot;!=typeof a&amp;&amp;(b=a,a=void 0),a=a||&quot;fx&quot;;while(g--)c=n._data(f[g],a+&quot;queueHooks&quot;),c&amp;&amp;c.empty&amp;&amp;(d++,c.empty.add(h));return h(),e.promise(b)}}),function(){var a;l.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,e;return c=d.getElementsByTagName(&quot;body&quot;)[0],c&amp;&amp;c.style?(b=d.createElement(&quot;div&quot;),e=d.createElement(&quot;div&quot;),e.style.cssText=&quot;position:absolute;border:0;width:0;height:0;top:0;left:-9999px&quot;,c.appendChild(e).appendChild(b),&quot;undefined&quot;!=typeof b.style.zoom&amp;&amp;(b.style.cssText=&quot;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1&quot;,b.appendChild(d.createElement(&quot;div&quot;)).style.width=&quot;5px&quot;,a=3!==b.offsetWidth),c.removeChild(e),a):void 0}}();var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=new RegExp(&quot;^(?:([+-])=|)(&quot;+T+&quot;)([a-z%]*)$&quot;,&quot;i&quot;),V=[&quot;Top&quot;,&quot;Right&quot;,&quot;Bottom&quot;,&quot;Left&quot;],W=function(a,b){return a=b||a,&quot;none&quot;===n.css(a,&quot;display&quot;)||!n.contains(a.ownerDocument,a)};function X(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,&quot;&quot;)},i=h(),j=c&amp;&amp;c[3]||(n.cssNumber[b]?&quot;&quot;:&quot;px&quot;),k=(n.cssNumber[b]||&quot;px&quot;!==j&amp;&amp;+i)&amp;&amp;U.exec(n.css(a,b));if(k&amp;&amp;k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||&quot;.5&quot;,k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&amp;&amp;1!==f&amp;&amp;--g)}return c&amp;&amp;(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&amp;&amp;(d.unit=j,d.start=k,d.end=e)),e}var Y=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(&quot;object&quot;===n.type(c)){e=!0;for(h in c)Y(a,b,h,c[h],!0,f,g)}else if(void 0!==d&amp;&amp;(e=!0,n.isFunction(d)||(g=!0),j&amp;&amp;(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i&gt;h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Z=/^(?:checkbox|radio)$/i,$=/&lt;([\w:-]+)/,_=/^$|\/(?:java|ecma)script/i,aa=/^\s+/,ba=&quot;abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video&quot;;function ca(a){var b=ba.split(&quot;|&quot;),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}!function(){var a=d.createElement(&quot;div&quot;),b=d.createDocumentFragment(),c=d.createElement(&quot;input&quot;);a.innerHTML=&quot;  &lt;link/&gt;&lt;table&gt;&lt;/table&gt;&lt;a href='/a'&gt;a&lt;/a&gt;&lt;input type='checkbox'/&gt;&quot;,l.leadingWhitespace=3===a.firstChild.nodeType,l.tbody=!a.getElementsByTagName(&quot;tbody&quot;).length,l.htmlSerialize=!!a.getElementsByTagName(&quot;link&quot;).length,l.html5Clone=&quot;&lt;:nav&gt;&lt;/:nav&gt;&quot;!==d.createElement(&quot;nav&quot;).cloneNode(!0).outerHTML,c.type=&quot;checkbox&quot;,c.checked=!0,b.appendChild(c),l.appendChecked=c.checked,a.innerHTML=&quot;&lt;textarea&gt;x&lt;/textarea&gt;&quot;,l.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,b.appendChild(a),c=d.createElement(&quot;input&quot;),c.setAttribute(&quot;type&quot;,&quot;radio&quot;),c.setAttribute(&quot;checked&quot;,&quot;checked&quot;),c.setAttribute(&quot;name&quot;,&quot;t&quot;),a.appendChild(c),l.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!!a.addEventListener,a[n.expando]=1,l.attributes=!a.getAttribute(n.expando)}();var da={option:[1,&quot;&lt;select multiple='multiple'&gt;&quot;,&quot;&lt;/select&gt;&quot;],legend:[1,&quot;&lt;fieldset&gt;&quot;,&quot;&lt;/fieldset&gt;&quot;],area:[1,&quot;&lt;map&gt;&quot;,&quot;&lt;/map&gt;&quot;],param:[1,&quot;&lt;object&gt;&quot;,&quot;&lt;/object&gt;&quot;],thead:[1,&quot;&lt;table&gt;&quot;,&quot;&lt;/table&gt;&quot;],tr:[2,&quot;&lt;table&gt;&lt;tbody&gt;&quot;,&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;],col:[2,&quot;&lt;table&gt;&lt;tbody&gt;&lt;/tbody&gt;&lt;colgroup&gt;&quot;,&quot;&lt;/colgroup&gt;&lt;/table&gt;&quot;],td:[3,&quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;,&quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;],_default:l.htmlSerialize?[0,&quot;&quot;,&quot;&quot;]:[1,&quot;X&lt;div&gt;&quot;,&quot;&lt;/div&gt;&quot;]};da.optgroup=da.option,da.tbody=da.tfoot=da.colgroup=da.caption=da.thead,da.th=da.td;function ea(a,b){var c,d,e=0,f=&quot;undefined&quot;!=typeof a.getElementsByTagName?a.getElementsByTagName(b||&quot;*&quot;):&quot;undefined&quot;!=typeof a.querySelectorAll?a.querySelectorAll(b||&quot;*&quot;):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,ea(d,b));return void 0===b||b&amp;&amp;n.nodeName(a,b)?n.merge([a],f):f}function fa(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,&quot;globalEval&quot;,!b||n._data(b[d],&quot;globalEval&quot;))}var ga=/&lt;|&amp;#?\w+;/,ha=/&lt;tbody/i;function ia(a){Z.test(a.type)&amp;&amp;(a.defaultChecked=a.checked)}function ja(a,b,c,d,e){for(var f,g,h,i,j,k,m,o=a.length,p=ca(b),q=[],r=0;o&gt;r;r++)if(g=a[r],g||0===g)if(&quot;object&quot;===n.type(g))n.merge(q,g.nodeType?[g]:g);else if(ga.test(g)){i=i||p.appendChild(b.createElement(&quot;div&quot;)),j=($.exec(g)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase(),m=da[j]||da._default,i.innerHTML=m[1]+n.htmlPrefilter(g)+m[2],f=m[0];while(f--)i=i.lastChild;if(!l.leadingWhitespace&amp;&amp;aa.test(g)&amp;&amp;q.push(b.createTextNode(aa.exec(g)[0])),!l.tbody){g=&quot;table&quot;!==j||ha.test(g)?&quot;&lt;table&gt;&quot;!==m[1]||ha.test(g)?0:i:i.firstChild,f=g&amp;&amp;g.childNodes.length;while(f--)n.nodeName(k=g.childNodes[f],&quot;tbody&quot;)&amp;&amp;!k.childNodes.length&amp;&amp;g.removeChild(k)}n.merge(q,i.childNodes),i.textContent=&quot;&quot;;while(i.firstChild)i.removeChild(i.firstChild);i=p.lastChild}else q.push(b.createTextNode(g));i&amp;&amp;p.removeChild(i),l.appendChecked||n.grep(ea(q,&quot;input&quot;),ia),r=0;while(g=q[r++])if(d&amp;&amp;n.inArray(g,d)&gt;-1)e&amp;&amp;e.push(g);else if(h=n.contains(g.ownerDocument,g),i=ea(p.appendChild(g),&quot;script&quot;),h&amp;&amp;fa(i),c){f=0;while(g=i[f++])_.test(g.type||&quot;&quot;)&amp;&amp;c.push(g)}return i=null,p}!function(){var b,c,e=d.createElement(&quot;div&quot;);for(b in{submit:!0,change:!0,focusin:!0})c=&quot;on&quot;+b,(l[b]=c in a)||(e.setAttribute(c,&quot;t&quot;),l[b]=e.attributes[c].expando===!1);e=null}();var ka=/^(?:input|select|textarea)$/i,la=/^key/,ma=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,na=/^(?:focusinfocus|focusoutblur)$/,oa=/^([^.]*)(?:\.(.+)|)/;function pa(){return!0}function qa(){return!1}function ra(){try{return d.activeElement}catch(a){}}function sa(a,b,c,d,e,f){var g,h;if(&quot;object&quot;==typeof b){&quot;string&quot;!=typeof c&amp;&amp;(d=d||c,c=void 0);for(h in b)sa(a,h,c,d,b[h],f);return a}if(null==d&amp;&amp;null==e?(e=c,d=c=void 0):null==e&amp;&amp;(&quot;string&quot;==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=qa;else if(!e)return a;return 1===f&amp;&amp;(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&amp;&amp;(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return&quot;undefined&quot;==typeof n||a&amp;&amp;n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||&quot;&quot;).match(G)||[&quot;&quot;],h=b.length;while(h--)f=oa.exec(b[h])||[],o=q=f[1],p=(f[2]||&quot;&quot;).split(&quot;.&quot;).sort(),o&amp;&amp;(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&amp;&amp;n.expr.match.needsContext.test(e),namespace:p.join(&quot;.&quot;)},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&amp;&amp;j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+o,k))),j.add&amp;&amp;(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&amp;&amp;n._data(a);if(r&amp;&amp;(k=r.events)){b=(b||&quot;&quot;).match(G)||[&quot;&quot;],j=b.length;while(j--)if(h=oa.exec(b[j])||[],o=q=h[1],p=(h[2]||&quot;&quot;).split(&quot;.&quot;).sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&amp;&amp;new RegExp(&quot;(^|\\.)&quot;+p.join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;),i=f=m.length;while(f--)g=m[f],!e&amp;&amp;q!==g.origType||c&amp;&amp;c.guid!==g.guid||h&amp;&amp;!h.test(g.namespace)||d&amp;&amp;d!==g.selector&amp;&amp;(&quot;**&quot;!==d||!g.selector)||(m.splice(f,1),g.selector&amp;&amp;m.delegateCount--,l.remove&amp;&amp;l.remove.call(a,g));i&amp;&amp;!m.length&amp;&amp;(l.teardown&amp;&amp;l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&amp;&amp;(delete r.handle,n._removeData(a,&quot;events&quot;))}},trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,&quot;type&quot;)?b.type:b,r=k.call(b,&quot;namespace&quot;)?b.namespace.split(&quot;.&quot;):[];if(i=m=e=e||d,3!==e.nodeType&amp;&amp;8!==e.nodeType&amp;&amp;!na.test(q+n.event.triggered)&amp;&amp;(q.indexOf(&quot;.&quot;)&gt;-1&amp;&amp;(r=q.split(&quot;.&quot;),q=r.shift(),r.sort()),h=q.indexOf(&quot;:&quot;)&lt;0&amp;&amp;&quot;on&quot;+q,b=b[n.expando]?b:new n.Event(q,&quot;object&quot;==typeof b&amp;&amp;b),b.isTrigger=f?2:3,b.namespace=r.join(&quot;.&quot;),b.rnamespace=b.namespace?new RegExp(&quot;(^|\\.)&quot;+r.join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),l=n.event.special[q]||{},f||!l.trigger||l.trigger.apply(e,c)!==!1)){if(!f&amp;&amp;!l.noBubble&amp;&amp;!n.isWindow(e)){for(j=l.delegateType||q,na.test(j+q)||(i=i.parentNode);i;i=i.parentNode)p.push(i),m=i;m===(e.ownerDocument||d)&amp;&amp;p.push(m.defaultView||m.parentWindow||a)}o=0;while((i=p[o++])&amp;&amp;!b.isPropagationStopped())b.type=o&gt;1?j:l.bindType||q,g=(n._data(i,&quot;events&quot;)||{})[b.type]&amp;&amp;n._data(i,&quot;handle&quot;),g&amp;&amp;g.apply(i,c),g=h&amp;&amp;i[h],g&amp;&amp;g.apply&amp;&amp;M(i)&amp;&amp;(b.result=g.apply(i,c),b.result===!1&amp;&amp;b.preventDefault());if(b.type=q,!f&amp;&amp;!b.isDefaultPrevented()&amp;&amp;(!l._default||l._default.apply(p.pop(),c)===!1)&amp;&amp;M(e)&amp;&amp;h&amp;&amp;e[q]&amp;&amp;!n.isWindow(e)){m=e[h],m&amp;&amp;(e[h]=null),n.event.triggered=q;try{e[q]()}catch(s){}n.event.triggered=void 0,m&amp;&amp;(e[h]=m)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(n._data(this,&quot;events&quot;)||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&amp;&amp;!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&amp;&amp;!a.isImmediatePropagationStopped())a.rnamespace&amp;&amp;!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&amp;&amp;(a.result=d)===!1&amp;&amp;(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&amp;&amp;k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&amp;&amp;i.nodeType&amp;&amp;(&quot;click&quot;!==a.type||isNaN(a.button)||a.button&lt;1))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&amp;&amp;(i.disabled!==!0||&quot;click&quot;!==a.type)){for(d=[],c=0;h&gt;c;c++)f=b[c],e=f.selector+&quot; &quot;,void 0===d[e]&amp;&amp;(d[e]=f.needsContext?n(e,this).index(i)&gt;-1:n.find(e,this,null,[i]).length),d[e]&amp;&amp;d.push(f);d.length&amp;&amp;g.push({elem:i,handlers:d})}return h&lt;b.length&amp;&amp;g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ma.test(f)?this.mouseHooks:la.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=g.srcElement||d),3===a.target.nodeType&amp;&amp;(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,h.filter?h.filter(a,g):a},props:&quot;altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which&quot;.split(&quot; &quot;),fixHooks:{},keyHooks:{props:&quot;char charCode key keyCode&quot;.split(&quot; &quot;),filter:function(a,b){return null==a.which&amp;&amp;(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:&quot;button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement&quot;.split(&quot; &quot;),filter:function(a,b){var c,e,f,g=b.button,h=b.fromElement;return null==a.pageX&amp;&amp;null!=b.clientX&amp;&amp;(e=a.target.ownerDocument||d,f=e.documentElement,c=e.body,a.pageX=b.clientX+(f&amp;&amp;f.scrollLeft||c&amp;&amp;c.scrollLeft||0)-(f&amp;&amp;f.clientLeft||c&amp;&amp;c.clientLeft||0),a.pageY=b.clientY+(f&amp;&amp;f.scrollTop||c&amp;&amp;c.scrollTop||0)-(f&amp;&amp;f.clientTop||c&amp;&amp;c.clientTop||0)),!a.relatedTarget&amp;&amp;h&amp;&amp;(a.relatedTarget=h===a.target?b.toElement:h),a.which||void 0===g||(a.which=1&amp;g?1:2&amp;g?3:4&amp;g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ra()&amp;&amp;this.focus)try{return this.focus(),!1}catch(a){}},delegateType:&quot;focusin&quot;},blur:{trigger:function(){return this===ra()&amp;&amp;this.blur?(this.blur(),!1):void 0},delegateType:&quot;focusout&quot;},click:{trigger:function(){return n.nodeName(this,&quot;input&quot;)&amp;&amp;&quot;checkbox&quot;===this.type&amp;&amp;this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,&quot;a&quot;)}},beforeunload:{postDispatch:function(a){void 0!==a.result&amp;&amp;a.originalEvent&amp;&amp;(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&amp;&amp;c.preventDefault()}},n.removeEvent=d.removeEventListener?function(a,b,c){a.removeEventListener&amp;&amp;a.removeEventListener(b,c)}:function(a,b,c){var d=&quot;on&quot;+b;a.detachEvent&amp;&amp;(&quot;undefined&quot;==typeof a[d]&amp;&amp;(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&amp;&amp;a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&amp;&amp;a.returnValue===!1?pa:qa):this.type=a,b&amp;&amp;n.extend(this,b),this.timeStamp=a&amp;&amp;a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:qa,isPropagationStopped:qa,isImmediatePropagationStopped:qa,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=pa,a&amp;&amp;(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=pa,a&amp;&amp;!this.isSimulated&amp;&amp;(a.stopPropagation&amp;&amp;a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=pa,a&amp;&amp;a.stopImmediatePropagation&amp;&amp;a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:&quot;mouseover&quot;,mouseleave:&quot;mouseout&quot;,pointerenter:&quot;pointerover&quot;,pointerleave:&quot;pointerout&quot;},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&amp;&amp;(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submit||(n.event.special.submit={setup:function(){return n.nodeName(this,&quot;form&quot;)?!1:void n.event.add(this,&quot;click._submit keypress._submit&quot;,function(a){var b=a.target,c=n.nodeName(b,&quot;input&quot;)||n.nodeName(b,&quot;button&quot;)?n.prop(b,&quot;form&quot;):void 0;c&amp;&amp;!n._data(c,&quot;submit&quot;)&amp;&amp;(n.event.add(c,&quot;submit._submit&quot;,function(a){a._submitBubble=!0}),n._data(c,&quot;submit&quot;,!0))})},postDispatch:function(a){a._submitBubble&amp;&amp;(delete a._submitBubble,this.parentNode&amp;&amp;!a.isTrigger&amp;&amp;n.event.simulate(&quot;submit&quot;,this.parentNode,a))},teardown:function(){return n.nodeName(this,&quot;form&quot;)?!1:void n.event.remove(this,&quot;._submit&quot;)}}),l.change||(n.event.special.change={setup:function(){return ka.test(this.nodeName)?(&quot;checkbox&quot;!==this.type&amp;&amp;&quot;radio&quot;!==this.type||(n.event.add(this,&quot;propertychange._change&quot;,function(a){&quot;checked&quot;===a.originalEvent.propertyName&amp;&amp;(this._justChanged=!0)}),n.event.add(this,&quot;click._change&quot;,function(a){this._justChanged&amp;&amp;!a.isTrigger&amp;&amp;(this._justChanged=!1),n.event.simulate(&quot;change&quot;,this,a)})),!1):void n.event.add(this,&quot;beforeactivate._change&quot;,function(a){var b=a.target;ka.test(b.nodeName)&amp;&amp;!n._data(b,&quot;change&quot;)&amp;&amp;(n.event.add(b,&quot;change._change&quot;,function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate(&quot;change&quot;,this.parentNode,a)}),n._data(b,&quot;change&quot;,!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||&quot;radio&quot;!==b.type&amp;&amp;&quot;checkbox&quot;!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,&quot;._change&quot;),!ka.test(this.nodeName)}}),l.focusin||n.each({focus:&quot;focusin&quot;,blur:&quot;focusout&quot;},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d){return sa(this,a,b,c,d)},one:function(a,b,c,d){return sa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&amp;&amp;a.preventDefault&amp;&amp;a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+&quot;.&quot;+d.namespace:d.origType,d.selector,d.handler),this;if(&quot;object&quot;==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&amp;&amp;&quot;function&quot;!=typeof b||(c=b,b=void 0),c===!1&amp;&amp;(c=qa),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ta=/ jQuery\d+=&quot;(?:null|\d+)&quot;/g,ua=new RegExp(&quot;&lt;(?:&quot;+ba+&quot;)[\\s/&gt;]&quot;,&quot;i&quot;),va=/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^&gt;]*)\/&gt;/gi,wa=/&lt;script|&lt;style|&lt;link/i,xa=/checked\s*(?:[^=]|=\s*.checked.)/i,ya=/^true\/(.*)/,za=/^\s*&lt;!(?:\[CDATA\[|--)|(?:\]\]|--)&gt;\s*$/g,Aa=ca(d),Ba=Aa.appendChild(d.createElement(&quot;div&quot;));function Ca(a,b){return n.nodeName(a,&quot;table&quot;)&amp;&amp;n.nodeName(11!==b.nodeType?b:b.firstChild,&quot;tr&quot;)?a.getElementsByTagName(&quot;tbody&quot;)[0]||a.appendChild(a.ownerDocument.createElement(&quot;tbody&quot;)):a}function Da(a){return a.type=(null!==n.find.attr(a,&quot;type&quot;))+&quot;/&quot;+a.type,a}function Ea(a){var b=ya.exec(a.type);return b?a.type=b[1]:a.removeAttribute(&quot;type&quot;),a}function Fa(a,b){if(1===b.nodeType&amp;&amp;n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e&gt;d;d++)n.event.add(b,c,h[c][d])}g.data&amp;&amp;(g.data=n.extend({},g.data))}}function Ga(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&amp;&amp;b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando)}&quot;script&quot;===c&amp;&amp;b.text!==a.text?(Da(b).text=a.text,Ea(b)):&quot;object&quot;===c?(b.parentNode&amp;&amp;(b.outerHTML=a.outerHTML),l.html5Clone&amp;&amp;a.innerHTML&amp;&amp;!n.trim(b.innerHTML)&amp;&amp;(b.innerHTML=a.innerHTML)):&quot;input&quot;===c&amp;&amp;Z.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&amp;&amp;(b.value=a.value)):&quot;option&quot;===c?b.defaultSelected=b.selected=a.defaultSelected:&quot;input&quot;!==c&amp;&amp;&quot;textarea&quot;!==c||(b.defaultValue=a.defaultValue)}}function Ha(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o&gt;1&amp;&amp;&quot;string&quot;==typeof q&amp;&amp;!l.checkClone&amp;&amp;xa.test(q))return a.each(function(e){var f=a.eq(e);r&amp;&amp;(b[0]=q.call(this,e,f.html())),Ha(f,b,c,d)});if(o&amp;&amp;(k=ja(b,a[0].ownerDocument,!1,a,d),e=k.firstChild,1===k.childNodes.length&amp;&amp;(k=e),e||d)){for(i=n.map(ea(k,&quot;script&quot;),Da),h=i.length;o&gt;m;m++)g=k,m!==p&amp;&amp;(g=n.clone(g,!0,!0),h&amp;&amp;n.merge(i,ea(g,&quot;script&quot;))),c.call(a[m],g,m);if(h)for(j=i[i.length-1].ownerDocument,n.map(i,Ea),m=0;h&gt;m;m++)g=i[m],_.test(g.type||&quot;&quot;)&amp;&amp;!n._data(g,&quot;globalEval&quot;)&amp;&amp;n.contains(j,g)&amp;&amp;(g.src?n._evalUrl&amp;&amp;n._evalUrl(g.src):n.globalEval((g.text||g.textContent||g.innerHTML||&quot;&quot;).replace(za,&quot;&quot;)));k=e=null}return a}function Ia(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(ea(d)),d.parentNode&amp;&amp;(c&amp;&amp;n.contains(d.ownerDocument,d)&amp;&amp;fa(ea(d,&quot;script&quot;)),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(va,&quot;&lt;$1&gt;&lt;/$2&gt;&quot;)},clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!ua.test(&quot;&lt;&quot;+a.nodeName+&quot;&gt;&quot;)?f=a.cloneNode(!0):(Ba.innerHTML=a.outerHTML,Ba.removeChild(f=Ba.firstChild)),!(l.noCloneEvent&amp;&amp;l.noCloneChecked||1!==a.nodeType&amp;&amp;11!==a.nodeType||n.isXMLDoc(a)))for(d=ea(f),h=ea(a),g=0;null!=(e=h[g]);++g)d[g]&amp;&amp;Ga(e,d[g]);if(b)if(c)for(h=h||ea(a),d=d||ea(f),g=0;null!=(e=h[g]);g++)Fa(e,d[g]);else Fa(a,f);return d=ea(f,&quot;script&quot;),d.length&gt;0&amp;&amp;fa(d,!i&amp;&amp;ea(a,&quot;script&quot;)),d=h=e=null,f},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.attributes,m=n.event.special;null!=(d=a[h]);h++)if((b||M(d))&amp;&amp;(f=d[i],g=f&amp;&amp;j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&amp;&amp;(delete j[f],k||&quot;undefined&quot;==typeof d.removeAttribute?d[i]=void 0:d.removeAttribute(i),c.push(f))}}}),n.fn.extend({domManip:Ha,detach:function(a){return Ia(this,a,!0)},remove:function(a){return Ia(this,a)},text:function(a){return Y(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&amp;&amp;this[0].ownerDocument||d).createTextNode(a))},null,a,arguments.length)},append:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.appendChild(a)}})},prepend:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ha(this,arguments,function(a){this.parentNode&amp;&amp;this.parentNode.insertBefore(a,this)})},after:function(){return Ha(this,arguments,function(a){this.parentNode&amp;&amp;this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&amp;&amp;n.cleanData(ea(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&amp;&amp;n.nodeName(a,&quot;select&quot;)&amp;&amp;(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return Y(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(ta,&quot;&quot;):void 0;if(&quot;string&quot;==typeof a&amp;&amp;!wa.test(a)&amp;&amp;(l.htmlSerialize||!ua.test(a))&amp;&amp;(l.leadingWhitespace||!aa.test(a))&amp;&amp;!da[($.exec(a)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d&gt;c;c++)b=this[c]||{},1===b.nodeType&amp;&amp;(n.cleanData(ea(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&amp;&amp;this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ha(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)&lt;0&amp;&amp;(n.cleanData(ea(this)),c&amp;&amp;c.replaceChild(b,this))},a)}}),n.each({appendTo:&quot;append&quot;,prependTo:&quot;prepend&quot;,insertBefore:&quot;before&quot;,insertAfter:&quot;after&quot;,replaceAll:&quot;replaceWith&quot;},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],f=n(a),h=f.length-1;h&gt;=d;d++)c=d===h?this:this.clone(!0),n(f[d])[b](c),g.apply(e,c.get());return this.pushStack(e)}});var Ja,Ka={HTML:&quot;block&quot;,BODY:&quot;block&quot;};function La(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],&quot;display&quot;);return c.detach(),d}function Ma(a){var b=d,c=Ka[a];return c||(c=La(a,b),&quot;none&quot;!==c&amp;&amp;c||(Ja=(Ja||n(&quot;&lt;iframe frameborder='0' width='0' height='0'/&gt;&quot;)).appendTo(b.documentElement),b=(Ja[0].contentWindow||Ja[0].contentDocument).document,b.write(),b.close(),c=La(a,b),Ja.detach()),Ka[a]=c),c}var Na=/^margin/,Oa=new RegExp(&quot;^(&quot;+T+&quot;)(?!px)[a-z%]+$&quot;,&quot;i&quot;),Pa=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Qa=d.documentElement;!function(){var b,c,e,f,g,h,i=d.createElement(&quot;div&quot;),j=d.createElement(&quot;div&quot;);if(j.style){j.style.cssText=&quot;float:left;opacity:.5&quot;,l.opacity=&quot;0.5&quot;===j.style.opacity,l.cssFloat=!!j.style.cssFloat,j.style.backgroundClip=&quot;content-box&quot;,j.cloneNode(!0).style.backgroundClip=&quot;&quot;,l.clearCloneStyle=&quot;content-box&quot;===j.style.backgroundClip,i=d.createElement(&quot;div&quot;),i.style.cssText=&quot;border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute&quot;,j.innerHTML=&quot;&quot;,i.appendChild(j),l.boxSizing=&quot;&quot;===j.style.boxSizing||&quot;&quot;===j.style.MozBoxSizing||&quot;&quot;===j.style.WebkitBoxSizing,n.extend(l,{reliableHiddenOffsets:function(){return null==b&amp;&amp;k(),f},boxSizingReliable:function(){return null==b&amp;&amp;k(),e},pixelMarginRight:function(){return null==b&amp;&amp;k(),c},pixelPosition:function(){return null==b&amp;&amp;k(),b},reliableMarginRight:function(){return null==b&amp;&amp;k(),g},reliableMarginLeft:function(){return null==b&amp;&amp;k(),h}});function k(){var k,l,m=d.documentElement;m.appendChild(i),j.style.cssText=&quot;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%&quot;,b=e=h=!1,c=g=!0,a.getComputedStyle&amp;&amp;(l=a.getComputedStyle(j),b=&quot;1%&quot;!==(l||{}).top,h=&quot;2px&quot;===(l||{}).marginLeft,e=&quot;4px&quot;===(l||{width:&quot;4px&quot;}).width,j.style.marginRight=&quot;50%&quot;,c=&quot;4px&quot;===(l||{marginRight:&quot;4px&quot;}).marginRight,k=j.appendChild(d.createElement(&quot;div&quot;)),k.style.cssText=j.style.cssText=&quot;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0&quot;,k.style.marginRight=k.style.width=&quot;0&quot;,j.style.width=&quot;1px&quot;,g=!parseFloat((a.getComputedStyle(k)||{}).marginRight),j.removeChild(k)),j.style.display=&quot;none&quot;,f=0===j.getClientRects().length,f&amp;&amp;(j.style.display=&quot;&quot;,j.innerHTML=&quot;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;t&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;,j.childNodes[0].style.borderCollapse=&quot;separate&quot;,k=j.getElementsByTagName(&quot;td&quot;),k[0].style.cssText=&quot;margin:0;border:0;padding:0;display:none&quot;,f=0===k[0].offsetHeight,f&amp;&amp;(k[0].style.display=&quot;&quot;,k[1].style.display=&quot;none&quot;,f=0===k[0].offsetHeight)),m.removeChild(i)}}}();var Ra,Sa,Ta=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ra=function(b){var c=b.ownerDocument.defaultView;return c&amp;&amp;c.opener||(c=a),c.getComputedStyle(b)},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c.getPropertyValue(b)||c[b]:void 0,&quot;&quot;!==g&amp;&amp;void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&amp;&amp;!l.pixelMarginRight()&amp;&amp;Oa.test(g)&amp;&amp;Na.test(b)&amp;&amp;(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0===g?g:g+&quot;&quot;}):Qa.currentStyle&amp;&amp;(Ra=function(a){return a.currentStyle},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c[b]:void 0,null==g&amp;&amp;h&amp;&amp;h[b]&amp;&amp;(g=h[b]),Oa.test(g)&amp;&amp;!Ta.test(b)&amp;&amp;(d=h.left,e=a.runtimeStyle,f=e&amp;&amp;e.left,f&amp;&amp;(e.left=a.currentStyle.left),h.left=&quot;fontSize&quot;===b?&quot;1em&quot;:g,g=h.pixelLeft+&quot;px&quot;,h.left=d,f&amp;&amp;(e.left=f)),void 0===g?g:g+&quot;&quot;||&quot;auto&quot;});function Ua(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Va=/alpha\([^)]*\)/i,Wa=/opacity\s*=\s*([^)]*)/i,Xa=/^(none|table(?!-c[ea]).+)/,Ya=new RegExp(&quot;^(&quot;+T+&quot;)(.*)$&quot;,&quot;i&quot;),Za={position:&quot;absolute&quot;,visibility:&quot;hidden&quot;,display:&quot;block&quot;},$a={letterSpacing:&quot;0&quot;,fontWeight:&quot;400&quot;},_a=[&quot;Webkit&quot;,&quot;O&quot;,&quot;Moz&quot;,&quot;ms&quot;],ab=d.createElement(&quot;div&quot;).style;function bb(a){if(a in ab)return a;var b=a.charAt(0).toUpperCase()+a.slice(1),c=_a.length;while(c--)if(a=_a[c]+b,a in ab)return a}function cb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h&gt;g;g++)d=a[g],d.style&amp;&amp;(f[g]=n._data(d,&quot;olddisplay&quot;),c=d.style.display,b?(f[g]||&quot;none&quot;!==c||(d.style.display=&quot;&quot;),&quot;&quot;===d.style.display&amp;&amp;W(d)&amp;&amp;(f[g]=n._data(d,&quot;olddisplay&quot;,Ma(d.nodeName)))):(e=W(d),(c&amp;&amp;&quot;none&quot;!==c||!e)&amp;&amp;n._data(d,&quot;olddisplay&quot;,e?c:n.css(d,&quot;display&quot;))));for(g=0;h&gt;g;g++)d=a[g],d.style&amp;&amp;(b&amp;&amp;&quot;none&quot;!==d.style.display&amp;&amp;&quot;&quot;!==d.style.display||(d.style.display=b?f[g]||&quot;&quot;:&quot;none&quot;));return a}function db(a,b,c){var d=Ya.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||&quot;px&quot;):b}function eb(a,b,c,d,e){for(var f=c===(d?&quot;border&quot;:&quot;content&quot;)?4:&quot;width&quot;===b?1:0,g=0;4&gt;f;f+=2)&quot;margin&quot;===c&amp;&amp;(g+=n.css(a,c+V[f],!0,e)),d?(&quot;content&quot;===c&amp;&amp;(g-=n.css(a,&quot;padding&quot;+V[f],!0,e)),&quot;margin&quot;!==c&amp;&amp;(g-=n.css(a,&quot;border&quot;+V[f]+&quot;Width&quot;,!0,e))):(g+=n.css(a,&quot;padding&quot;+V[f],!0,e),&quot;padding&quot;!==c&amp;&amp;(g+=n.css(a,&quot;border&quot;+V[f]+&quot;Width&quot;,!0,e)));return g}function fb(a,b,c){var d=!0,e=&quot;width&quot;===b?a.offsetWidth:a.offsetHeight,f=Ra(a),g=l.boxSizing&amp;&amp;&quot;border-box&quot;===n.css(a,&quot;boxSizing&quot;,!1,f);if(0&gt;=e||null==e){if(e=Sa(a,b,f),(0&gt;e||null==e)&amp;&amp;(e=a.style[b]),Oa.test(e))return e;d=g&amp;&amp;(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+eb(a,b,c||(g?&quot;border&quot;:&quot;content&quot;),d,f)+&quot;px&quot;}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Sa(a,&quot;opacity&quot;);return&quot;&quot;===c?&quot;1&quot;:c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{&quot;float&quot;:l.cssFloat?&quot;cssFloat&quot;:&quot;styleFloat&quot;},style:function(a,b,c,d){if(a&amp;&amp;3!==a.nodeType&amp;&amp;8!==a.nodeType&amp;&amp;a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&amp;&amp;&quot;get&quot;in g&amp;&amp;void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,&quot;string&quot;===f&amp;&amp;(e=U.exec(c))&amp;&amp;e[1]&amp;&amp;(c=X(a,b,e),f=&quot;number&quot;),null!=c&amp;&amp;c===c&amp;&amp;(&quot;number&quot;===f&amp;&amp;(c+=e&amp;&amp;e[3]||(n.cssNumber[h]?&quot;&quot;:&quot;px&quot;)),l.clearCloneStyle||&quot;&quot;!==c||0!==b.indexOf(&quot;background&quot;)||(i[b]=&quot;inherit&quot;),!(g&amp;&amp;&quot;set&quot;in g&amp;&amp;void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&amp;&amp;&quot;get&quot;in g&amp;&amp;(f=g.get(a,!0,c)),void 0===f&amp;&amp;(f=Sa(a,b,d)),&quot;normal&quot;===f&amp;&amp;b in $a&amp;&amp;(f=$a[b]),&quot;&quot;===c||c?(e=parseFloat(f),c===!0||isFinite(e)?e||0:f):f}}),n.each([&quot;height&quot;,&quot;width&quot;],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Xa.test(n.css(a,&quot;display&quot;))&amp;&amp;0===a.offsetWidth?Pa(a,Za,function(){return fb(a,b,d)}):fb(a,b,d):void 0},set:function(a,c,d){var e=d&amp;&amp;Ra(a);return db(a,c,d?eb(a,b,d,l.boxSizing&amp;&amp;&quot;border-box&quot;===n.css(a,&quot;boxSizing&quot;,!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Wa.test((b&amp;&amp;a.currentStyle?a.currentStyle.filter:a.style.filter)||&quot;&quot;)?.01*parseFloat(RegExp.$1)+&quot;&quot;:b?&quot;1&quot;:&quot;&quot;},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?&quot;alpha(opacity=&quot;+100*b+&quot;)&quot;:&quot;&quot;,f=d&amp;&amp;d.filter||c.filter||&quot;&quot;;c.zoom=1,(b&gt;=1||&quot;&quot;===b)&amp;&amp;&quot;&quot;===n.trim(f.replace(Va,&quot;&quot;))&amp;&amp;c.removeAttribute&amp;&amp;(c.removeAttribute(&quot;filter&quot;),&quot;&quot;===b||d&amp;&amp;!d.filter)||(c.filter=Va.test(f)?f.replace(Va,e):f+&quot; &quot;+e)}}),n.cssHooks.marginRight=Ua(l.reliableMarginRight,function(a,b){return b?Pa(a,{display:&quot;inline-block&quot;},Sa,[a,&quot;marginRight&quot;]):void 0}),n.cssHooks.marginLeft=Ua(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Sa(a,&quot;marginLeft&quot;))||(n.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Pa(a,{
marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+&quot;px&quot;:void 0}),n.each({margin:&quot;&quot;,padding:&quot;&quot;,border:&quot;Width&quot;},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=&quot;string&quot;==typeof c?c.split(&quot; &quot;):[c];4&gt;d;d++)e[a+V[d]+b]=f[d]||f[d-2]||f[0];return e}},Na.test(a)||(n.cssHooks[a+b].set=db)}),n.fn.extend({css:function(a,b){return Y(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ra(a),e=b.length;e&gt;g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length&gt;1)},show:function(){return cb(this,!0)},hide:function(){return cb(this)},toggle:function(a){return&quot;boolean&quot;==typeof a?a?this.show():this.hide():this.each(function(){W(this)?n(this).show():n(this).hide()})}});function gb(a,b,c,d,e){return new gb.prototype.init(a,b,c,d,e)}n.Tween=gb,gb.prototype={constructor:gb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?&quot;&quot;:&quot;px&quot;)},cur:function(){var a=gb.propHooks[this.prop];return a&amp;&amp;a.get?a.get(this):gb.propHooks._default.get(this)},run:function(a){var b,c=gb.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&amp;&amp;this.options.step.call(this.elem,this.now,this),c&amp;&amp;c.set?c.set(this):gb.propHooks._default.set(this),this}},gb.prototype.init.prototype=gb.prototype,gb.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&amp;&amp;null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,&quot;&quot;),b&amp;&amp;&quot;auto&quot;!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&amp;&amp;!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},gb.propHooks.scrollTop=gb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&amp;&amp;a.elem.parentNode&amp;&amp;(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:&quot;swing&quot;},n.fx=gb.prototype.init,n.fx.step={};var hb,ib,jb=/^(?:toggle|show|hide)$/,kb=/queueHooks$/;function lb(){return a.setTimeout(function(){hb=void 0}),hb=n.now()}function mb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4&gt;e;e+=2-b)c=V[e],d[&quot;margin&quot;+c]=d[&quot;padding&quot;+c]=a;return b&amp;&amp;(d.opacity=d.width=a),d}function nb(a,b,c){for(var d,e=(qb.tweeners[b]||[]).concat(qb.tweeners[&quot;*&quot;]),f=0,g=e.length;g&gt;f;f++)if(d=e[f].call(c,b,a))return d}function ob(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&amp;&amp;W(a),r=n._data(a,&quot;fxshow&quot;);c.queue||(h=n._queueHooks(a,&quot;fx&quot;),null==h.unqueued&amp;&amp;(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,&quot;fx&quot;).length||h.empty.fire()})})),1===a.nodeType&amp;&amp;(&quot;height&quot;in b||&quot;width&quot;in b)&amp;&amp;(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,&quot;display&quot;),k=&quot;none&quot;===j?n._data(a,&quot;olddisplay&quot;)||Ma(a.nodeName):j,&quot;inline&quot;===k&amp;&amp;&quot;none&quot;===n.css(a,&quot;float&quot;)&amp;&amp;(l.inlineBlockNeedsLayout&amp;&amp;&quot;inline&quot;!==Ma(a.nodeName)?p.zoom=1:p.display=&quot;inline-block&quot;)),c.overflow&amp;&amp;(p.overflow=&quot;hidden&quot;,l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],jb.exec(e)){if(delete b[d],f=f||&quot;toggle&quot;===e,e===(q?&quot;hide&quot;:&quot;show&quot;)){if(&quot;show&quot;!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&amp;&amp;r[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(o))&quot;inline&quot;===(&quot;none&quot;===j?Ma(a.nodeName):j)&amp;&amp;(p.display=j);else{r?&quot;hidden&quot;in r&amp;&amp;(q=r.hidden):r=n._data(a,&quot;fxshow&quot;,{}),f&amp;&amp;(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,&quot;fxshow&quot;);for(b in o)n.style(a,b,o[b])});for(d in o)g=nb(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&amp;&amp;(g.end=g.start,g.start=&quot;width&quot;===d||&quot;height&quot;===d?1:0))}}function pb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&amp;&amp;(e=f[1],f=a[c]=f[0]),c!==d&amp;&amp;(a[d]=f,delete a[c]),g=n.cssHooks[d],g&amp;&amp;&quot;expand&quot;in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function qb(a,b,c){var d,e,f=0,g=qb.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=hb||lb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i&gt;g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1&gt;f&amp;&amp;i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:hb||lb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d&gt;c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(pb(k,j.opts.specialEasing);g&gt;f;f++)if(d=qb.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&amp;&amp;(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,nb,j),n.isFunction(j.opts.start)&amp;&amp;j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(qb,{tweeners:{&quot;*&quot;:[function(a,b){var c=this.createTween(a,b);return X(c.elem,a,U.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=[&quot;*&quot;]):a=a.match(G);for(var c,d=0,e=a.length;e&gt;d;d++)c=a[d],qb.tweeners[c]=qb.tweeners[c]||[],qb.tweeners[c].unshift(b)},prefilters:[ob],prefilter:function(a,b){b?qb.prefilters.unshift(a):qb.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&amp;&amp;&quot;object&quot;==typeof a?n.extend({},a):{complete:c||!c&amp;&amp;b||n.isFunction(a)&amp;&amp;a,duration:a,easing:c&amp;&amp;b||b&amp;&amp;!n.isFunction(b)&amp;&amp;b};return d.duration=n.fx.off?0:&quot;number&quot;==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&amp;&amp;d.queue!==!0||(d.queue=&quot;fx&quot;),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&amp;&amp;d.old.call(this),d.queue&amp;&amp;n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(W).css(&quot;opacity&quot;,0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=qb(this,n.extend({},a),f);(e||n._data(this,&quot;finish&quot;))&amp;&amp;b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return&quot;string&quot;!=typeof a&amp;&amp;(c=b,b=a,a=void 0),b&amp;&amp;a!==!1&amp;&amp;this.queue(a||&quot;fx&quot;,[]),this.each(function(){var b=!0,e=null!=a&amp;&amp;a+&quot;queueHooks&quot;,f=n.timers,g=n._data(this);if(e)g[e]&amp;&amp;g[e].stop&amp;&amp;d(g[e]);else for(e in g)g[e]&amp;&amp;g[e].stop&amp;&amp;kb.test(e)&amp;&amp;d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&amp;&amp;f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&amp;&amp;c||n.dequeue(this,a)})},finish:function(a){return a!==!1&amp;&amp;(a=a||&quot;fx&quot;),this.each(function(){var b,c=n._data(this),d=c[a+&quot;queue&quot;],e=c[a+&quot;queueHooks&quot;],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&amp;&amp;e.stop&amp;&amp;e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&amp;&amp;f[b].queue===a&amp;&amp;(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g&gt;b;b++)d[b]&amp;&amp;d[b].finish&amp;&amp;d[b].finish.call(this);delete c.finish})}}),n.each([&quot;toggle&quot;,&quot;show&quot;,&quot;hide&quot;],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||&quot;boolean&quot;==typeof a?c.apply(this,arguments):this.animate(mb(b,!0),a,d,e)}}),n.each({slideDown:mb(&quot;show&quot;),slideUp:mb(&quot;hide&quot;),slideToggle:mb(&quot;toggle&quot;),fadeIn:{opacity:&quot;show&quot;},fadeOut:{opacity:&quot;hide&quot;},fadeToggle:{opacity:&quot;toggle&quot;}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(hb=n.now();c&lt;b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),hb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ib||(ib=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(ib),ib=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||&quot;fx&quot;,this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a,b=d.createElement(&quot;input&quot;),c=d.createElement(&quot;div&quot;),e=d.createElement(&quot;select&quot;),f=e.appendChild(d.createElement(&quot;option&quot;));c=d.createElement(&quot;div&quot;),c.setAttribute(&quot;className&quot;,&quot;t&quot;),c.innerHTML=&quot;  &lt;link/&gt;&lt;table&gt;&lt;/table&gt;&lt;a href='/a'&gt;a&lt;/a&gt;&lt;input type='checkbox'/&gt;&quot;,a=c.getElementsByTagName(&quot;a&quot;)[0],b.setAttribute(&quot;type&quot;,&quot;checkbox&quot;),c.appendChild(b),a=c.getElementsByTagName(&quot;a&quot;)[0],a.style.cssText=&quot;top:1px&quot;,l.getSetAttribute=&quot;t&quot;!==c.className,l.style=/top/.test(a.getAttribute(&quot;style&quot;)),l.hrefNormalized=&quot;/a&quot;===a.getAttribute(&quot;href&quot;),l.checkOn=!!b.value,l.optSelected=f.selected,l.enctype=!!d.createElement(&quot;form&quot;).enctype,e.disabled=!0,l.optDisabled=!f.disabled,b=d.createElement(&quot;input&quot;),b.setAttribute(&quot;value&quot;,&quot;&quot;),l.input=&quot;&quot;===b.getAttribute(&quot;value&quot;),b.value=&quot;t&quot;,b.setAttribute(&quot;type&quot;,&quot;radio&quot;),l.radioValue=&quot;t&quot;===b.value}();var rb=/\r/g,sb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&amp;&amp;(e=d?a.call(this,c,n(this).val()):a,null==e?e=&quot;&quot;:&quot;number&quot;==typeof e?e+=&quot;&quot;:n.isArray(e)&amp;&amp;(e=n.map(e,function(a){return null==a?&quot;&quot;:a+&quot;&quot;})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&amp;&amp;&quot;set&quot;in b&amp;&amp;void 0!==b.set(this,e,&quot;value&quot;)||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&amp;&amp;&quot;get&quot;in b&amp;&amp;void 0!==(c=b.get(e,&quot;value&quot;))?c:(c=e.value,&quot;string&quot;==typeof c?c.replace(rb,&quot;&quot;):null==c?&quot;&quot;:c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,&quot;value&quot;);return null!=b?b:n.trim(n.text(a)).replace(sb,&quot; &quot;)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=&quot;select-one&quot;===a.type||0&gt;e,g=f?null:[],h=f?e+1:d.length,i=0&gt;e?h:f?e:0;h&gt;i;i++)if(c=d[i],(c.selected||i===e)&amp;&amp;(l.optDisabled?!c.disabled:null===c.getAttribute(&quot;disabled&quot;))&amp;&amp;(!c.parentNode.disabled||!n.nodeName(c.parentNode,&quot;optgroup&quot;))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)&gt;-1)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each([&quot;radio&quot;,&quot;checkbox&quot;],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)&gt;-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute(&quot;value&quot;)?&quot;on&quot;:a.value})});var tb,ub,vb=n.expr.attrHandle,wb=/^(?:checked|selected)$/i,xb=l.getSetAttribute,yb=l.input;n.fn.extend({attr:function(a,b){return Y(this,n.attr,a,b,arguments.length&gt;1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&amp;&amp;8!==f&amp;&amp;2!==f)return&quot;undefined&quot;==typeof a.getAttribute?n.prop(a,b,c):(1===f&amp;&amp;n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ub:tb)),void 0!==c?null===c?void n.removeAttr(a,b):e&amp;&amp;&quot;set&quot;in e&amp;&amp;void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+&quot;&quot;),c):e&amp;&amp;&quot;get&quot;in e&amp;&amp;null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&amp;&amp;&quot;radio&quot;===b&amp;&amp;n.nodeName(a,&quot;input&quot;)){var c=a.value;return a.setAttribute(&quot;type&quot;,b),c&amp;&amp;(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&amp;&amp;b.match(G);if(f&amp;&amp;1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)?yb&amp;&amp;xb||!wb.test(c)?a[d]=!1:a[n.camelCase(&quot;default-&quot;+c)]=a[d]=!1:n.attr(a,c,&quot;&quot;),a.removeAttribute(xb?c:d)}}),ub={set:function(a,b,c){return b===!1?n.removeAttr(a,c):yb&amp;&amp;xb||!wb.test(c)?a.setAttribute(!xb&amp;&amp;n.propFix[c]||c,c):a[n.camelCase(&quot;default-&quot;+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=vb[b]||n.find.attr;yb&amp;&amp;xb||!wb.test(b)?vb[b]=function(a,b,d){var e,f;return d||(f=vb[b],vb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,vb[b]=f),e}:vb[b]=function(a,b,c){return c?void 0:a[n.camelCase(&quot;default-&quot;+b)]?b.toLowerCase():null}}),yb&amp;&amp;xb||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,&quot;input&quot;)?void(a.defaultValue=b):tb&amp;&amp;tb.set(a,b,c)}}),xb||(tb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+=&quot;&quot;,&quot;value&quot;===c||b===a.getAttribute(c)?b:void 0}},vb.id=vb.name=vb.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&amp;&amp;&quot;&quot;!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&amp;&amp;c.specified?c.value:void 0},set:tb.set},n.attrHooks.contenteditable={set:function(a,b,c){tb.set(a,&quot;&quot;===b?!1:b,c)}},n.each([&quot;width&quot;,&quot;height&quot;],function(a,b){n.attrHooks[b]={set:function(a,c){return&quot;&quot;===c?(a.setAttribute(b,&quot;auto&quot;),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+&quot;&quot;}});var zb=/^(?:input|select|textarea|button|object)$/i,Ab=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return Y(this,n.prop,a,b,arguments.length&gt;1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&amp;&amp;8!==f&amp;&amp;2!==f)return 1===f&amp;&amp;n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&amp;&amp;&quot;set&quot;in e&amp;&amp;void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&amp;&amp;&quot;get&quot;in e&amp;&amp;null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,&quot;tabindex&quot;);return b?parseInt(b,10):zb.test(a.nodeName)||Ab.test(a.nodeName)&amp;&amp;a.href?0:-1}}},propFix:{&quot;for&quot;:&quot;htmlFor&quot;,&quot;class&quot;:&quot;className&quot;}}),l.hrefNormalized||n.each([&quot;href&quot;,&quot;src&quot;],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&amp;&amp;(b.selectedIndex,b.parentNode&amp;&amp;b.parentNode.selectedIndex),null},set:function(a){var b=a.parentNode;b&amp;&amp;(b.selectedIndex,b.parentNode&amp;&amp;b.parentNode.selectedIndex)}}),n.each([&quot;tabIndex&quot;,&quot;readOnly&quot;,&quot;maxLength&quot;,&quot;cellSpacing&quot;,&quot;cellPadding&quot;,&quot;rowSpan&quot;,&quot;colSpan&quot;,&quot;useMap&quot;,&quot;frameBorder&quot;,&quot;contentEditable&quot;],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype=&quot;encoding&quot;);var Bb=/[\t\r\n\f]/g;function Cb(a){return n.attr(a,&quot;class&quot;)||&quot;&quot;}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,Cb(this)))});if(&quot;string&quot;==typeof a&amp;&amp;a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&amp;&amp;(&quot; &quot;+e+&quot; &quot;).replace(Bb,&quot; &quot;)){g=0;while(f=b[g++])d.indexOf(&quot; &quot;+f+&quot; &quot;)&lt;0&amp;&amp;(d+=f+&quot; &quot;);h=n.trim(d),e!==h&amp;&amp;n.attr(c,&quot;class&quot;,h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,Cb(this)))});if(!arguments.length)return this.attr(&quot;class&quot;,&quot;&quot;);if(&quot;string&quot;==typeof a&amp;&amp;a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&amp;&amp;(&quot; &quot;+e+&quot; &quot;).replace(Bb,&quot; &quot;)){g=0;while(f=b[g++])while(d.indexOf(&quot; &quot;+f+&quot; &quot;)&gt;-1)d=d.replace(&quot; &quot;+f+&quot; &quot;,&quot; &quot;);h=n.trim(d),e!==h&amp;&amp;n.attr(c,&quot;class&quot;,h)}}return this},toggleClass:function(a,b){var c=typeof a;return&quot;boolean&quot;==typeof b&amp;&amp;&quot;string&quot;===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,Cb(this),b),b)}):this.each(function(){var b,d,e,f;if(&quot;string&quot;===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&amp;&amp;&quot;boolean&quot;!==c||(b=Cb(this),b&amp;&amp;n._data(this,&quot;__className__&quot;,b),n.attr(this,&quot;class&quot;,b||a===!1?&quot;&quot;:n._data(this,&quot;__className__&quot;)||&quot;&quot;))})},hasClass:function(a){var b,c,d=0;b=&quot; &quot;+a+&quot; &quot;;while(c=this[d++])if(1===c.nodeType&amp;&amp;(&quot; &quot;+Cb(c)+&quot; &quot;).replace(Bb,&quot; &quot;).indexOf(b)&gt;-1)return!0;return!1}}),n.each(&quot;blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu&quot;.split(&quot; &quot;),function(a,b){n.fn[b]=function(a,c){return arguments.length&gt;0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Db=a.location,Eb=n.now(),Fb=/\?/,Gb=/(,)|(\[|{)|(}|])|&quot;(?:[^&quot;\\\r\n]|\\[&quot;\\\/bfnrt]|\\u[\da-fA-F]{4})*&quot;\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&amp;&amp;a.JSON.parse)return a.JSON.parse(b+&quot;&quot;);var c,d=null,e=n.trim(b+&quot;&quot;);return e&amp;&amp;!n.trim(e.replace(Gb,function(a,b,e,f){return c&amp;&amp;b&amp;&amp;(d=0),0===d?a:(c=e||b,d+=!f-!e,&quot;&quot;)}))?Function(&quot;return &quot;+e)():n.error(&quot;Invalid JSON: &quot;+b)},n.parseXML=function(b){var c,d;if(!b||&quot;string&quot;!=typeof b)return null;try{a.DOMParser?(d=new a.DOMParser,c=d.parseFromString(b,&quot;text/xml&quot;)):(c=new a.ActiveXObject(&quot;Microsoft.XMLDOM&quot;),c.async=&quot;false&quot;,c.loadXML(b))}catch(e){c=void 0}return c&amp;&amp;c.documentElement&amp;&amp;!c.getElementsByTagName(&quot;parsererror&quot;).length||n.error(&quot;Invalid XML: &quot;+b),c};var Hb=/#.*$/,Ib=/([?&amp;])_=[^&amp;]*/,Jb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Kb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lb=/^(?:GET|HEAD)$/,Mb=/^\/\//,Nb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ob={},Pb={},Qb=&quot;*/&quot;.concat(&quot;*&quot;),Rb=Db.href,Sb=Nb.exec(Rb.toLowerCase())||[];function Tb(a){return function(b,c){&quot;string&quot;!=typeof b&amp;&amp;(c=b,b=&quot;*&quot;);var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])&quot;+&quot;===d.charAt(0)?(d=d.slice(1)||&quot;*&quot;,(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Ub(a,b,c,d){var e={},f=a===Pb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return&quot;string&quot;!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[&quot;*&quot;]&amp;&amp;g(&quot;*&quot;)}function Vb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&amp;&amp;((e[d]?a:c||(c={}))[d]=b[d]);return c&amp;&amp;n.extend(!0,a,c),a}function Wb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(&quot;*&quot;===i[0])i.shift(),void 0===e&amp;&amp;(e=a.mimeType||b.getResponseHeader(&quot;Content-Type&quot;));if(e)for(g in h)if(h[g]&amp;&amp;h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+&quot; &quot;+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&amp;&amp;i.unshift(f),c[f]):void 0}function Xb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&amp;&amp;(c[a.responseFields[f]]=b),!i&amp;&amp;d&amp;&amp;a.dataFilter&amp;&amp;(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(&quot;*&quot;===f)f=i;else if(&quot;*&quot;!==i&amp;&amp;i!==f){if(g=j[i+&quot; &quot;+f]||j[&quot;* &quot;+f],!g)for(e in j)if(h=e.split(&quot; &quot;),h[1]===f&amp;&amp;(g=j[i+&quot; &quot;+h[0]]||j[&quot;* &quot;+h[0]])){g===!0?g=j[e]:j[e]!==!0&amp;&amp;(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&amp;&amp;a[&quot;throws&quot;])b=g(b);else try{b=g(b)}catch(l){return{state:&quot;parsererror&quot;,error:g?l:&quot;No conversion from &quot;+i+&quot; to &quot;+f}}}return{state:&quot;success&quot;,data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rb,type:&quot;GET&quot;,isLocal:Kb.test(Sb[1]),global:!0,processData:!0,async:!0,contentType:&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;,accepts:{&quot;*&quot;:Qb,text:&quot;text/plain&quot;,html:&quot;text/html&quot;,xml:&quot;application/xml, text/xml&quot;,json:&quot;application/json, text/javascript&quot;},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:&quot;responseXML&quot;,text:&quot;responseText&quot;,json:&quot;responseJSON&quot;},converters:{&quot;* text&quot;:String,&quot;text html&quot;:!0,&quot;text json&quot;:n.parseJSON,&quot;text xml&quot;:n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Vb(Vb(a,n.ajaxSettings),b):Vb(n.ajaxSettings,a)},ajaxPrefilter:Tb(Ob),ajaxTransport:Tb(Pb),ajax:function(b,c){&quot;object&quot;==typeof b&amp;&amp;(c=b,b=void 0),c=c||{};var d,e,f,g,h,i,j,k,l=n.ajaxSetup({},c),m=l.context||l,o=l.context&amp;&amp;(m.nodeType||m.jquery)?n(m):n.event,p=n.Deferred(),q=n.Callbacks(&quot;once memory&quot;),r=l.statusCode||{},s={},t={},u=0,v=&quot;canceled&quot;,w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!k){k={};while(b=Jb.exec(g))k[b[1].toLowerCase()]=b[2]}b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2&gt;u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return j&amp;&amp;j.abort(b),y(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,l.url=((b||l.url||Rb)+&quot;&quot;).replace(Hb,&quot;&quot;).replace(Mb,Sb[1]+&quot;//&quot;),l.type=c.method||c.type||l.method||l.type,l.dataTypes=n.trim(l.dataType||&quot;*&quot;).toLowerCase().match(G)||[&quot;&quot;],null==l.crossDomain&amp;&amp;(d=Nb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Sb[1]&amp;&amp;d[2]===Sb[2]&amp;&amp;(d[3]||(&quot;http:&quot;===d[1]?&quot;80&quot;:&quot;443&quot;))===(Sb[3]||(&quot;http:&quot;===Sb[1]?&quot;80&quot;:&quot;443&quot;)))),l.data&amp;&amp;l.processData&amp;&amp;&quot;string&quot;!=typeof l.data&amp;&amp;(l.data=n.param(l.data,l.traditional)),Ub(Ob,l,c,w),2===u)return w;i=n.event&amp;&amp;l.global,i&amp;&amp;0===n.active++&amp;&amp;n.event.trigger(&quot;ajaxStart&quot;),l.type=l.type.toUpperCase(),l.hasContent=!Lb.test(l.type),f=l.url,l.hasContent||(l.data&amp;&amp;(f=l.url+=(Fb.test(f)?&quot;&amp;&quot;:&quot;?&quot;)+l.data,delete l.data),l.cache===!1&amp;&amp;(l.url=Ib.test(f)?f.replace(Ib,&quot;$1_=&quot;+Eb++):f+(Fb.test(f)?&quot;&amp;&quot;:&quot;?&quot;)+&quot;_=&quot;+Eb++)),l.ifModified&amp;&amp;(n.lastModified[f]&amp;&amp;w.setRequestHeader(&quot;If-Modified-Since&quot;,n.lastModified[f]),n.etag[f]&amp;&amp;w.setRequestHeader(&quot;If-None-Match&quot;,n.etag[f])),(l.data&amp;&amp;l.hasContent&amp;&amp;l.contentType!==!1||c.contentType)&amp;&amp;w.setRequestHeader(&quot;Content-Type&quot;,l.contentType),w.setRequestHeader(&quot;Accept&quot;,l.dataTypes[0]&amp;&amp;l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(&quot;*&quot;!==l.dataTypes[0]?&quot;, &quot;+Qb+&quot;; q=0.01&quot;:&quot;&quot;):l.accepts[&quot;*&quot;]);for(e in l.headers)w.setRequestHeader(e,l.headers[e]);if(l.beforeSend&amp;&amp;(l.beforeSend.call(m,w,l)===!1||2===u))return w.abort();v=&quot;abort&quot;;for(e in{success:1,error:1,complete:1})w[e](l[e]);if(j=Ub(Pb,l,c,w)){if(w.readyState=1,i&amp;&amp;o.trigger(&quot;ajaxSend&quot;,[w,l]),2===u)return w;l.async&amp;&amp;l.timeout&gt;0&amp;&amp;(h=a.setTimeout(function(){w.abort(&quot;timeout&quot;)},l.timeout));try{u=1,j.send(s,y)}catch(x){if(!(2&gt;u))throw x;y(-1,x)}}else y(-1,&quot;No Transport&quot;);function y(b,c,d,e){var k,s,t,v,x,y=c;2!==u&amp;&amp;(u=2,h&amp;&amp;a.clearTimeout(h),j=void 0,g=e||&quot;&quot;,w.readyState=b&gt;0?4:0,k=b&gt;=200&amp;&amp;300&gt;b||304===b,d&amp;&amp;(v=Wb(l,w,d)),v=Xb(l,v,w,k),k?(l.ifModified&amp;&amp;(x=w.getResponseHeader(&quot;Last-Modified&quot;),x&amp;&amp;(n.lastModified[f]=x),x=w.getResponseHeader(&quot;etag&quot;),x&amp;&amp;(n.etag[f]=x)),204===b||&quot;HEAD&quot;===l.type?y=&quot;nocontent&quot;:304===b?y=&quot;notmodified&quot;:(y=v.state,s=v.data,t=v.error,k=!t)):(t=y,!b&amp;&amp;y||(y=&quot;error&quot;,0&gt;b&amp;&amp;(b=0))),w.status=b,w.statusText=(c||y)+&quot;&quot;,k?p.resolveWith(m,[s,y,w]):p.rejectWith(m,[w,y,t]),w.statusCode(r),r=void 0,i&amp;&amp;o.trigger(k?&quot;ajaxSuccess&quot;:&quot;ajaxError&quot;,[w,l,k?s:t]),q.fireWith(m,[w,y]),i&amp;&amp;(o.trigger(&quot;ajaxComplete&quot;,[w,l]),--n.active||n.event.trigger(&quot;ajaxStop&quot;)))}return w},getJSON:function(a,b,c){return n.get(a,b,c,&quot;json&quot;)},getScript:function(a,b){return n.get(a,void 0,b,&quot;script&quot;)}}),n.each([&quot;get&quot;,&quot;post&quot;],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&amp;&amp;(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&amp;&amp;a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:&quot;GET&quot;,dataType:&quot;script&quot;,cache:!0,async:!1,global:!1,&quot;throws&quot;:!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&amp;&amp;b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&amp;&amp;1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,&quot;body&quot;)||n(this).replaceWith(this.childNodes)}).end()}});function Yb(a){return a.style&amp;&amp;a.style.display||n.css(a,&quot;display&quot;)}function Zb(a){if(!n.contains(a.ownerDocument||d,a))return!0;while(a&amp;&amp;1===a.nodeType){if(&quot;none&quot;===Yb(a)||&quot;hidden&quot;===a.type)return!0;a=a.parentNode}return!1}n.expr.filters.hidden=function(a){return l.reliableHiddenOffsets()?a.offsetWidth&lt;=0&amp;&amp;a.offsetHeight&lt;=0&amp;&amp;!a.getClientRects().length:Zb(a)},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var $b=/%20/g,_b=/\[\]$/,ac=/\r?\n/g,bc=/^(?:submit|button|image|reset|file)$/i,cc=/^(?:input|select|textarea|keygen)/i;function dc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||_b.test(a)?d(a,e):dc(a+&quot;[&quot;+(&quot;object&quot;==typeof e&amp;&amp;null!=e?b:&quot;&quot;)+&quot;]&quot;,e,c,d)});else if(c||&quot;object&quot;!==n.type(b))d(a,b);else for(e in b)dc(a+&quot;[&quot;+e+&quot;]&quot;,b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?&quot;&quot;:b,d[d.length]=encodeURIComponent(a)+&quot;=&quot;+encodeURIComponent(b)};if(void 0===b&amp;&amp;(b=n.ajaxSettings&amp;&amp;n.ajaxSettings.traditional),n.isArray(a)||a.jquery&amp;&amp;!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)dc(c,a[c],b,e);return d.join(&quot;&amp;&quot;).replace($b,&quot;+&quot;)},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,&quot;elements&quot;);return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&amp;&amp;!n(this).is(&quot;:disabled&quot;)&amp;&amp;cc.test(this.nodeName)&amp;&amp;!bc.test(a)&amp;&amp;(this.checked||!Z.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(ac,&quot;\r\n&quot;)}}):{name:b.name,value:c.replace(ac,&quot;\r\n&quot;)}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return this.isLocal?ic():d.documentMode&gt;8?hc():/^(get|post|head|put|delete|options)$/i.test(this.type)&amp;&amp;hc()||ic()}:hc;var ec=0,fc={},gc=n.ajaxSettings.xhr();a.attachEvent&amp;&amp;a.attachEvent(&quot;onunload&quot;,function(){for(var a in fc)fc[a](void 0,!0)}),l.cors=!!gc&amp;&amp;&quot;withCredentials&quot;in gc,gc=l.ajax=!!gc,gc&amp;&amp;n.ajaxTransport(function(b){if(!b.crossDomain||l.cors){var c;return{send:function(d,e){var f,g=b.xhr(),h=++ec;if(g.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(f in b.xhrFields)g[f]=b.xhrFields[f];b.mimeType&amp;&amp;g.overrideMimeType&amp;&amp;g.overrideMimeType(b.mimeType),b.crossDomain||d[&quot;X-Requested-With&quot;]||(d[&quot;X-Requested-With&quot;]=&quot;XMLHttpRequest&quot;);for(f in d)void 0!==d[f]&amp;&amp;g.setRequestHeader(f,d[f]+&quot;&quot;);g.send(b.hasContent&amp;&amp;b.data||null),c=function(a,d){var f,i,j;if(c&amp;&amp;(d||4===g.readyState))if(delete fc[h],c=void 0,g.onreadystatechange=n.noop,d)4!==g.readyState&amp;&amp;g.abort();else{j={},f=g.status,&quot;string&quot;==typeof g.responseText&amp;&amp;(j.text=g.responseText);try{i=g.statusText}catch(k){i=&quot;&quot;}f||!b.isLocal||b.crossDomain?1223===f&amp;&amp;(f=204):f=j.text?200:404}j&amp;&amp;e(f,i,j,g.getAllResponseHeaders())},b.async?4===g.readyState?a.setTimeout(c):g.onreadystatechange=fc[h]=c:c()},abort:function(){c&amp;&amp;c(void 0,!0)}}}});function hc(){try{return new a.XMLHttpRequest}catch(b){}}function ic(){try{return new a.ActiveXObject(&quot;Microsoft.XMLHTTP&quot;)}catch(b){}}n.ajaxSetup({accepts:{script:&quot;text/javascript, application/javascript, application/ecmascript, application/x-ecmascript&quot;},contents:{script:/\b(?:java|ecma)script\b/},converters:{&quot;text script&quot;:function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter(&quot;script&quot;,function(a){void 0===a.cache&amp;&amp;(a.cache=!1),a.crossDomain&amp;&amp;(a.type=&quot;GET&quot;,a.global=!1)}),n.ajaxTransport(&quot;script&quot;,function(a){if(a.crossDomain){var b,c=d.head||n(&quot;head&quot;)[0]||d.documentElement;return{send:function(e,f){b=d.createElement(&quot;script&quot;),b.async=!0,a.scriptCharset&amp;&amp;(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&amp;&amp;(b.onload=b.onreadystatechange=null,b.parentNode&amp;&amp;b.parentNode.removeChild(b),b=null,c||f(200,&quot;success&quot;))},c.insertBefore(b,c.firstChild)},abort:function(){b&amp;&amp;b.onload(void 0,!0)}}}});var jc=[],kc=/(=)\?(?=&amp;|$)|\?\?/;n.ajaxSetup({jsonp:&quot;callback&quot;,jsonpCallback:function(){var a=jc.pop()||n.expando+&quot;_&quot;+Eb++;return this[a]=!0,a}}),n.ajaxPrefilter(&quot;json jsonp&quot;,function(b,c,d){var e,f,g,h=b.jsonp!==!1&amp;&amp;(kc.test(b.url)?&quot;url&quot;:&quot;string&quot;==typeof b.data&amp;&amp;0===(b.contentType||&quot;&quot;).indexOf(&quot;application/x-www-form-urlencoded&quot;)&amp;&amp;kc.test(b.data)&amp;&amp;&quot;data&quot;);return h||&quot;jsonp&quot;===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(kc,&quot;$1&quot;+e):b.jsonp!==!1&amp;&amp;(b.url+=(Fb.test(b.url)?&quot;&amp;&quot;:&quot;?&quot;)+b.jsonp+&quot;=&quot;+e),b.converters[&quot;script json&quot;]=function(){return g||n.error(e+&quot; was not called&quot;),g[0]},b.dataTypes[0]=&quot;json&quot;,f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&amp;&amp;(b.jsonpCallback=c.jsonpCallback,jc.push(e)),g&amp;&amp;n.isFunction(f)&amp;&amp;f(g[0]),g=f=void 0}),&quot;script&quot;):void 0}),n.parseHTML=function(a,b,c){if(!a||&quot;string&quot;!=typeof a)return null;&quot;boolean&quot;==typeof b&amp;&amp;(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&amp;&amp;[];return e?[b.createElement(e[1])]:(e=ja([a],b,f),f&amp;&amp;f.length&amp;&amp;n(f).remove(),n.merge([],e.childNodes))};var lc=n.fn.load;n.fn.load=function(a,b,c){if(&quot;string&quot;!=typeof a&amp;&amp;lc)return lc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(&quot; &quot;);return h&gt;-1&amp;&amp;(d=n.trim(a.slice(h,a.length)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&amp;&amp;&quot;object&quot;==typeof b&amp;&amp;(e=&quot;POST&quot;),g.length&gt;0&amp;&amp;n.ajax({url:a,type:e||&quot;GET&quot;,dataType:&quot;html&quot;,data:b}).done(function(a){f=arguments,g.html(d?n(&quot;&lt;div&gt;&quot;).append(n.parseHTML(a)).find(d):a)}).always(c&amp;&amp;function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each([&quot;ajaxStart&quot;,&quot;ajaxStop&quot;,&quot;ajaxComplete&quot;,&quot;ajaxError&quot;,&quot;ajaxSuccess&quot;,&quot;ajaxSend&quot;],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function mc(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,&quot;position&quot;),l=n(a),m={};&quot;static&quot;===k&amp;&amp;(a.style.position=&quot;relative&quot;),h=l.offset(),f=n.css(a,&quot;top&quot;),i=n.css(a,&quot;left&quot;),j=(&quot;absolute&quot;===k||&quot;fixed&quot;===k)&amp;&amp;n.inArray(&quot;auto&quot;,[f,i])&gt;-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&amp;&amp;(b=b.call(a,c,n.extend({},h))),null!=b.top&amp;&amp;(m.top=b.top-h.top+g),null!=b.left&amp;&amp;(m.left=b.left-h.left+e),&quot;using&quot;in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&amp;&amp;e.ownerDocument;if(f)return b=f.documentElement,n.contains(b,e)?(&quot;undefined&quot;!=typeof e.getBoundingClientRect&amp;&amp;(d=e.getBoundingClientRect()),c=mc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return&quot;fixed&quot;===n.css(d,&quot;position&quot;)?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],&quot;html&quot;)||(c=a.offset()),c.top+=n.css(a[0],&quot;borderTopWidth&quot;,!0),c.left+=n.css(a[0],&quot;borderLeftWidth&quot;,!0)),{top:b.top-c.top-n.css(d,&quot;marginTop&quot;,!0),left:b.left-c.left-n.css(d,&quot;marginLeft&quot;,!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&amp;&amp;!n.nodeName(a,&quot;html&quot;)&amp;&amp;&quot;static&quot;===n.css(a,&quot;position&quot;))a=a.offsetParent;return a||Qa})}}),n.each({scrollLeft:&quot;pageXOffset&quot;,scrollTop:&quot;pageYOffset&quot;},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return Y(this,function(a,d,e){var f=mc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each([&quot;top&quot;,&quot;left&quot;],function(a,b){n.cssHooks[b]=Ua(l.pixelPosition,function(a,c){return c?(c=Sa(a,b),Oa.test(c)?n(a).position()[b]+&quot;px&quot;:c):void 0})}),n.each({Height:&quot;height&quot;,Width:&quot;width&quot;},function(a,b){n.each({
padding:&quot;inner&quot;+a,content:b,&quot;&quot;:&quot;outer&quot;+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&amp;&amp;(c||&quot;boolean&quot;!=typeof d),g=c||(d===!0||e===!0?&quot;margin&quot;:&quot;border&quot;);return Y(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement[&quot;client&quot;+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[&quot;scroll&quot;+a],e[&quot;scroll&quot;+a],b.body[&quot;offset&quot;+a],e[&quot;offset&quot;+a],e[&quot;client&quot;+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,&quot;**&quot;):this.off(b,a||&quot;**&quot;,c)}}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,&quot;function&quot;==typeof define&amp;&amp;define.amd&amp;&amp;define(&quot;jquery&quot;,[],function(){return n});var nc=a.jQuery,oc=a.$;return n.noConflict=function(b){return a.$===n&amp;&amp;(a.$=oc),b&amp;&amp;a.jQuery===n&amp;&amp;(a.jQuery=nc),n},b||(a.jQuery=a.$=n),n});
&lt;/script&gt;
&lt;style type=&quot;text/css&quot;&gt;.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane &gt; svg,.leaflet-pane &gt; canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer {position: absolute;left: 0;top: 0;}.leaflet-container {overflow: hidden;}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow {-webkit-user-select: none;-moz-user-select: none;user-select: none;-webkit-user-drag: none;}.leaflet-safari .leaflet-tile {image-rendering: -webkit-optimize-contrast;}.leaflet-safari .leaflet-tile-container {width: 1600px;height: 1600px;-webkit-transform-origin: 0 0;}.leaflet-marker-icon,.leaflet-marker-shadow {display: block;}.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer {max-width: none !important;max-height: none !important;}.leaflet-container.leaflet-touch-zoom {-ms-touch-action: pan-x pan-y;touch-action: pan-x pan-y;}.leaflet-container.leaflet-touch-drag {-ms-touch-action: pinch-zoom;touch-action: none;touch-action: pinch-zoom;}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom {-ms-touch-action: none;touch-action: none;}.leaflet-container {-webkit-tap-highlight-color: transparent;}.leaflet-container a {-webkit-tap-highlight-color: rgba(51, 181, 229, 0.4);}.leaflet-tile {filter: inherit;visibility: hidden;}.leaflet-tile-loaded {visibility: inherit;}.leaflet-zoom-box {width: 0;height: 0;-moz-box-sizing: border-box;box-sizing: border-box;z-index: 800;}.leaflet-overlay-pane svg {-moz-user-select: none;}.leaflet-pane { z-index: 400; }.leaflet-tile-pane { z-index: 200; }.leaflet-overlay-pane { z-index: 400; }.leaflet-shadow-pane { z-index: 500; }.leaflet-marker-pane { z-index: 600; }.leaflet-tooltip-pane { z-index: 650; }.leaflet-popup-pane { z-index: 700; }.leaflet-map-pane canvas { z-index: 100; }.leaflet-map-pane svg { z-index: 200; }.leaflet-vml-shape {width: 1px;height: 1px;}.lvml {behavior: url(#default#VML);display: inline-block;position: absolute;}.leaflet-control {position: relative;z-index: 800;pointer-events: visiblePainted; pointer-events: auto;}.leaflet-top,.leaflet-bottom {position: absolute;z-index: 1000;pointer-events: none;}.leaflet-top {top: 0;}.leaflet-right {right: 0;}.leaflet-bottom {bottom: 0;}.leaflet-left {left: 0;}.leaflet-control {float: left;clear: both;}.leaflet-right .leaflet-control {float: right;}.leaflet-top .leaflet-control {margin-top: 10px;}.leaflet-bottom .leaflet-control {margin-bottom: 10px;}.leaflet-left .leaflet-control {margin-left: 10px;}.leaflet-right .leaflet-control {margin-right: 10px;}.leaflet-fade-anim .leaflet-tile {will-change: opacity;}.leaflet-fade-anim .leaflet-popup {opacity: 0;-webkit-transition: opacity 0.2s linear;-moz-transition: opacity 0.2s linear;-o-transition: opacity 0.2s linear;transition: opacity 0.2s linear;}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {opacity: 1;}.leaflet-zoom-animated {-webkit-transform-origin: 0 0;-ms-transform-origin: 0 0;transform-origin: 0 0;}.leaflet-zoom-anim .leaflet-zoom-animated {will-change: transform;}.leaflet-zoom-anim .leaflet-zoom-animated {-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);-moz-transition: -moz-transform 0.25s cubic-bezier(0,0,0.25,1);-o-transition: -o-transform 0.25s cubic-bezier(0,0,0.25,1);transition: transform 0.25s cubic-bezier(0,0,0.25,1);}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile {-webkit-transition: none;-moz-transition: none;-o-transition: none;transition: none;}.leaflet-zoom-anim .leaflet-zoom-hide {visibility: hidden;}.leaflet-interactive {cursor: pointer;}.leaflet-grab {cursor: -webkit-grab;cursor: -moz-grab;}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive {cursor: crosshair;}.leaflet-popup-pane,.leaflet-control {cursor: auto;}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable {cursor: move;cursor: -webkit-grabbing;cursor: -moz-grabbing;}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane &gt; svg path,.leaflet-tile-container {pointer-events: none;}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane &gt; svg path.leaflet-interactive {pointer-events: visiblePainted; pointer-events: auto;}.leaflet-container {background: #ddd;outline: 0;}.leaflet-container a {color: #0078A8;}.leaflet-container a.leaflet-active {outline: 2px solid orange;}.leaflet-zoom-box {border: 2px dotted #38f;background: rgba(255,255,255,0.5);}.leaflet-container {font: 12px/1.5 &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif;}.leaflet-bar {box-shadow: 0 1px 5px rgba(0,0,0,0.65);border-radius: 4px;}.leaflet-bar a,.leaflet-bar a:hover {background-color: #fff;border-bottom: 1px solid #ccc;width: 26px;height: 26px;line-height: 26px;display: block;text-align: center;text-decoration: none;color: black;}.leaflet-bar a,.leaflet-control-layers-toggle {background-position: 50% 50%;background-repeat: no-repeat;display: block;}.leaflet-bar a:hover {background-color: #f4f4f4;}.leaflet-bar a:first-child {border-top-left-radius: 4px;border-top-right-radius: 4px;}.leaflet-bar a:last-child {border-bottom-left-radius: 4px;border-bottom-right-radius: 4px;border-bottom: none;}.leaflet-bar a.leaflet-disabled {cursor: default;background-color: #f4f4f4;color: #bbb;}.leaflet-touch .leaflet-bar a {width: 30px;height: 30px;line-height: 30px;}.leaflet-touch .leaflet-bar a:first-child {border-top-left-radius: 2px;border-top-right-radius: 2px;}.leaflet-touch .leaflet-bar a:last-child {border-bottom-left-radius: 2px;border-bottom-right-radius: 2px;}.leaflet-control-zoom-in,.leaflet-control-zoom-out {font: bold 18px 'Lucida Console', Monaco, monospace;text-indent: 1px;}.leaflet-touch .leaflet-control-zoom-in, .leaflet-touch .leaflet-control-zoom-out {font-size: 22px;}.leaflet-control-layers {box-shadow: 0 1px 5px rgba(0,0,0,0.4);background: #fff;border-radius: 5px;}.leaflet-control-layers-toggle {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width: 36px;height: 36px;}.leaflet-retina .leaflet-control-layers-toggle {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size: 26px 26px;}.leaflet-touch .leaflet-control-layers-toggle {width: 44px;height: 44px;}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle {display: none;}.leaflet-control-layers-expanded .leaflet-control-layers-list {display: block;position: relative;}.leaflet-control-layers-expanded {padding: 6px 10px 6px 6px;color: #333;background: #fff;}.leaflet-control-layers-scrollbar {overflow-y: scroll;overflow-x: hidden;padding-right: 5px;}.leaflet-control-layers-selector {margin-top: 2px;position: relative;top: 1px;}.leaflet-control-layers label {display: block;}.leaflet-control-layers-separator {height: 0;border-top: 1px solid #ddd;margin: 5px -10px 5px -6px;}.leaflet-default-icon-path {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=);}.leaflet-container .leaflet-control-attribution {background: #fff;background: rgba(255, 255, 255, 0.7);margin: 0;}.leaflet-control-attribution,.leaflet-control-scale-line {padding: 0 5px;color: #333;}.leaflet-control-attribution a {text-decoration: none;}.leaflet-control-attribution a:hover {text-decoration: underline;}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale {font-size: 11px;}.leaflet-left .leaflet-control-scale {margin-left: 5px;}.leaflet-bottom .leaflet-control-scale {margin-bottom: 5px;}.leaflet-control-scale-line {border: 2px solid #777;border-top: none;line-height: 1.1;padding: 2px 5px 1px;font-size: 11px;white-space: nowrap;overflow: hidden;-moz-box-sizing: border-box;box-sizing: border-box;background: #fff;background: rgba(255, 255, 255, 0.5);}.leaflet-control-scale-line:not(:first-child) {border-top: 2px solid #777;border-bottom: none;margin-top: -2px;}.leaflet-control-scale-line:not(:first-child):not(:last-child) {border-bottom: 2px solid #777;}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar {box-shadow: none;}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar {border: 2px solid rgba(0,0,0,0.2);background-clip: padding-box;}.leaflet-popup {position: absolute;text-align: center;margin-bottom: 20px;}.leaflet-popup-content-wrapper {padding: 1px;text-align: left;border-radius: 12px;}.leaflet-popup-content {margin: 13px 19px;line-height: 1.4;}.leaflet-popup-content p {margin: 18px 0;}.leaflet-popup-tip-container {width: 40px;height: 20px;position: absolute;left: 50%;margin-left: -20px;overflow: hidden;pointer-events: none;}.leaflet-popup-tip {width: 17px;height: 17px;padding: 1px;margin: -10px auto 0;-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg);transform: rotate(45deg);}.leaflet-popup-content-wrapper,.leaflet-popup-tip {background: white;color: #333;box-shadow: 0 3px 14px rgba(0,0,0,0.4);}.leaflet-container a.leaflet-popup-close-button {position: absolute;top: 0;right: 0;padding: 4px 4px 0 0;border: none;text-align: center;width: 18px;height: 14px;font: 16px/14px Tahoma, Verdana, sans-serif;color: #c3c3c3;text-decoration: none;font-weight: bold;background: transparent;}.leaflet-container a.leaflet-popup-close-button:hover {color: #999;}.leaflet-popup-scrolled {overflow: auto;border-bottom: 1px solid #ddd;border-top: 1px solid #ddd;}.leaflet-oldie .leaflet-popup-content-wrapper {zoom: 1;}.leaflet-oldie .leaflet-popup-tip {width: 24px;margin: 0 auto;-ms-filter: &quot;progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)&quot;;filter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);}.leaflet-oldie .leaflet-popup-tip-container {margin-top: -1px;}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip {border: 1px solid #999;}.leaflet-div-icon {background: #fff;border: 1px solid #666;}.leaflet-tooltip {position: absolute;padding: 6px;background-color: #fff;border: 1px solid #fff;border-radius: 3px;color: #222;white-space: nowrap;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;pointer-events: none;box-shadow: 0 1px 3px rgba(0,0,0,0.4);}.leaflet-tooltip.leaflet-clickable {cursor: pointer;pointer-events: auto;}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before {position: absolute;pointer-events: none;border: 6px solid transparent;background: transparent;content: &quot;&quot;;}.leaflet-tooltip-bottom {margin-top: 6px;}.leaflet-tooltip-top {margin-top: -6px;}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before {left: 50%;margin-left: -6px;}.leaflet-tooltip-top:before {bottom: 0;margin-bottom: -12px;border-top-color: #fff;}.leaflet-tooltip-bottom:before {top: 0;margin-top: -12px;margin-left: -6px;border-bottom-color: #fff;}.leaflet-tooltip-left {margin-left: -6px;}.leaflet-tooltip-right {margin-left: 6px;}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before {top: 50%;margin-top: -6px;}.leaflet-tooltip-left:before {right: 0;margin-right: -12px;border-left-color: #fff;}.leaflet-tooltip-right:before {left: 0;margin-left: -12px;border-right-color: #fff;}&lt;/style&gt;
&lt;script&gt;/* @preserve
 * Leaflet 1.3.1+Detached: ba6f97fff8647e724e4dfe66d2ed7da11f908989.ba6f97f, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(t,i){&quot;object&quot;==typeof exports&amp;&amp;&quot;undefined&quot;!=typeof module?i(exports):&quot;function&quot;==typeof define&amp;&amp;define.amd?define([&quot;exports&quot;],i):i(t.L={})}(this,function(t){&quot;use strict&quot;;function i(t){var i,e,n,o;for(e=1,n=arguments.length;e&lt;n;e++){o=arguments[e];for(i in o)t[i]=o[i]}return t}function e(t,i){var e=Array.prototype.slice;if(t.bind)return t.bind.apply(t,e.call(arguments,1));var n=e.call(arguments,2);return function(){return t.apply(i,n.length?n.concat(e.call(arguments)):arguments)}}function n(t){return t._leaflet_id=t._leaflet_id||++ti,t._leaflet_id}function o(t,i,e){var n,o,s,r;return r=function(){n=!1,o&amp;&amp;(s.apply(e,o),o=!1)},s=function(){n?o=arguments:(t.apply(e,arguments),setTimeout(r,i),n=!0)}}function s(t,i,e){var n=i[1],o=i[0],s=n-o;return t===n&amp;&amp;e?t:((t-o)%s+s)%s+o}function r(){return!1}function a(t,i){var e=Math.pow(10,void 0===i?6:i);return Math.round(t*e)/e}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,&quot;&quot;)}function u(t){return h(t).split(/\s+/)}function l(t,i){t.hasOwnProperty(&quot;options&quot;)||(t.options=t.options?Qt(t.options):{});for(var e in i)t.options[e]=i[e];return t.options}function c(t,i,e){var n=[];for(var o in t)n.push(encodeURIComponent(e?o.toUpperCase():o)+&quot;=&quot;+encodeURIComponent(t[o]));return(i&amp;&amp;-1!==i.indexOf(&quot;?&quot;)?&quot;&amp;&quot;:&quot;?&quot;)+n.join(&quot;&amp;&quot;)}function _(t,i){return t.replace(ii,function(t,e){var n=i[e];if(void 0===n)throw new Error(&quot;No value provided for variable &quot;+t);return&quot;function&quot;==typeof n&amp;&amp;(n=n(i)),n})}function d(t,i){for(var e=0;e&lt;t.length;e++)if(t[e]===i)return e;return-1}function p(t){return window[&quot;webkit&quot;+t]||window[&quot;moz&quot;+t]||window[&quot;ms&quot;+t]}function m(t){var i=+new Date,e=Math.max(0,16-(i-oi));return oi=i+e,window.setTimeout(t,e)}function f(t,i,n){if(!n||si!==m)return si.call(window,e(t,i));t.call(i)}function g(t){t&amp;&amp;ri.call(window,t)}function v(){}function y(t){if(&quot;undefined&quot;!=typeof L&amp;&amp;L&amp;&amp;L.Mixin){t=ei(t)?t:[t];for(var i=0;i&lt;t.length;i++)t[i]===L.Mixin.Events&amp;&amp;console.warn(&quot;Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.&quot;,(new Error).stack)}}function x(t,i,e){this.x=e?Math.round(t):t,this.y=e?Math.round(i):i}function w(t,i,e){return t instanceof x?t:ei(t)?new x(t[0],t[1]):void 0===t||null===t?t:&quot;object&quot;==typeof t&amp;&amp;&quot;x&quot;in t&amp;&amp;&quot;y&quot;in t?new x(t.x,t.y):new x(t,i,e)}function P(t,i){if(t)for(var e=i?[t,i]:t,n=0,o=e.length;n&lt;o;n++)this.extend(e[n])}function b(t,i){return!t||t instanceof P?t:new P(t,i)}function T(t,i){if(t)for(var e=i?[t,i]:t,n=0,o=e.length;n&lt;o;n++)this.extend(e[n])}function z(t,i){return t instanceof T?t:new T(t,i)}function M(t,i,e){if(isNaN(t)||isNaN(i))throw new Error(&quot;Invalid LatLng object: (&quot;+t+&quot;, &quot;+i+&quot;)&quot;);this.lat=+t,this.lng=+i,void 0!==e&amp;&amp;(this.alt=+e)}function C(t,i,e){return t instanceof M?t:ei(t)&amp;&amp;&quot;object&quot;!=typeof t[0]?3===t.length?new M(t[0],t[1],t[2]):2===t.length?new M(t[0],t[1]):null:void 0===t||null===t?t:&quot;object&quot;==typeof t&amp;&amp;&quot;lat&quot;in t?new M(t.lat,&quot;lng&quot;in t?t.lng:t.lon,t.alt):void 0===i?null:new M(t,i,e)}function Z(t,i,e,n){if(ei(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=i,this._c=e,this._d=n}function S(t,i,e,n){return new Z(t,i,e,n)}function E(t){return document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;,t)}function k(t,i){var e,n,o,s,r,a,h=&quot;&quot;;for(e=0,o=t.length;e&lt;o;e++){for(n=0,s=(r=t[e]).length;n&lt;s;n++)a=r[n],h+=(n?&quot;L&quot;:&quot;M&quot;)+a.x+&quot; &quot;+a.y;h+=i?Xi?&quot;z&quot;:&quot;x&quot;:&quot;&quot;}return h||&quot;M0 0&quot;}function A(t){return navigator.userAgent.toLowerCase().indexOf(t)&gt;=0}function I(t,i,e,n){return&quot;touchstart&quot;===i?O(t,e,n):&quot;touchmove&quot;===i?W(t,e,n):&quot;touchend&quot;===i&amp;&amp;H(t,e,n),this}function B(t,i,e){var n=t[&quot;_leaflet_&quot;+i+e];return&quot;touchstart&quot;===i?t.removeEventListener(Qi,n,!1):&quot;touchmove&quot;===i?t.removeEventListener(te,n,!1):&quot;touchend&quot;===i&amp;&amp;(t.removeEventListener(ie,n,!1),t.removeEventListener(ee,n,!1)),this}function O(t,i,n){var o=e(function(t){if(&quot;mouse&quot;!==t.pointerType&amp;&amp;t.MSPOINTER_TYPE_MOUSE&amp;&amp;t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(ne.indexOf(t.target.tagName)&lt;0))return;$(t)}j(t,i)});t[&quot;_leaflet_touchstart&quot;+n]=o,t.addEventListener(Qi,o,!1),se||(document.documentElement.addEventListener(Qi,R,!0),document.documentElement.addEventListener(te,D,!0),document.documentElement.addEventListener(ie,N,!0),document.documentElement.addEventListener(ee,N,!0),se=!0)}function R(t){oe[t.pointerId]=t,re++}function D(t){oe[t.pointerId]&amp;&amp;(oe[t.pointerId]=t)}function N(t){delete oe[t.pointerId],re--}function j(t,i){t.touches=[];for(var e in oe)t.touches.push(oe[e]);t.changedTouches=[t],i(t)}function W(t,i,e){var n=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&amp;&amp;&quot;mouse&quot;!==t.pointerType||0!==t.buttons)&amp;&amp;j(t,i)};t[&quot;_leaflet_touchmove&quot;+e]=n,t.addEventListener(te,n,!1)}function H(t,i,e){var n=function(t){j(t,i)};t[&quot;_leaflet_touchend&quot;+e]=n,t.addEventListener(ie,n,!1),t.addEventListener(ee,n,!1)}function F(t,i,e){function n(t){var i;if(Ui){if(!Pi||&quot;mouse&quot;===t.pointerType)return;i=re}else i=t.touches.length;if(!(i&gt;1)){var e=Date.now(),n=e-(s||e);r=t.touches?t.touches[0]:t,a=n&gt;0&amp;&amp;n&lt;=h,s=e}}function o(t){if(a&amp;&amp;!r.cancelBubble){if(Ui){if(!Pi||&quot;mouse&quot;===t.pointerType)return;var e,n,o={};for(n in r)e=r[n],o[n]=e&amp;&amp;e.bind?e.bind(r):e;r=o}r.type=&quot;dblclick&quot;,i(r),s=null}}var s,r,a=!1,h=250;return t[ue+ae+e]=n,t[ue+he+e]=o,t[ue+&quot;dblclick&quot;+e]=i,t.addEventListener(ae,n,!1),t.addEventListener(he,o,!1),t.addEventListener(&quot;dblclick&quot;,i,!1),this}function U(t,i){var e=t[ue+ae+i],n=t[ue+he+i],o=t[ue+&quot;dblclick&quot;+i];return t.removeEventListener(ae,e,!1),t.removeEventListener(he,n,!1),Pi||t.removeEventListener(&quot;dblclick&quot;,o,!1),this}function V(t,i,e,n){if(&quot;object&quot;==typeof i)for(var o in i)G(t,o,i[o],e);else for(var s=0,r=(i=u(i)).length;s&lt;r;s++)G(t,i[s],e,n);return this}function q(t,i,e,n){if(&quot;object&quot;==typeof i)for(var o in i)K(t,o,i[o],e);else if(i)for(var s=0,r=(i=u(i)).length;s&lt;r;s++)K(t,i[s],e,n);else{for(var a in t[le])K(t,a,t[le][a]);delete t[le]}return this}function G(t,i,e,o){var s=i+n(e)+(o?&quot;_&quot;+n(o):&quot;&quot;);if(t[le]&amp;&amp;t[le][s])return this;var r=function(i){return e.call(o||t,i||window.event)},a=r;Ui&amp;&amp;0===i.indexOf(&quot;touch&quot;)?I(t,i,r,s):!Vi||&quot;dblclick&quot;!==i||!F||Ui&amp;&amp;Si?&quot;addEventListener&quot;in t?&quot;mousewheel&quot;===i?t.addEventListener(&quot;onwheel&quot;in t?&quot;wheel&quot;:&quot;mousewheel&quot;,r,!1):&quot;mouseenter&quot;===i||&quot;mouseleave&quot;===i?(r=function(i){i=i||window.event,ot(t,i)&amp;&amp;a(i)},t.addEventListener(&quot;mouseenter&quot;===i?&quot;mouseover&quot;:&quot;mouseout&quot;,r,!1)):(&quot;click&quot;===i&amp;&amp;Ti&amp;&amp;(r=function(t){st(t,a)}),t.addEventListener(i,r,!1)):&quot;attachEvent&quot;in t&amp;&amp;t.attachEvent(&quot;on&quot;+i,r):F(t,r,s),t[le]=t[le]||{},t[le][s]=r}function K(t,i,e,o){var s=i+n(e)+(o?&quot;_&quot;+n(o):&quot;&quot;),r=t[le]&amp;&amp;t[le][s];if(!r)return this;Ui&amp;&amp;0===i.indexOf(&quot;touch&quot;)?B(t,i,s):!Vi||&quot;dblclick&quot;!==i||!U||Ui&amp;&amp;Si?&quot;removeEventListener&quot;in t?&quot;mousewheel&quot;===i?t.removeEventListener(&quot;onwheel&quot;in t?&quot;wheel&quot;:&quot;mousewheel&quot;,r,!1):t.removeEventListener(&quot;mouseenter&quot;===i?&quot;mouseover&quot;:&quot;mouseleave&quot;===i?&quot;mouseout&quot;:i,r,!1):&quot;detachEvent&quot;in t&amp;&amp;t.detachEvent(&quot;on&quot;+i,r):U(t,s),t[le][s]=null}function Y(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,nt(t),this}function X(t){return G(t,&quot;mousewheel&quot;,Y),this}function J(t){return V(t,&quot;mousedown touchstart dblclick&quot;,Y),G(t,&quot;click&quot;,et),this}function $(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Q(t){return $(t),Y(t),this}function tt(t,i){if(!i)return new x(t.clientX,t.clientY);var e=i.getBoundingClientRect(),n=e.width/i.offsetWidth||1,o=e.height/i.offsetHeight||1;return new x(t.clientX/n-e.left-i.clientLeft,t.clientY/o-e.top-i.clientTop)}function it(t){return Pi?t.wheelDeltaY/2:t.deltaY&amp;&amp;0===t.deltaMode?-t.deltaY/ce:t.deltaY&amp;&amp;1===t.deltaMode?20*-t.deltaY:t.deltaY&amp;&amp;2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&amp;&amp;Math.abs(t.detail)&lt;32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function et(t){_e[t.type]=!0}function nt(t){var i=_e[t.type];return _e[t.type]=!1,i}function ot(t,i){var e=i.relatedTarget;if(!e)return!0;try{for(;e&amp;&amp;e!==t;)e=e.parentNode}catch(t){return!1}return e!==t}function st(t,i){var e=t.timeStamp||t.originalEvent&amp;&amp;t.originalEvent.timeStamp,n=pi&amp;&amp;e-pi;n&amp;&amp;n&gt;100&amp;&amp;n&lt;500||t.target._simulatedClick&amp;&amp;!t._simulated?Q(t):(pi=e,i(t))}function rt(t){return&quot;string&quot;==typeof t?document.getElementById(t):t}function at(t,i){var e=t.style[i]||t.currentStyle&amp;&amp;t.currentStyle[i];if((!e||&quot;auto&quot;===e)&amp;&amp;document.defaultView){var n=document.defaultView.getComputedStyle(t,null);e=n?n[i]:null}return&quot;auto&quot;===e?null:e}function ht(t,i,e){var n=document.createElement(t);return n.className=i||&quot;&quot;,e&amp;&amp;e.appendChild(n),n}function ut(t){var i=t.parentNode;i&amp;&amp;i.removeChild(t)}function lt(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ct(t){var i=t.parentNode;i.lastChild!==t&amp;&amp;i.appendChild(t)}function _t(t){var i=t.parentNode;i.firstChild!==t&amp;&amp;i.insertBefore(t,i.firstChild)}function dt(t,i){if(void 0!==t.classList)return t.classList.contains(i);var e=gt(t);return e.length&gt;0&amp;&amp;new RegExp(&quot;(^|\\s)&quot;+i+&quot;(\\s|$)&quot;).test(e)}function pt(t,i){if(void 0!==t.classList)for(var e=u(i),n=0,o=e.length;n&lt;o;n++)t.classList.add(e[n]);else if(!dt(t,i)){var s=gt(t);ft(t,(s?s+&quot; &quot;:&quot;&quot;)+i)}}function mt(t,i){void 0!==t.classList?t.classList.remove(i):ft(t,h((&quot; &quot;+gt(t)+&quot; &quot;).replace(&quot; &quot;+i+&quot; &quot;,&quot; &quot;)))}function ft(t,i){void 0===t.className.baseVal?t.className=i:t.className.baseVal=i}function gt(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function vt(t,i){&quot;opacity&quot;in t.style?t.style.opacity=i:&quot;filter&quot;in t.style&amp;&amp;yt(t,i)}function yt(t,i){var e=!1,n=&quot;DXImageTransform.Microsoft.Alpha&quot;;try{e=t.filters.item(n)}catch(t){if(1===i)return}i=Math.round(100*i),e?(e.Enabled=100!==i,e.Opacity=i):t.style.filter+=&quot; progid:&quot;+n+&quot;(opacity=&quot;+i+&quot;)&quot;}function xt(t){for(var i=document.documentElement.style,e=0;e&lt;t.length;e++)if(t[e]in i)return t[e];return!1}function wt(t,i,e){var n=i||new x(0,0);t.style[pe]=(Oi?&quot;translate(&quot;+n.x+&quot;px,&quot;+n.y+&quot;px)&quot;:&quot;translate3d(&quot;+n.x+&quot;px,&quot;+n.y+&quot;px,0)&quot;)+(e?&quot; scale(&quot;+e+&quot;)&quot;:&quot;&quot;)}function Lt(t,i){t._leaflet_pos=i,Ni?wt(t,i):(t.style.left=i.x+&quot;px&quot;,t.style.top=i.y+&quot;px&quot;)}function Pt(t){return t._leaflet_pos||new x(0,0)}function bt(){V(window,&quot;dragstart&quot;,$)}function Tt(){q(window,&quot;dragstart&quot;,$)}function zt(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&amp;&amp;(Mt(),ve=t,ye=t.style.outline,t.style.outline=&quot;none&quot;,V(window,&quot;keydown&quot;,Mt))}function Mt(){ve&amp;&amp;(ve.style.outline=ye,ve=void 0,ye=void 0,q(window,&quot;keydown&quot;,Mt))}function Ct(t,i){if(!i||!t.length)return t.slice();var e=i*i;return t=kt(t,e),t=St(t,e)}function Zt(t,i,e){return Math.sqrt(Rt(t,i,e,!0))}function St(t,i){var e=t.length,n=new(typeof Uint8Array!=void 0+&quot;&quot;?Uint8Array:Array)(e);n[0]=n[e-1]=1,Et(t,n,i,0,e-1);var o,s=[];for(o=0;o&lt;e;o++)n[o]&amp;&amp;s.push(t[o]);return s}function Et(t,i,e,n,o){var s,r,a,h=0;for(r=n+1;r&lt;=o-1;r++)(a=Rt(t[r],t[n],t[o],!0))&gt;h&amp;&amp;(s=r,h=a);h&gt;e&amp;&amp;(i[s]=1,Et(t,i,e,n,s),Et(t,i,e,s,o))}function kt(t,i){for(var e=[t[0]],n=1,o=0,s=t.length;n&lt;s;n++)Ot(t[n],t[o])&gt;i&amp;&amp;(e.push(t[n]),o=n);return o&lt;s-1&amp;&amp;e.push(t[s-1]),e}function At(t,i,e,n,o){var s,r,a,h=n?Se:Bt(t,e),u=Bt(i,e);for(Se=u;;){if(!(h|u))return[t,i];if(h&amp;u)return!1;a=Bt(r=It(t,i,s=h||u,e,o),e),s===h?(t=r,h=a):(i=r,u=a)}}function It(t,i,e,n,o){var s,r,a=i.x-t.x,h=i.y-t.y,u=n.min,l=n.max;return 8&amp;e?(s=t.x+a*(l.y-t.y)/h,r=l.y):4&amp;e?(s=t.x+a*(u.y-t.y)/h,r=u.y):2&amp;e?(s=l.x,r=t.y+h*(l.x-t.x)/a):1&amp;e&amp;&amp;(s=u.x,r=t.y+h*(u.x-t.x)/a),new x(s,r,o)}function Bt(t,i){var e=0;return t.x&lt;i.min.x?e|=1:t.x&gt;i.max.x&amp;&amp;(e|=2),t.y&lt;i.min.y?e|=4:t.y&gt;i.max.y&amp;&amp;(e|=8),e}function Ot(t,i){var e=i.x-t.x,n=i.y-t.y;return e*e+n*n}function Rt(t,i,e,n){var o,s=i.x,r=i.y,a=e.x-s,h=e.y-r,u=a*a+h*h;return u&gt;0&amp;&amp;((o=((t.x-s)*a+(t.y-r)*h)/u)&gt;1?(s=e.x,r=e.y):o&gt;0&amp;&amp;(s+=a*o,r+=h*o)),a=t.x-s,h=t.y-r,n?a*a+h*h:new x(s,r)}function Dt(t){return!ei(t[0])||&quot;object&quot;!=typeof t[0][0]&amp;&amp;void 0!==t[0][0]}function Nt(t){return console.warn(&quot;Deprecated use of _flat, please use L.LineUtil.isFlat instead.&quot;),Dt(t)}function jt(t,i,e){var n,o,s,r,a,h,u,l,c,_=[1,4,2,8];for(o=0,u=t.length;o&lt;u;o++)t[o]._code=Bt(t[o],i);for(r=0;r&lt;4;r++){for(l=_[r],n=[],o=0,s=(u=t.length)-1;o&lt;u;s=o++)a=t[o],h=t[s],a._code&amp;l?h._code&amp;l||((c=It(h,a,l,i,e))._code=Bt(c,i),n.push(c)):(h._code&amp;l&amp;&amp;((c=It(h,a,l,i,e))._code=Bt(c,i),n.push(c)),n.push(a));t=n}return t}function Wt(t,i){var e,n,o,s,r=&quot;Feature&quot;===t.type?t.geometry:t,a=r?r.coordinates:null,h=[],u=i&amp;&amp;i.pointToLayer,l=i&amp;&amp;i.coordsToLatLng||Ht;if(!a&amp;&amp;!r)return null;switch(r.type){case&quot;Point&quot;:return e=l(a),u?u(t,e):new Xe(e);case&quot;MultiPoint&quot;:for(o=0,s=a.length;o&lt;s;o++)e=l(a[o]),h.push(u?u(t,e):new Xe(e));return new qe(h);case&quot;LineString&quot;:case&quot;MultiLineString&quot;:return n=Ft(a,&quot;LineString&quot;===r.type?0:1,l),new tn(n,i);case&quot;Polygon&quot;:case&quot;MultiPolygon&quot;:return n=Ft(a,&quot;Polygon&quot;===r.type?1:2,l),new en(n,i);case&quot;GeometryCollection&quot;:for(o=0,s=r.geometries.length;o&lt;s;o++){var c=Wt({geometry:r.geometries[o],type:&quot;Feature&quot;,properties:t.properties},i);c&amp;&amp;h.push(c)}return new qe(h);default:throw new Error(&quot;Invalid GeoJSON object.&quot;)}}function Ht(t){return new M(t[1],t[0],t[2])}function Ft(t,i,e){for(var n,o=[],s=0,r=t.length;s&lt;r;s++)n=i?Ft(t[s],i-1,e):(e||Ht)(t[s]),o.push(n);return o}function Ut(t,i){return i=&quot;number&quot;==typeof i?i:6,void 0!==t.alt?[a(t.lng,i),a(t.lat,i),a(t.alt,i)]:[a(t.lng,i),a(t.lat,i)]}function Vt(t,i,e,n){for(var o=[],s=0,r=t.length;s&lt;r;s++)o.push(i?Vt(t[s],i-1,e,n):Ut(t[s],n));return!i&amp;&amp;e&amp;&amp;o.push(o[0]),o}function qt(t,e){return t.feature?i({},t.feature,{geometry:e}):Gt(e)}function Gt(t){return&quot;Feature&quot;===t.type||&quot;FeatureCollection&quot;===t.type?t:{type:&quot;Feature&quot;,properties:{},geometry:t}}function Kt(t,i){return new nn(t,i)}function Yt(t,i){return new dn(t,i)}function Xt(t){return Yi?new fn(t):null}function Jt(t){return Xi||Ji?new xn(t):null}var $t=Object.freeze;Object.freeze=function(t){return t};var Qt=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}(),ti=0,ii=/\{ *([\w_-]+) *\}/g,ei=Array.isArray||function(t){return&quot;[object Array]&quot;===Object.prototype.toString.call(t)},ni=&quot;data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=&quot;,oi=0,si=window.requestAnimationFrame||p(&quot;RequestAnimationFrame&quot;)||m,ri=window.cancelAnimationFrame||p(&quot;CancelAnimationFrame&quot;)||p(&quot;CancelRequestAnimationFrame&quot;)||function(t){window.clearTimeout(t)},ai=(Object.freeze||Object)({freeze:$t,extend:i,create:Qt,bind:e,lastId:ti,stamp:n,throttle:o,wrapNum:s,falseFn:r,formatNum:a,trim:h,splitWords:u,setOptions:l,getParamString:c,template:_,isArray:ei,indexOf:d,emptyImageUrl:ni,requestFn:si,cancelFn:ri,requestAnimFrame:f,cancelAnimFrame:g});v.extend=function(t){var e=function(){this.initialize&amp;&amp;this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,o=Qt(n);o.constructor=e,e.prototype=o;for(var s in this)this.hasOwnProperty(s)&amp;&amp;&quot;prototype&quot;!==s&amp;&amp;&quot;__super__&quot;!==s&amp;&amp;(e[s]=this[s]);return t.statics&amp;&amp;(i(e,t.statics),delete t.statics),t.includes&amp;&amp;(y(t.includes),i.apply(null,[o].concat(t.includes)),delete t.includes),o.options&amp;&amp;(t.options=i(Qt(o.options),t.options)),i(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&amp;&amp;n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,i=o._initHooks.length;t&lt;i;t++)o._initHooks[t].call(this)}},e},v.include=function(t){return i(this.prototype,t),this},v.mergeOptions=function(t){return i(this.prototype.options,t),this},v.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),e=&quot;function&quot;==typeof t?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(e),this};var hi={on:function(t,i,e){if(&quot;object&quot;==typeof t)for(var n in t)this._on(n,t[n],i);else for(var o=0,s=(t=u(t)).length;o&lt;s;o++)this._on(t[o],i,e);return this},off:function(t,i,e){if(t)if(&quot;object&quot;==typeof t)for(var n in t)this._off(n,t[n],i);else for(var o=0,s=(t=u(t)).length;o&lt;s;o++)this._off(t[o],i,e);else delete this._events;return this},_on:function(t,i,e){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),e===this&amp;&amp;(e=void 0);for(var o={fn:i,ctx:e},s=n,r=0,a=s.length;r&lt;a;r++)if(s[r].fn===i&amp;&amp;s[r].ctx===e)return;s.push(o)},_off:function(t,i,e){var n,o,s;if(this._events&amp;&amp;(n=this._events[t]))if(i){if(e===this&amp;&amp;(e=void 0),n)for(o=0,s=n.length;o&lt;s;o++){var a=n[o];if(a.ctx===e&amp;&amp;a.fn===i)return a.fn=r,this._firingCount&amp;&amp;(this._events[t]=n=n.slice()),void n.splice(o,1)}}else{for(o=0,s=n.length;o&lt;s;o++)n[o].fn=r;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var o=i({},e,{type:t,target:this,sourceTarget:e&amp;&amp;e.sourceTarget||this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var r=0,a=s.length;r&lt;a;r++){var h=s[r];h.fn.call(h.ctx||this,o)}this._firingCount--}}return n&amp;&amp;this._propagateEvent(o),this},listens:function(t,i){var e=this._events&amp;&amp;this._events[t];if(e&amp;&amp;e.length)return!0;if(i)for(var n in this._eventParents)if(this._eventParents[n].listens(t,i))return!0;return!1},once:function(t,i,n){if(&quot;object&quot;==typeof t){for(var o in t)this.once(o,t[o],i);return this}var s=e(function(){this.off(t,i,n).off(t,s,n)},this);return this.on(t,i,n).on(t,s,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[n(t)]=t,this},removeEventParent:function(t){return this._eventParents&amp;&amp;delete this._eventParents[n(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),!0)}};hi.addEventListener=hi.on,hi.removeEventListener=hi.clearAllEventListeners=hi.off,hi.addOneTimeEventListener=hi.once,hi.fireEvent=hi.fire,hi.hasEventListeners=hi.listens;var ui=v.extend(hi),li=Math.trunc||function(t){return t&gt;0?Math.floor(t):Math.ceil(t)};x.prototype={clone:function(){return new x(this.x,this.y)},add:function(t){return this.clone()._add(w(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(w(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new x(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new x(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=li(this.x),this.y=li(this.y),this},distanceTo:function(t){var i=(t=w(t)).x-this.x,e=t.y-this.y;return Math.sqrt(i*i+e*e)},equals:function(t){return(t=w(t)).x===this.x&amp;&amp;t.y===this.y},contains:function(t){return t=w(t),Math.abs(t.x)&lt;=Math.abs(this.x)&amp;&amp;Math.abs(t.y)&lt;=Math.abs(this.y)},toString:function(){return&quot;Point(&quot;+a(this.x)+&quot;, &quot;+a(this.y)+&quot;)&quot;}},P.prototype={extend:function(t){return t=w(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new x((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new x(this.min.x,this.max.y)},getTopRight:function(){return new x(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,e;return(t=&quot;number&quot;==typeof t[0]||t instanceof x?w(t):b(t))instanceof P?(i=t.min,e=t.max):i=e=t,i.x&gt;=this.min.x&amp;&amp;e.x&lt;=this.max.x&amp;&amp;i.y&gt;=this.min.y&amp;&amp;e.y&lt;=this.max.y},intersects:function(t){t=b(t);var i=this.min,e=this.max,n=t.min,o=t.max,s=o.x&gt;=i.x&amp;&amp;n.x&lt;=e.x,r=o.y&gt;=i.y&amp;&amp;n.y&lt;=e.y;return s&amp;&amp;r},overlaps:function(t){t=b(t);var i=this.min,e=this.max,n=t.min,o=t.max,s=o.x&gt;i.x&amp;&amp;n.x&lt;e.x,r=o.y&gt;i.y&amp;&amp;n.y&lt;e.y;return s&amp;&amp;r},isValid:function(){return!(!this.min||!this.max)}},T.prototype={extend:function(t){var i,e,n=this._southWest,o=this._northEast;if(t instanceof M)i=t,e=t;else{if(!(t instanceof T))return t?this.extend(C(t)||z(t)):this;if(i=t._southWest,e=t._northEast,!i||!e)return this}return n||o?(n.lat=Math.min(i.lat,n.lat),n.lng=Math.min(i.lng,n.lng),o.lat=Math.max(e.lat,o.lat),o.lng=Math.max(e.lng,o.lng)):(this._southWest=new M(i.lat,i.lng),this._northEast=new M(e.lat,e.lng)),this},pad:function(t){var i=this._southWest,e=this._northEast,n=Math.abs(i.lat-e.lat)*t,o=Math.abs(i.lng-e.lng)*t;return new T(new M(i.lat-n,i.lng-o),new M(e.lat+n,e.lng+o))},getCenter:function(){return new M((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new M(this.getNorth(),this.getWest())},getSouthEast:function(){return new M(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t=&quot;number&quot;==typeof t[0]||t instanceof M||&quot;lat&quot;in t?C(t):z(t);var i,e,n=this._southWest,o=this._northEast;return t instanceof T?(i=t.getSouthWest(),e=t.getNorthEast()):i=e=t,i.lat&gt;=n.lat&amp;&amp;e.lat&lt;=o.lat&amp;&amp;i.lng&gt;=n.lng&amp;&amp;e.lng&lt;=o.lng},intersects:function(t){t=z(t);var i=this._southWest,e=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat&gt;=i.lat&amp;&amp;n.lat&lt;=e.lat,r=o.lng&gt;=i.lng&amp;&amp;n.lng&lt;=e.lng;return s&amp;&amp;r},overlaps:function(t){t=z(t);var i=this._southWest,e=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat&gt;i.lat&amp;&amp;n.lat&lt;e.lat,r=o.lng&gt;i.lng&amp;&amp;n.lng&lt;e.lng;return s&amp;&amp;r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(&quot;,&quot;)},equals:function(t,i){return!!t&amp;&amp;(t=z(t),this._southWest.equals(t.getSouthWest(),i)&amp;&amp;this._northEast.equals(t.getNorthEast(),i))},isValid:function(){return!(!this._southWest||!this._northEast)}},M.prototype={equals:function(t,i){return!!t&amp;&amp;(t=C(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))&lt;=(void 0===i?1e-9:i))},toString:function(t){return&quot;LatLng(&quot;+a(this.lat,t)+&quot;, &quot;+a(this.lng,t)+&quot;)&quot;},distanceTo:function(t){return _i.distance(this,C(t))},wrap:function(){return _i.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,e=i/Math.cos(Math.PI/180*this.lat);return z([this.lat-i,this.lng-e],[this.lat+i,this.lng+e])},clone:function(){return new M(this.lat,this.lng,this.alt)}};var ci={latLngToPoint:function(t,i){var e=this.projection.project(t),n=this.scale(i);return this.transformation._transform(e,n)},pointToLatLng:function(t,i){var e=this.scale(i),n=this.transformation.untransform(t,e);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,e=this.scale(t);return new P(this.transformation.transform(i.min,e),this.transformation.transform(i.max,e))},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?s(t.lng,this.wrapLng,!0):t.lng;return new M(this.wrapLat?s(t.lat,this.wrapLat,!0):t.lat,i,t.alt)},wrapLatLngBounds:function(t){var i=t.getCenter(),e=this.wrapLatLng(i),n=i.lat-e.lat,o=i.lng-e.lng;if(0===n&amp;&amp;0===o)return t;var s=t.getSouthWest(),r=t.getNorthEast();return new T(new M(s.lat-n,s.lng-o),new M(r.lat-n,r.lng-o))}},_i=i({},ci,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var e=Math.PI/180,n=t.lat*e,o=i.lat*e,s=Math.sin((i.lat-t.lat)*e/2),r=Math.sin((i.lng-t.lng)*e/2),a=s*s+Math.cos(n)*Math.cos(o)*r*r,h=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*h}}),di={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,e=this.MAX_LATITUDE,n=Math.max(Math.min(e,t.lat),-e),o=Math.sin(n*i);return new x(this.R*t.lng*i,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var i=180/Math.PI;return new M((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=6378137*Math.PI;return new P([-t,-t],[t,t])}()};Z.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new x((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};var pi,mi,fi,gi,vi=i({},_i,{code:&quot;EPSG:3857&quot;,projection:di,transformation:function(){var t=.5/(Math.PI*di.R);return S(t,.5,-t,.5)}()}),yi=i({},vi,{code:&quot;EPSG:900913&quot;}),xi=document.documentElement.style,wi=&quot;ActiveXObject&quot;in window,Li=wi&amp;&amp;!document.addEventListener,Pi=&quot;msLaunchUri&quot;in navigator&amp;&amp;!(&quot;documentMode&quot;in document),bi=A(&quot;webkit&quot;),Ti=A(&quot;android&quot;),zi=A(&quot;android 2&quot;)||A(&quot;android 3&quot;),Mi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ci=Ti&amp;&amp;A(&quot;Google&quot;)&amp;&amp;Mi&lt;537&amp;&amp;!(&quot;AudioNode&quot;in window),Zi=!!window.opera,Si=A(&quot;chrome&quot;),Ei=A(&quot;gecko&quot;)&amp;&amp;!bi&amp;&amp;!Zi&amp;&amp;!wi,ki=!Si&amp;&amp;A(&quot;safari&quot;),Ai=A(&quot;phantom&quot;),Ii=&quot;OTransition&quot;in xi,Bi=0===navigator.platform.indexOf(&quot;Win&quot;),Oi=wi&amp;&amp;&quot;transition&quot;in xi,Ri=&quot;WebKitCSSMatrix&quot;in window&amp;&amp;&quot;m11&quot;in new window.WebKitCSSMatrix&amp;&amp;!zi,Di=&quot;MozPerspective&quot;in xi,Ni=!window.L_DISABLE_3D&amp;&amp;(Oi||Ri||Di)&amp;&amp;!Ii&amp;&amp;!Ai,ji=&quot;undefined&quot;!=typeof orientation||A(&quot;mobile&quot;),Wi=ji&amp;&amp;bi,Hi=ji&amp;&amp;Ri,Fi=!window.PointerEvent&amp;&amp;window.MSPointerEvent,Ui=!(!window.PointerEvent&amp;&amp;!Fi),Vi=!window.L_NO_TOUCH&amp;&amp;(Ui||&quot;ontouchstart&quot;in window||window.DocumentTouch&amp;&amp;document instanceof window.DocumentTouch),qi=ji&amp;&amp;Zi,Gi=ji&amp;&amp;Ei,Ki=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)&gt;1,Yi=!!document.createElement(&quot;canvas&quot;).getContext,Xi=!(!document.createElementNS||!E(&quot;svg&quot;).createSVGRect),Ji=!Xi&amp;&amp;function(){try{var t=document.createElement(&quot;div&quot;);t.innerHTML='&lt;v:shape adj=&quot;1&quot;/&gt;';var i=t.firstChild;return i.style.behavior=&quot;url(#default#VML)&quot;,i&amp;&amp;&quot;object&quot;==typeof i.adj}catch(t){return!1}}(),$i=(Object.freeze||Object)({ie:wi,ielt9:Li,edge:Pi,webkit:bi,android:Ti,android23:zi,androidStock:Ci,opera:Zi,chrome:Si,gecko:Ei,safari:ki,phantom:Ai,opera12:Ii,win:Bi,ie3d:Oi,webkit3d:Ri,gecko3d:Di,any3d:Ni,mobile:ji,mobileWebkit:Wi,mobileWebkit3d:Hi,msPointer:Fi,pointer:Ui,touch:Vi,mobileOpera:qi,mobileGecko:Gi,retina:Ki,canvas:Yi,svg:Xi,vml:Ji}),Qi=Fi?&quot;MSPointerDown&quot;:&quot;pointerdown&quot;,te=Fi?&quot;MSPointerMove&quot;:&quot;pointermove&quot;,ie=Fi?&quot;MSPointerUp&quot;:&quot;pointerup&quot;,ee=Fi?&quot;MSPointerCancel&quot;:&quot;pointercancel&quot;,ne=[&quot;INPUT&quot;,&quot;SELECT&quot;,&quot;OPTION&quot;],oe={},se=!1,re=0,ae=Fi?&quot;MSPointerDown&quot;:Ui?&quot;pointerdown&quot;:&quot;touchstart&quot;,he=Fi?&quot;MSPointerUp&quot;:Ui?&quot;pointerup&quot;:&quot;touchend&quot;,ue=&quot;_leaflet_&quot;,le=&quot;_leaflet_events&quot;,ce=Bi&amp;&amp;Si?2*window.devicePixelRatio:Ei?window.devicePixelRatio:1,_e={},de=(Object.freeze||Object)({on:V,off:q,stopPropagation:Y,disableScrollPropagation:X,disableClickPropagation:J,preventDefault:$,stop:Q,getMousePosition:tt,getWheelDelta:it,fakeStop:et,skipped:nt,isExternalTarget:ot,addListener:V,removeListener:q}),pe=xt([&quot;transform&quot;,&quot;WebkitTransform&quot;,&quot;OTransform&quot;,&quot;MozTransform&quot;,&quot;msTransform&quot;]),me=xt([&quot;webkitTransition&quot;,&quot;transition&quot;,&quot;OTransition&quot;,&quot;MozTransition&quot;,&quot;msTransition&quot;]),fe=&quot;webkitTransition&quot;===me||&quot;OTransition&quot;===me?me+&quot;End&quot;:&quot;transitionend&quot;;if(&quot;onselectstart&quot;in document)mi=function(){V(window,&quot;selectstart&quot;,$)},fi=function(){q(window,&quot;selectstart&quot;,$)};else{var ge=xt([&quot;userSelect&quot;,&quot;WebkitUserSelect&quot;,&quot;OUserSelect&quot;,&quot;MozUserSelect&quot;,&quot;msUserSelect&quot;]);mi=function(){if(ge){var t=document.documentElement.style;gi=t[ge],t[ge]=&quot;none&quot;}},fi=function(){ge&amp;&amp;(document.documentElement.style[ge]=gi,gi=void 0)}}var ve,ye,xe=(Object.freeze||Object)({TRANSFORM:pe,TRANSITION:me,TRANSITION_END:fe,get:rt,getStyle:at,create:ht,remove:ut,empty:lt,toFront:ct,toBack:_t,hasClass:dt,addClass:pt,removeClass:mt,setClass:ft,getClass:gt,setOpacity:vt,testProp:xt,setTransform:wt,setPosition:Lt,getPosition:Pt,disableTextSelection:mi,enableTextSelection:fi,disableImageDrag:bt,enableImageDrag:Tt,preventOutline:zt,restoreOutline:Mt}),we=ui.extend({run:function(t,i,e,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=e||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=Pt(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire(&quot;start&quot;),this._animate()},stop:function(){this._inProgress&amp;&amp;(this._step(!0),this._complete())},_animate:function(){this._animId=f(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,e=1e3*this._duration;i&lt;e?this._runFrame(this._easeOut(i/e),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var e=this._startPos.add(this._offset.multiplyBy(t));i&amp;&amp;e._round(),Lt(this._el,e),this.fire(&quot;step&quot;)},_complete:function(){g(this._animId),this._inProgress=!1,this.fire(&quot;end&quot;)},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Le=ui.extend({options:{crs:vi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=l(this,i),this._initContainer(t),this._initLayout(),this._onResize=e(this._onResize,this),this._initEvents(),i.maxBounds&amp;&amp;this.setMaxBounds(i.maxBounds),void 0!==i.zoom&amp;&amp;(this._zoom=this._limitZoom(i.zoom)),i.center&amp;&amp;void 0!==i.zoom&amp;&amp;this.setView(C(i.center),i.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=me&amp;&amp;Ni&amp;&amp;!qi&amp;&amp;this.options.zoomAnimation,this._zoomAnimated&amp;&amp;(this._createAnimProxy(),V(this._proxy,fe,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(C(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&amp;&amp;!n.reset&amp;&amp;!0!==n&amp;&amp;(void 0!==n.animate&amp;&amp;(n.zoom=i({animate:n.animate},n.zoom),n.pan=i({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&amp;&amp;this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(Ni?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(Ni?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,e){var n=this.getZoomScale(i),o=this.getSize().divideBy(2),s=(t instanceof x?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),r=this.containerPointToLatLng(o.add(s));return this.setView(r,i,{zoom:e})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():z(t);var e=w(i.paddingTopLeft||i.padding||[0,0]),n=w(i.paddingBottomRight||i.padding||[0,0]),o=this.getBoundsZoom(t,!1,e.add(n));if((o=&quot;number&quot;==typeof i.maxZoom?Math.min(i.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var s=n.subtract(e).divideBy(2),r=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(r.add(a).divideBy(2).add(s),o),zoom:o}},fitBounds:function(t,i){if(!(t=z(t)).isValid())throw new Error(&quot;Bounds are not valid.&quot;);var e=this._getBoundsCenterZoom(t,i);return this.setView(e.center,e.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=w(t).round(),i=i||{},!t.x&amp;&amp;!t.y)return this.fire(&quot;moveend&quot;);if(!0!==i.animate&amp;&amp;!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new we,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire(&quot;movestart&quot;),!1!==i.animate){pt(this._mapPane,&quot;leaflet-pan-anim&quot;);var e=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,e,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire(&quot;move&quot;).fire(&quot;moveend&quot;);return this},flyTo:function(t,i,e){function n(t){var i=(g*g-m*m+(t?-1:1)*x*x*v*v)/(2*(t?g:m)*x*v),e=Math.sqrt(i*i+1)-i;return e&lt;1e-9?-18:Math.log(e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function r(t){return o(t)/s(t)}function a(t){return m*(s(w)/s(w+y*t))}function h(t){return m*(s(w)*r(w+y*t)-o(w))/x}function u(t){return 1-Math.pow(1-t,1.5)}function l(){var e=(Date.now()-L)/b,n=u(e)*P;e&lt;=1?(this._flyToFrame=f(l,this),this._move(this.unproject(c.add(_.subtract(c).multiplyBy(h(n)/v)),p),this.getScaleZoom(m/a(n),p),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}if(!1===(e=e||{}).animate||!Ni)return this.setView(t,i,e);this._stop();var c=this.project(this.getCenter()),_=this.project(t),d=this.getSize(),p=this._zoom;t=C(t),i=void 0===i?p:i;var m=Math.max(d.x,d.y),g=m*this.getZoomScale(p,i),v=_.distanceTo(c)||1,y=1.42,x=y*y,w=n(0),L=Date.now(),P=(n(1)-w)/y,b=e.duration?1e3*e.duration:1e3*P*.8;return this._moveStart(!0,e.noMoveStart),l.call(this),this},flyToBounds:function(t,i){var e=this._getBoundsCenterZoom(t,i);return this.flyTo(e.center,e.zoom,i)},setMaxBounds:function(t){return(t=z(t)).isValid()?(this.options.maxBounds&amp;&amp;this.off(&quot;moveend&quot;,this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&amp;&amp;this._panInsideMaxBounds(),this.on(&quot;moveend&quot;,this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off(&quot;moveend&quot;,this._panInsideMaxBounds))},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&amp;&amp;i!==t&amp;&amp;(this.fire(&quot;zoomlevelschange&quot;),this.getZoom()&lt;this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&amp;&amp;i!==t&amp;&amp;(this.fire(&quot;zoomlevelschange&quot;),this.getZoom()&gt;this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var e=this.getCenter(),n=this._limitCenter(e,this._zoom,z(t));return e.equals(n)||this.panTo(n,i),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),s=n.divideBy(2).round(),r=o.divideBy(2).round(),a=s.subtract(r);return a.x||a.y?(t.animate&amp;&amp;t.pan?this.panBy(a):(t.pan&amp;&amp;this._rawPanBy(a),this.fire(&quot;move&quot;),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(e(this.fire,this,&quot;moveend&quot;),200)):this.fire(&quot;moveend&quot;)),this.fire(&quot;resize&quot;,{oldSize:n,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire(&quot;viewreset&quot;),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!(&quot;geolocation&quot;in navigator))return this._handleGeolocationError({code:0,message:&quot;Geolocation not supported.&quot;}),this;var n=e(this._handleGeolocationResponse,this),o=e(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,t):navigator.geolocation.getCurrentPosition(n,o,t),this},stopLocate:function(){return navigator.geolocation&amp;&amp;navigator.geolocation.clearWatch&amp;&amp;navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&amp;&amp;(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var i=t.code,e=t.message||(1===i?&quot;permission denied&quot;:2===i?&quot;position unavailable&quot;:&quot;timeout&quot;);this._locateOptions.setView&amp;&amp;!this._loaded&amp;&amp;this.fitWorld(),this.fire(&quot;locationerror&quot;,{code:i,message:&quot;Geolocation error: &quot;+e+&quot;.&quot;})},_handleGeolocationResponse:function(t){var i=new M(t.coords.latitude,t.coords.longitude),e=i.toBounds(t.coords.accuracy),n=this._locateOptions;if(n.setView){var o=this.getBoundsZoom(e);this.setView(i,n.maxZoom?Math.min(o,n.maxZoom):o)}var s={latlng:i,bounds:e,timestamp:t.timestamp};for(var r in t.coords)&quot;number&quot;==typeof t.coords[r]&amp;&amp;(s[r]=t.coords[r]);this.fire(&quot;locationfound&quot;,s)},addHandler:function(t,i){if(!i)return this;var e=this[t]=new i(this);return this._handlers.push(e),this.options[t]&amp;&amp;e.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error(&quot;Map container is being reused by another instance&quot;);try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}void 0!==this._locationWatchId&amp;&amp;this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&amp;&amp;this._clearControlPos(),this._clearHandlers(),this._loaded&amp;&amp;this.fire(&quot;unload&quot;);var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ut(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var e=ht(&quot;div&quot;,&quot;leaflet-pane&quot;+(t?&quot; leaflet-&quot;+t.replace(&quot;Pane&quot;,&quot;&quot;)+&quot;-pane&quot;:&quot;&quot;),i||this._mapPane);return t&amp;&amp;(this._panes[t]=e),e},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&amp;&amp;!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new T(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,e){t=z(t),e=w(e||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),s=this.getMaxZoom(),r=t.getNorthWest(),a=t.getSouthEast(),h=this.getSize().subtract(e),u=b(this.project(a,n),this.project(r,n)).getSize(),l=Ni?this.options.zoomSnap:1,c=h.x/u.x,_=h.y/u.y,d=i?Math.max(c,_):Math.min(c,_);return n=this.getScaleZoom(d,n),l&amp;&amp;(n=Math.round(n/(l/100))*(l/100),n=i?Math.ceil(n/l)*l:Math.floor(n/l)*l),Math.max(o,Math.min(s,n))},getSize:function(){return this._size&amp;&amp;!this._sizeChanged||(this._size=new x(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var e=this._getTopLeftPoint(t,i);return new P(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return&quot;string&quot;==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var e=this.options.crs;return i=void 0===i?this._zoom:i,e.scale(t)/e.scale(i)},getScaleZoom:function(t,i){var e=this.options.crs;i=void 0===i?this._zoom:i;var n=e.zoom(t*e.scale(i));return isNaN(n)?1/0:n},project:function(t,i){return i=void 0===i?this._zoom:i,this.options.crs.latLngToPoint(C(t),i)},unproject:function(t,i){return i=void 0===i?this._zoom:i,this.options.crs.pointToLatLng(w(t),i)},layerPointToLatLng:function(t){var i=w(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){return this.project(C(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(C(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(z(t))},distance:function(t,i){return this.options.crs.distance(C(t),C(i))},containerPointToLayerPoint:function(t){return w(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return w(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(w(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(C(t)))},mouseEventToContainerPoint:function(t){return tt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=rt(t);if(!i)throw new Error(&quot;Map container not found.&quot;);if(i._leaflet_id)throw new Error(&quot;Map container is already initialized.&quot;);V(i,&quot;scroll&quot;,this._onScroll,this),this._containerId=n(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&amp;&amp;Ni,pt(t,&quot;leaflet-container&quot;+(Vi?&quot; leaflet-touch&quot;:&quot;&quot;)+(Ki?&quot; leaflet-retina&quot;:&quot;&quot;)+(Li?&quot; leaflet-oldie&quot;:&quot;&quot;)+(ki?&quot; leaflet-safari&quot;:&quot;&quot;)+(this._fadeAnimated?&quot; leaflet-fade-anim&quot;:&quot;&quot;));var i=at(t,&quot;position&quot;);&quot;absolute&quot;!==i&amp;&amp;&quot;relative&quot;!==i&amp;&amp;&quot;fixed&quot;!==i&amp;&amp;(t.style.position=&quot;relative&quot;),this._initPanes(),this._initControlPos&amp;&amp;this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane(&quot;mapPane&quot;,this._container),Lt(this._mapPane,new x(0,0)),this.createPane(&quot;tilePane&quot;),this.createPane(&quot;shadowPane&quot;),this.createPane(&quot;overlayPane&quot;),this.createPane(&quot;markerPane&quot;),this.createPane(&quot;tooltipPane&quot;),this.createPane(&quot;popupPane&quot;),this.options.markerZoomAnimation||(pt(t.markerPane,&quot;leaflet-zoom-hide&quot;),pt(t.shadowPane,&quot;leaflet-zoom-hide&quot;))},_resetView:function(t,i){Lt(this._mapPane,new x(0,0));var e=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire(&quot;viewprereset&quot;);var n=this._zoom!==i;this._moveStart(n,!1)._move(t,i)._moveEnd(n),this.fire(&quot;viewreset&quot;),e&amp;&amp;this.fire(&quot;load&quot;)},_moveStart:function(t,i){return t&amp;&amp;this.fire(&quot;zoomstart&quot;),i||this.fire(&quot;movestart&quot;),this},_move:function(t,i,e){void 0===i&amp;&amp;(i=this._zoom);var n=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||e&amp;&amp;e.pinch)&amp;&amp;this.fire(&quot;zoom&quot;,e),this.fire(&quot;move&quot;,e)},_moveEnd:function(t){return t&amp;&amp;this.fire(&quot;zoomend&quot;),this.fire(&quot;moveend&quot;)},_stop:function(){return g(this._flyToFrame),this._panAnim&amp;&amp;this._panAnim.stop(),this},_rawPanBy:function(t){Lt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error(&quot;Set map center and zoom first.&quot;)},_initEvents:function(t){this._targets={},this._targets[n(this._container)]=this;var i=t?q:V;i(this._container,&quot;click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress&quot;,this._handleDOMEvent,this),this.options.trackResize&amp;&amp;i(window,&quot;resize&quot;,this._onResize,this),Ni&amp;&amp;this.options.transform3DLimit&amp;&amp;(t?this.off:this.on).call(this,&quot;moveend&quot;,this._onMoveEnd)},_onResize:function(){g(this._resizeRequest),this._resizeRequest=f(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))&gt;=this.options.transform3DLimit&amp;&amp;this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var e,o=[],s=&quot;mouseout&quot;===i||&quot;mouseover&quot;===i,r=t.target||t.srcElement,a=!1;r;){if((e=this._targets[n(r)])&amp;&amp;(&quot;click&quot;===i||&quot;preclick&quot;===i)&amp;&amp;!t._simulated&amp;&amp;this._draggableMoved(e)){a=!0;break}if(e&amp;&amp;e.listens(i,!0)){if(s&amp;&amp;!ot(r,t))break;if(o.push(e),s)break}if(r===this._container)break;r=r.parentNode}return o.length||a||s||!ot(r,t)||(o=[this]),o},_handleDOMEvent:function(t){if(this._loaded&amp;&amp;!nt(t)){var i=t.type;&quot;mousedown&quot;!==i&amp;&amp;&quot;keypress&quot;!==i||zt(t.target||t.srcElement),this._fireDOMEvent(t,i)}},_mouseEvents:[&quot;click&quot;,&quot;dblclick&quot;,&quot;mouseover&quot;,&quot;mouseout&quot;,&quot;contextmenu&quot;],_fireDOMEvent:function(t,e,n){if(&quot;click&quot;===t.type){var o=i({},t);o.type=&quot;preclick&quot;,this._fireDOMEvent(o,o.type,n)}if(!t._stopped&amp;&amp;(n=(n||[]).concat(this._findEventTargets(t,e))).length){var s=n[0];&quot;contextmenu&quot;===e&amp;&amp;s.listens(e,!0)&amp;&amp;$(t);var r={originalEvent:t};if(&quot;keypress&quot;!==t.type){var a=s.getLatLng&amp;&amp;(!s._radius||s._radius&lt;=10);r.containerPoint=a?this.latLngToContainerPoint(s.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=a?s.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var h=0;h&lt;n.length;h++)if(n[h].fire(e,r,!0),r.originalEvent._stopped||!1===n[h].options.bubblingMouseEvents&amp;&amp;-1!==d(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&amp;&amp;t.dragging.enabled()?t:this).dragging&amp;&amp;t.dragging.moved()||this.boxZoom&amp;&amp;this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t&lt;i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on(&quot;load&quot;,t,i),this},_getMapPanePos:function(){return Pt(this._mapPane)||new x(0,0)},_moved:function(){var t=this._getMapPanePos();return t&amp;&amp;!t.equals([0,0])},_getTopLeftPoint:function(t,i){return(t&amp;&amp;void 0!==i?this._getNewPixelOrigin(t,i):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var e=this.getSize()._divideBy(2);return this.project(t,i)._subtract(e)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,e){var n=this._getNewPixelOrigin(e,i);return this.project(t,i)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,i,e){var n=this._getNewPixelOrigin(e,i);return b([this.project(t.getSouthWest(),i)._subtract(n),this.project(t.getNorthWest(),i)._subtract(n),this.project(t.getSouthEast(),i)._subtract(n),this.project(t.getNorthEast(),i)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,e){if(!e)return t;var n=this.project(t,i),o=this.getSize().divideBy(2),s=new P(n.subtract(o),n.add(o)),r=this._getBoundsOffset(s,e,i);return r.round().equals([0,0])?t:this.unproject(n.add(r),i)},_limitOffset:function(t,i){if(!i)return t;var e=this.getPixelBounds(),n=new P(e.min.add(t),e.max.add(t));return t.add(this._getBoundsOffset(n,i))},_getBoundsOffset:function(t,i,e){var n=b(this.project(i.getNorthEast(),e),this.project(i.getSouthWest(),e)),o=n.min.subtract(t.min),s=n.max.subtract(t.max);return new x(this._rebound(o.x,-s.x),this._rebound(o.y,-s.y))},_rebound:function(t,i){return t+i&gt;0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),e=this.getMaxZoom(),n=Ni?this.options.zoomSnap:1;return n&amp;&amp;(t=Math.round(t/n)*n),Math.max(i,Math.min(e,t))},_onPanTransitionStep:function(){this.fire(&quot;move&quot;)},_onPanTransitionEnd:function(){mt(this._mapPane,&quot;leaflet-pan-anim&quot;),this.fire(&quot;moveend&quot;)},_tryAnimatedPan:function(t,i){var e=this._getCenterOffset(t)._trunc();return!(!0!==(i&amp;&amp;i.animate)&amp;&amp;!this.getSize().contains(e))&amp;&amp;(this.panBy(e,i),!0)},_createAnimProxy:function(){var t=this._proxy=ht(&quot;div&quot;,&quot;leaflet-proxy leaflet-zoom-animated&quot;);this._panes.mapPane.appendChild(t),this.on(&quot;zoomanim&quot;,function(t){var i=pe,e=this._proxy.style[i];wt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),e===this._proxy.style[i]&amp;&amp;this._animatingZoom&amp;&amp;this._onZoomTransitionEnd()},this),this.on(&quot;load moveend&quot;,function(){var t=this.getCenter(),i=this.getZoom();wt(this._proxy,this.project(t,i),this.getZoomScale(i,1))},this),this._on(&quot;unload&quot;,this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&amp;&amp;t.propertyName.indexOf(&quot;transform&quot;)&gt;=0&amp;&amp;this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName(&quot;leaflet-zoom-animated&quot;).length},_tryAnimatedZoom:function(t,i,e){if(this._animatingZoom)return!0;if(e=e||{},!this._zoomAnimated||!1===e.animate||this._nothingToAnimate()||Math.abs(i-this._zoom)&gt;this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(i),o=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==e.animate&amp;&amp;!this.getSize().contains(o))&amp;&amp;(f(function(){this._moveStart(!0,!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,n,o){this._mapPane&amp;&amp;(n&amp;&amp;(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,pt(this._mapPane,&quot;leaflet-zoom-anim&quot;)),this.fire(&quot;zoomanim&quot;,{center:t,zoom:i,noUpdate:o}),setTimeout(e(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&amp;&amp;(this._mapPane&amp;&amp;mt(this._mapPane,&quot;leaflet-zoom-anim&quot;),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),f(function(){this._moveEnd(!0)},this))}}),Pe=v.extend({options:{position:&quot;topright&quot;},initialize:function(t){l(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&amp;&amp;i.removeControl(this),this.options.position=t,i&amp;&amp;i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),e=this.getPosition(),n=t._controlCorners[e];return pt(i,&quot;leaflet-control&quot;),-1!==e.indexOf(&quot;bottom&quot;)?n.insertBefore(i,n.firstChild):n.appendChild(i),this},remove:function(){return this._map?(ut(this._container),this.onRemove&amp;&amp;this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&amp;&amp;t&amp;&amp;t.screenX&gt;0&amp;&amp;t.screenY&gt;0&amp;&amp;this._map.getContainer().focus()}}),be=function(t){return new Pe(t)};Le.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var s=e+t+&quot; &quot;+e+o;i[t+o]=ht(&quot;div&quot;,s,n)}var i=this._controlCorners={},e=&quot;leaflet-&quot;,n=this._controlContainer=ht(&quot;div&quot;,e+&quot;control-container&quot;,this._container);t(&quot;top&quot;,&quot;left&quot;),t(&quot;top&quot;,&quot;right&quot;),t(&quot;bottom&quot;,&quot;left&quot;),t(&quot;bottom&quot;,&quot;right&quot;)},_clearControlPos:function(){for(var t in this._controlCorners)ut(this._controlCorners[t]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Te=Pe.extend({options:{collapsed:!0,position:&quot;topright&quot;,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,e,n){return e&lt;n?-1:n&lt;e?1:0}},initialize:function(t,i,e){l(this,e),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in i)this._addLayer(i[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on(&quot;zoomend&quot;,this._checkDisabledLayers,this);for(var i=0;i&lt;this._layers.length;i++)this._layers[i].layer.on(&quot;add remove&quot;,this._onLayerChange,this);return this._container},addTo:function(t){return Pe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off(&quot;zoomend&quot;,this._checkDisabledLayers,this);for(var t=0;t&lt;this._layers.length;t++)this._layers[t].layer.off(&quot;add remove&quot;,this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off(&quot;add remove&quot;,this._onLayerChange,this);var i=this._getLayer(n(t));return i&amp;&amp;this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){pt(this._container,&quot;leaflet-control-layers-expanded&quot;),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t&lt;this._form.clientHeight?(pt(this._form,&quot;leaflet-control-layers-scrollbar&quot;),this._form.style.height=t+&quot;px&quot;):mt(this._form,&quot;leaflet-control-layers-scrollbar&quot;),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,&quot;leaflet-control-layers-expanded&quot;),this},_initLayout:function(){var t=&quot;leaflet-control-layers&quot;,i=this._container=ht(&quot;div&quot;,t),e=this.options.collapsed;i.setAttribute(&quot;aria-haspopup&quot;,!0),J(i),X(i);var n=this._form=ht(&quot;form&quot;,t+&quot;-list&quot;);e&amp;&amp;(this._map.on(&quot;click&quot;,this.collapse,this),Ti||V(i,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=ht(&quot;a&quot;,t+&quot;-toggle&quot;,i);o.href=&quot;#&quot;,o.title=&quot;Layers&quot;,Vi?(V(o,&quot;click&quot;,Q),V(o,&quot;click&quot;,this.expand,this)):V(o,&quot;focus&quot;,this.expand,this),e||this.expand(),this._baseLayersList=ht(&quot;div&quot;,t+&quot;-base&quot;,n),this._separator=ht(&quot;div&quot;,t+&quot;-separator&quot;,n),this._overlaysList=ht(&quot;div&quot;,t+&quot;-overlays&quot;,n),i.appendChild(n)},_getLayer:function(t){for(var i=0;i&lt;this._layers.length;i++)if(this._layers[i]&amp;&amp;n(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,n){this._map&amp;&amp;t.on(&quot;add remove&quot;,this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:n}),this.options.sortLayers&amp;&amp;this._layers.sort(e(function(t,i){return this.options.sortFunction(t.layer,i.layer,t.name,i.name)},this)),this.options.autoZIndex&amp;&amp;t.setZIndex&amp;&amp;(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;lt(this._baseLayersList),lt(this._overlaysList),this._layerControlInputs=[];var t,i,e,n,o=0;for(e=0;e&lt;this._layers.length;e++)n=this._layers[e],this._addItem(n),i=i||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&amp;&amp;(t=t&amp;&amp;o&gt;1,this._baseLayersList.style.display=t?&quot;&quot;:&quot;none&quot;),this._separator.style.display=i&amp;&amp;t?&quot;&quot;:&quot;none&quot;,this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(n(t.target)),e=i.overlay?&quot;add&quot;===t.type?&quot;overlayadd&quot;:&quot;overlayremove&quot;:&quot;add&quot;===t.type?&quot;baselayerchange&quot;:null;e&amp;&amp;this._map.fire(e,i)},_createRadioElement:function(t,i){var e='&lt;input type=&quot;radio&quot; class=&quot;leaflet-control-layers-selector&quot; name=&quot;'+t+'&quot;'+(i?' checked=&quot;checked&quot;':&quot;&quot;)+&quot;/&gt;&quot;,n=document.createElement(&quot;div&quot;);return n.innerHTML=e,n.firstChild},_addItem:function(t){var i,e=document.createElement(&quot;label&quot;),o=this._map.hasLayer(t.layer);t.overlay?((i=document.createElement(&quot;input&quot;)).type=&quot;checkbox&quot;,i.className=&quot;leaflet-control-layers-selector&quot;,i.defaultChecked=o):i=this._createRadioElement(&quot;leaflet-base-layers&quot;,o),this._layerControlInputs.push(i),i.layerId=n(t.layer),V(i,&quot;click&quot;,this._onInputClick,this);var s=document.createElement(&quot;span&quot;);s.innerHTML=&quot; &quot;+t.name;var r=document.createElement(&quot;div&quot;);return e.appendChild(r),r.appendChild(i),r.appendChild(s),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){var t,i,e=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var s=e.length-1;s&gt;=0;s--)t=e[s],i=this._getLayer(t.layerId).layer,t.checked?n.push(i):t.checked||o.push(i);for(s=0;s&lt;o.length;s++)this._map.hasLayer(o[s])&amp;&amp;this._map.removeLayer(o[s]);for(s=0;s&lt;n.length;s++)this._map.hasLayer(n[s])||this._map.addLayer(n[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,i,e=this._layerControlInputs,n=this._map.getZoom(),o=e.length-1;o&gt;=0;o--)t=e[o],i=this._getLayer(t.layerId).layer,t.disabled=void 0!==i.options.minZoom&amp;&amp;n&lt;i.options.minZoom||void 0!==i.options.maxZoom&amp;&amp;n&gt;i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&amp;&amp;!this.options.collapsed&amp;&amp;this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),ze=Pe.extend({options:{position:&quot;topleft&quot;,zoomInText:&quot;+&quot;,zoomInTitle:&quot;Zoom in&quot;,zoomOutText:&quot;&amp;#x2212;&quot;,zoomOutTitle:&quot;Zoom out&quot;},onAdd:function(t){var i=&quot;leaflet-control-zoom&quot;,e=ht(&quot;div&quot;,i+&quot; leaflet-bar&quot;),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,i+&quot;-in&quot;,e,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,i+&quot;-out&quot;,e,this._zoomOut),this._updateDisabled(),t.on(&quot;zoomend zoomlevelschange&quot;,this._updateDisabled,this),e},onRemove:function(t){t.off(&quot;zoomend zoomlevelschange&quot;,this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&amp;&amp;this._map._zoom&lt;this._map.getMaxZoom()&amp;&amp;this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&amp;&amp;this._map._zoom&gt;this._map.getMinZoom()&amp;&amp;this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,e,n,o){var s=ht(&quot;a&quot;,e,n);return s.innerHTML=t,s.href=&quot;#&quot;,s.title=i,s.setAttribute(&quot;role&quot;,&quot;button&quot;),s.setAttribute(&quot;aria-label&quot;,i),J(s),V(s,&quot;click&quot;,Q),V(s,&quot;click&quot;,o,this),V(s,&quot;click&quot;,this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,i=&quot;leaflet-disabled&quot;;mt(this._zoomInButton,i),mt(this._zoomOutButton,i),(this._disabled||t._zoom===t.getMinZoom())&amp;&amp;pt(this._zoomOutButton,i),(this._disabled||t._zoom===t.getMaxZoom())&amp;&amp;pt(this._zoomInButton,i)}});Le.mergeOptions({zoomControl:!0}),Le.addInitHook(function(){this.options.zoomControl&amp;&amp;(this.zoomControl=new ze,this.addControl(this.zoomControl))});var Me=Pe.extend({options:{position:&quot;bottomleft&quot;,maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i=ht(&quot;div&quot;,&quot;leaflet-control-scale&quot;),e=this.options;return this._addScales(e,&quot;leaflet-control-scale-line&quot;,i),t.on(e.updateWhenIdle?&quot;moveend&quot;:&quot;move&quot;,this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?&quot;moveend&quot;:&quot;move&quot;,this._update,this)},_addScales:function(t,i,e){t.metric&amp;&amp;(this._mScale=ht(&quot;div&quot;,i,e)),t.imperial&amp;&amp;(this._iScale=ht(&quot;div&quot;,i,e))},_update:function(){var t=this._map,i=t.getSize().y/2,e=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(e)},_updateScales:function(t){this.options.metric&amp;&amp;t&amp;&amp;this._updateMetric(t),this.options.imperial&amp;&amp;t&amp;&amp;this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),e=i&lt;1e3?i+&quot; m&quot;:i/1e3+&quot; km&quot;;this._updateScale(this._mScale,e,i/t)},_updateImperial:function(t){var i,e,n,o=3.2808399*t;o&gt;5280?(i=o/5280,e=this._getRoundNum(i),this._updateScale(this._iScale,e+&quot; mi&quot;,e/i)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+&quot; ft&quot;,n/o))},_updateScale:function(t,i,e){t.style.width=Math.round(this.options.maxWidth*e)+&quot;px&quot;,t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+&quot;&quot;).length-1),e=t/i;return e=e&gt;=10?10:e&gt;=5?5:e&gt;=3?3:e&gt;=2?2:1,i*e}}),Ce=Pe.extend({options:{position:&quot;bottomright&quot;,prefix:'&lt;a href=&quot;http://leafletjs.com&quot; title=&quot;A JS library for interactive maps&quot;&gt;Leaflet&lt;/a&gt;'},initialize:function(t){l(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ht(&quot;div&quot;,&quot;leaflet-control-attribution&quot;),J(this._container);for(var i in t._layers)t._layers[i].getAttribution&amp;&amp;this.addAttribution(t._layers[i].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&amp;&amp;(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&amp;&amp;t.push(i);var e=[];this.options.prefix&amp;&amp;e.push(this.options.prefix),t.length&amp;&amp;e.push(t.join(&quot;, &quot;)),this._container.innerHTML=e.join(&quot; | &quot;)}}});Le.mergeOptions({attributionControl:!0}),Le.addInitHook(function(){this.options.attributionControl&amp;&amp;(new Ce).addTo(this)});Pe.Layers=Te,Pe.Zoom=ze,Pe.Scale=Me,Pe.Attribution=Ce,be.layers=function(t,i,e){return new Te(t,i,e)},be.zoom=function(t){return new ze(t)},be.scale=function(t){return new Me(t)},be.attribution=function(t){return new Ce(t)};var Ze=v.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ze.addTo=function(t,i){return t.addHandler(i,this),this};var Se,Ee={Events:hi},ke=Vi?&quot;touchstart mousedown&quot;:&quot;mousedown&quot;,Ae={mousedown:&quot;mouseup&quot;,touchstart:&quot;touchend&quot;,pointerdown:&quot;touchend&quot;,MSPointerDown:&quot;touchend&quot;},Ie={mousedown:&quot;mousemove&quot;,touchstart:&quot;touchmove&quot;,pointerdown:&quot;touchmove&quot;,MSPointerDown:&quot;touchmove&quot;},Be=ui.extend({options:{clickTolerance:3},initialize:function(t,i,e,n){l(this,n),this._element=t,this._dragStartTarget=i||t,this._preventOutline=e},enable:function(){this._enabled||(V(this._dragStartTarget,ke,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&amp;&amp;(Be._dragging===this&amp;&amp;this.finishDrag(),q(this._dragStartTarget,ke,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&amp;&amp;this._enabled&amp;&amp;(this._moved=!1,!dt(this._element,&quot;leaflet-zoom-anim&quot;)&amp;&amp;!(Be._dragging||t.shiftKey||1!==t.which&amp;&amp;1!==t.button&amp;&amp;!t.touches||(Be._dragging=this,this._preventOutline&amp;&amp;zt(this._element),bt(),mi(),this._moving)))){this.fire(&quot;down&quot;);var i=t.touches?t.touches[0]:t;this._startPoint=new x(i.clientX,i.clientY),V(document,Ie[t.type],this._onMove,this),V(document,Ae[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&amp;&amp;this._enabled)if(t.touches&amp;&amp;t.touches.length&gt;1)this._moved=!0;else{var i=t.touches&amp;&amp;1===t.touches.length?t.touches[0]:t,e=new x(i.clientX,i.clientY).subtract(this._startPoint);(e.x||e.y)&amp;&amp;(Math.abs(e.x)+Math.abs(e.y)&lt;this.options.clickTolerance||($(t),this._moved||(this.fire(&quot;dragstart&quot;),this._moved=!0,this._startPos=Pt(this._element).subtract(e),pt(document.body,&quot;leaflet-dragging&quot;),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&amp;&amp;this._lastTarget instanceof SVGElementInstance&amp;&amp;(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,&quot;leaflet-drag-target&quot;)),this._newPos=this._startPos.add(e),this._moving=!0,g(this._animRequest),this._lastEvent=t,this._animRequest=f(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire(&quot;predrag&quot;,t),Lt(this._element,this._newPos),this.fire(&quot;drag&quot;,t)},_onUp:function(t){!t._simulated&amp;&amp;this._enabled&amp;&amp;this.finishDrag()},finishDrag:function(){mt(document.body,&quot;leaflet-dragging&quot;),this._lastTarget&amp;&amp;(mt(this._lastTarget,&quot;leaflet-drag-target&quot;),this._lastTarget=null);for(var t in Ie)q(document,Ie[t],this._onMove,this),q(document,Ae[t],this._onUp,this);Tt(),fi(),this._moved&amp;&amp;this._moving&amp;&amp;(g(this._animRequest),this.fire(&quot;dragend&quot;,{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Be._dragging=!1}}),Oe=(Object.freeze||Object)({simplify:Ct,pointToSegmentDistance:Zt,closestPointOnSegment:function(t,i,e){return Rt(t,i,e)},clipSegment:At,_getEdgeIntersection:It,_getBitCode:Bt,_sqClosestPointOnSegment:Rt,isFlat:Dt,_flat:Nt}),Re=(Object.freeze||Object)({clipPolygon:jt}),De={project:function(t){return new x(t.lng,t.lat)},unproject:function(t){return new M(t.y,t.x)},bounds:new P([-180,-90],[180,90])},Ne={R:6378137,R_MINOR:6356752.314245179,bounds:new P([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var i=Math.PI/180,e=this.R,n=t.lat*i,o=this.R_MINOR/e,s=Math.sqrt(1-o*o),r=s*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-r)/(1+r),s/2);return n=-e*Math.log(Math.max(a,1e-10)),new x(t.lng*i*e,n)},unproject:function(t){for(var i,e=180/Math.PI,n=this.R,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),r=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(r),h=0,u=.1;h&lt;15&amp;&amp;Math.abs(u)&gt;1e-7;h++)i=s*Math.sin(a),i=Math.pow((1-i)/(1+i),s/2),a+=u=Math.PI/2-2*Math.atan(r*i)-a;return new M(a*e,t.x*e/n)}},je=(Object.freeze||Object)({LonLat:De,Mercator:Ne,SphericalMercator:di}),We=i({},_i,{code:&quot;EPSG:3395&quot;,projection:Ne,transformation:function(){var t=.5/(Math.PI*Ne.R);return S(t,.5,-t,.5)}()}),He=i({},_i,{code:&quot;EPSG:4326&quot;,projection:De,transformation:S(1/180,1,-1/180,.5)}),Fe=i({},ci,{projection:De,transformation:S(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var e=i.lng-t.lng,n=i.lat-t.lat;return Math.sqrt(e*e+n*n)},infinite:!0});ci.Earth=_i,ci.EPSG3395=We,ci.EPSG3857=vi,ci.EPSG900913=yi,ci.EPSG4326=He,ci.Simple=Fe;var Ue=ui.extend({options:{pane:&quot;overlayPane&quot;,attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&amp;&amp;t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[n(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[n(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var e=this.getEvents();i.on(e,this),this.once(&quot;remove&quot;,function(){i.off(e,this)},this)}this.onAdd(i),this.getAttribution&amp;&amp;i.attributionControl&amp;&amp;i.attributionControl.addAttribution(this.getAttribution()),this.fire(&quot;add&quot;),i.fire(&quot;layeradd&quot;,{layer:this})}}});Le.include({addLayer:function(t){if(!t._layerAdd)throw new Error(&quot;The provided object is not a Layer.&quot;);var i=n(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&amp;&amp;t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=n(t);return this._layers[i]?(this._loaded&amp;&amp;t.onRemove(this),t.getAttribution&amp;&amp;this.attributionControl&amp;&amp;this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[i],this._loaded&amp;&amp;(this.fire(&quot;layerremove&quot;,{layer:t}),t.fire(&quot;remove&quot;)),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&amp;&amp;n(t)in this._layers},eachLayer:function(t,i){for(var e in this._layers)t.call(i,this._layers[e]);return this},_addLayers:function(t){for(var i=0,e=(t=t?ei(t)?t:[t]:[]).length;i&lt;e;i++)this.addLayer(t[i])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&amp;&amp;isNaN(t.options.minZoom)||(this._zoomBoundLayers[n(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=n(t);this._zoomBoundLayers[i]&amp;&amp;(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,e=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),i=void 0===o.maxZoom?i:Math.max(i,o.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,e!==this._getZoomSpan()&amp;&amp;this.fire(&quot;zoomlevelschange&quot;),void 0===this.options.maxZoom&amp;&amp;this._layersMaxZoom&amp;&amp;this.getZoom()&gt;this._layersMaxZoom&amp;&amp;this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&amp;&amp;this._layersMinZoom&amp;&amp;this.getZoom()&lt;this._layersMinZoom&amp;&amp;this.setZoom(this._layersMinZoom)}});var Ve=Ue.extend({initialize:function(t,i){l(this,i),this._layers={};var e,n;if(t)for(e=0,n=t.length;e&lt;n;e++)this.addLayer(t[e])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&amp;&amp;this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&amp;&amp;this._layers[i]&amp;&amp;this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){return!!t&amp;&amp;(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i,e,n=Array.prototype.slice.call(arguments,1);for(i in this._layers)(e=this._layers[i])[t]&amp;&amp;e[t].apply(e,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var e in this._layers)t.call(i,this._layers[e]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke(&quot;setZIndex&quot;,t)},getLayerId:function(t){return n(t)}}),qe=Ve.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ve.prototype.addLayer.call(this,t),this.fire(&quot;layeradd&quot;,{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&amp;&amp;(t=this._layers[t]),t.removeEventParent(this),Ve.prototype.removeLayer.call(this,t),this.fire(&quot;layerremove&quot;,{layer:t})):this},setStyle:function(t){return this.invoke(&quot;setStyle&quot;,t)},bringToFront:function(){return this.invoke(&quot;bringToFront&quot;)},bringToBack:function(){return this.invoke(&quot;bringToBack&quot;)},getBounds:function(){var t=new T;for(var i in this._layers){var e=this._layers[i];t.extend(e.getBounds?e.getBounds():e.getLatLng())}return t}}),Ge=v.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){l(this,t)},createIcon:function(t){return this._createIcon(&quot;icon&quot;,t)},createShadow:function(t){return this._createIcon(&quot;shadow&quot;,t)},_createIcon:function(t,i){var e=this._getIconUrl(t);if(!e){if(&quot;icon&quot;===t)throw new Error(&quot;iconUrl not set in Icon options (see the docs).&quot;);return null}var n=this._createImg(e,i&amp;&amp;&quot;IMG&quot;===i.tagName?i:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,i){var e=this.options,n=e[i+&quot;Size&quot;];&quot;number&quot;==typeof n&amp;&amp;(n=[n,n]);var o=w(n),s=w(&quot;shadow&quot;===i&amp;&amp;e.shadowAnchor||e.iconAnchor||o&amp;&amp;o.divideBy(2,!0));t.className=&quot;leaflet-marker-&quot;+i+&quot; &quot;+(e.className||&quot;&quot;),s&amp;&amp;(t.style.marginLeft=-s.x+&quot;px&quot;,t.style.marginTop=-s.y+&quot;px&quot;),o&amp;&amp;(t.style.width=o.x+&quot;px&quot;,t.style.height=o.y+&quot;px&quot;)},_createImg:function(t,i){return i=i||document.createElement(&quot;img&quot;),i.src=t,i},_getIconUrl:function(t){return Ki&amp;&amp;this.options[t+&quot;RetinaUrl&quot;]||this.options[t+&quot;Url&quot;]}}),Ke=Ge.extend({options:{iconUrl:&quot;marker-icon.png&quot;,iconRetinaUrl:&quot;marker-icon-2x.png&quot;,shadowUrl:&quot;marker-shadow.png&quot;,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Ke.imagePath||(Ke.imagePath=this._detectIconPath()),(this.options.imagePath||Ke.imagePath)+Ge.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ht(&quot;div&quot;,&quot;leaflet-default-icon-path&quot;,document.body),i=at(t,&quot;background-image&quot;)||at(t,&quot;backgroundImage&quot;);return document.body.removeChild(t),i=null===i||0!==i.indexOf(&quot;url&quot;)?&quot;&quot;:i.replace(/^url\([&quot;']?/,&quot;&quot;).replace(/marker-icon\.png[&quot;']?\)$/,&quot;&quot;)}}),Ye=Ze.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Be(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(t,&quot;leaflet-marker-draggable&quot;)},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&amp;&amp;mt(this._marker._icon,&quot;leaflet-marker-draggable&quot;)},moved:function(){return this._draggable&amp;&amp;this._draggable._moved},_adjustPan:function(t){var i=this._marker,e=i._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,s=L.DomUtil.getPosition(i._icon),r=e.getPixelBounds(),a=e.getPixelOrigin(),h=b(r.min._subtract(a).add(o),r.max._subtract(a).subtract(o));if(!h.contains(s)){var u=w((Math.max(h.max.x,s.x)-h.max.x)/(r.max.x-h.max.x)-(Math.min(h.min.x,s.x)-h.min.x)/(r.min.x-h.min.x),(Math.max(h.max.y,s.y)-h.max.y)/(r.max.y-h.max.y)-(Math.min(h.min.y,s.y)-h.min.y)/(r.min.y-h.min.y)).multiplyBy(n);e.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),L.DomUtil.setPosition(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=f(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire(&quot;movestart&quot;).fire(&quot;dragstart&quot;)},_onPreDrag:function(t){this._marker.options.autoPan&amp;&amp;(g(this._panRequest),this._panRequest=f(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,e=i._shadow,n=Pt(i._icon),o=i._map.layerPointToLatLng(n);e&amp;&amp;Lt(e,n),i._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,i.fire(&quot;move&quot;,t).fire(&quot;drag&quot;,t)},_onDragEnd:function(t){g(this._panRequest),delete this._oldLatLng,this._marker.fire(&quot;moveend&quot;).fire(&quot;dragend&quot;,t)}}),Xe=Ue.extend({options:{icon:new Ke,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:&quot;&quot;,alt:&quot;&quot;,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:&quot;markerPane&quot;,bubblingMouseEvents:!1},initialize:function(t,i){l(this,i),this._latlng=C(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&amp;&amp;t.options.markerZoomAnimation,this._zoomAnimated&amp;&amp;t.on(&quot;zoomanim&quot;,this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&amp;&amp;this.dragging.enabled()&amp;&amp;(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&amp;&amp;t.off(&quot;zoomanim&quot;,this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=C(t),this.update(),this.fire(&quot;move&quot;,{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&amp;&amp;(this._initIcon(),this.update()),this._popup&amp;&amp;this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&amp;&amp;this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i=&quot;leaflet-zoom-&quot;+(this._zoomAnimated?&quot;animated&quot;:&quot;hide&quot;),e=t.icon.createIcon(this._icon),n=!1;e!==this._icon&amp;&amp;(this._icon&amp;&amp;this._removeIcon(),n=!0,t.title&amp;&amp;(e.title=t.title),&quot;IMG&quot;===e.tagName&amp;&amp;(e.alt=t.alt||&quot;&quot;)),pt(e,i),t.keyboard&amp;&amp;(e.tabIndex=&quot;0&quot;),this._icon=e,t.riseOnHover&amp;&amp;this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),s=!1;o!==this._shadow&amp;&amp;(this._removeShadow(),s=!0),o&amp;&amp;(pt(o,i),o.alt=&quot;&quot;),this._shadow=o,t.opacity&lt;1&amp;&amp;this._updateOpacity(),n&amp;&amp;this.getPane().appendChild(this._icon),this._initInteraction(),o&amp;&amp;s&amp;&amp;this.getPane(&quot;shadowPane&quot;).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&amp;&amp;this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&amp;&amp;ut(this._shadow),this._shadow=null},_setPos:function(t){Lt(this._icon,t),this._shadow&amp;&amp;Lt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&amp;&amp;(pt(this._icon,&quot;leaflet-interactive&quot;),this.addInteractiveTarget(this._icon),Ye)){var t=this.options.draggable;this.dragging&amp;&amp;(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ye(this),t&amp;&amp;this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&amp;&amp;this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;vt(this._icon,t),this._shadow&amp;&amp;vt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Je=Ue.extend({options:{stroke:!0,color:&quot;#3388ff&quot;,weight:3,opacity:1,lineCap:&quot;round&quot;,lineJoin:&quot;round&quot;,dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:&quot;evenodd&quot;,interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&amp;&amp;this._renderer._updatePath(this),this},setStyle:function(t){return l(this,t),this._renderer&amp;&amp;this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&amp;&amp;this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&amp;&amp;this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),$e=Je.extend({options:{fill:!0,radius:10},initialize:function(t,i){l(this,i),this._latlng=C(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=C(t),this.redraw(),this.fire(&quot;move&quot;,{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&amp;&amp;t.radius||this._radius;return Je.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,e=this._clickTolerance(),n=[t+e,i+e];this._pxBounds=new P(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&amp;&amp;this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&amp;&amp;!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)&lt;=this._radius+this._clickTolerance()}}),Qe=$e.extend({initialize:function(t,e,n){if(&quot;number&quot;==typeof e&amp;&amp;(e=i({},n,{radius:e})),l(this,e),this._latlng=C(t),isNaN(this.options.radius))throw new Error(&quot;Circle radius cannot be NaN&quot;);this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new T(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Je.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,e=this._map,n=e.options.crs;if(n.distance===_i.distance){var o=Math.PI/180,s=this._mRadius/_i.R/o,r=e.project([i+s,t]),a=e.project([i-s,t]),h=r.add(a).divideBy(2),u=e.unproject(h).lat,l=Math.acos((Math.cos(s*o)-Math.sin(i*o)*Math.sin(u*o))/(Math.cos(i*o)*Math.cos(u*o)))/o;(isNaN(l)||0===l)&amp;&amp;(l=s/Math.cos(Math.PI/180*i)),this._point=h.subtract(e.getPixelOrigin()),this._radius=isNaN(l)?0:h.x-e.project([u,t-l]).x,this._radiusY=h.y-r.y}else{var c=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=e.latLngToLayerPoint(this._latlng),this._radius=this._point.x-e.latLngToLayerPoint(c).x}this._updateBounds()}}),tn=Je.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){l(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i,e,n=1/0,o=null,s=Rt,r=0,a=this._parts.length;r&lt;a;r++)for(var h=this._parts[r],u=1,l=h.length;u&lt;l;u++){var c=s(t,i=h[u-1],e=h[u],!0);c&lt;n&amp;&amp;(n=c,o=s(t,i,e))}return o&amp;&amp;(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error(&quot;Must add layer to map before using getCenter()&quot;);var t,i,e,n,o,s,r,a=this._rings[0],h=a.length;if(!h)return null;for(t=0,i=0;t&lt;h-1;t++)i+=a[t].distanceTo(a[t+1])/2;if(0===i)return this._map.layerPointToLatLng(a[0]);for(t=0,n=0;t&lt;h-1;t++)if(o=a[t],s=a[t+1],e=o.distanceTo(s),(n+=e)&gt;i)return r=(n-i)/e,this._map.layerPointToLatLng([s.x-r*(s.x-o.x),s.y-r*(s.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=C(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new T,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],e=Dt(t),n=0,o=t.length;n&lt;o;n++)e?(i[n]=C(t[n]),this._bounds.extend(i[n])):i[n]=this._convertLatLngs(t[n]);return i},_project:function(){var t=new P;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var i=this._clickTolerance(),e=new x(i,i);this._bounds.isValid()&amp;&amp;t.isValid()&amp;&amp;(t.min._subtract(e),t.max._add(e),this._pxBounds=t)},_projectLatlngs:function(t,i,e){var n,o,s=t[0]instanceof M,r=t.length;if(s){for(o=[],n=0;n&lt;r;n++)o[n]=this._map.latLngToLayerPoint(t[n]),e.extend(o[n]);i.push(o)}else for(n=0;n&lt;r;n++)this._projectLatlngs(t[n],i,e)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&amp;&amp;this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var i,e,n,o,s,r,a,h=this._parts;for(i=0,n=0,o=this._rings.length;i&lt;o;i++)for(e=0,s=(a=this._rings[i]).length;e&lt;s-1;e++)(r=At(a[e],a[e+1],t,e,!0))&amp;&amp;(h[n]=h[n]||[],h[n].push(r[0]),r[1]===a[e+1]&amp;&amp;e!==s-2||(h[n].push(r[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,e=0,n=t.length;e&lt;n;e++)t[e]=Ct(t[e],i)},_update:function(){this._map&amp;&amp;(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var e,n,o,s,r,a,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(e=0,s=this._parts.length;e&lt;s;e++)for(n=0,o=(r=(a=this._parts[e]).length)-1;n&lt;r;o=n++)if((i||0!==n)&amp;&amp;Zt(t,a[o],a[n])&lt;=h)return!0;return!1}});tn._flat=Nt;var en=tn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error(&quot;Must add layer to map before using getCenter()&quot;);var t,i,e,n,o,s,r,a,h,u=this._rings[0],l=u.length;if(!l)return null;for(s=r=a=0,t=0,i=l-1;t&lt;l;i=t++)e=u[t],n=u[i],o=e.y*n.x-n.y*e.x,r+=(e.x+n.x)*o,a+=(e.y+n.y)*o,s+=3*o;return h=0===s?u[0]:[r/s,a/s],this._map.layerPointToLatLng(h)},_convertLatLngs:function(t){var i=tn.prototype._convertLatLngs.call(this,t),e=i.length;return e&gt;=2&amp;&amp;i[0]instanceof M&amp;&amp;i[0].equals(i[e-1])&amp;&amp;i.pop(),i},_setLatLngs:function(t){tn.prototype._setLatLngs.call(this,t),Dt(this._latlngs)&amp;&amp;(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,e=new x(i,i);if(t=new P(t.min.subtract(e),t.max.add(e)),this._parts=[],this._pxBounds&amp;&amp;this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,o=0,s=this._rings.length;o&lt;s;o++)(n=jt(this._rings[o],t,!0)).length&amp;&amp;this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i,e,n,o,s,r,a,h,u=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o&lt;a;o++)for(s=0,r=(h=(i=this._parts[o]).length)-1;s&lt;h;r=s++)e=i[s],n=i[r],e.y&gt;t.y!=n.y&gt;t.y&amp;&amp;t.x&lt;(n.x-e.x)*(t.y-e.y)/(n.y-e.y)+e.x&amp;&amp;(u=!u);return u||tn.prototype._containsPoint.call(this,t,!0)}}),nn=qe.extend({initialize:function(t,i){l(this,i),this._layers={},t&amp;&amp;this.addData(t)},addData:function(t){var i,e,n,o=ei(t)?t:t.features;if(o){for(i=0,e=o.length;i&lt;e;i++)((n=o[i]).geometries||n.geometry||n.features||n.coordinates)&amp;&amp;this.addData(n);return this}var s=this.options;if(s.filter&amp;&amp;!s.filter(t))return this;var r=Wt(t,s);return r?(r.feature=Gt(t),r.defaultOptions=r.options,this.resetStyle(r),s.onEachFeature&amp;&amp;s.onEachFeature(t,r),this.addLayer(r)):this},resetStyle:function(t){return t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){&quot;function&quot;==typeof i&amp;&amp;(i=i(t.feature)),t.setStyle&amp;&amp;t.setStyle(i)}}),on={toGeoJSON:function(t){return qt(this,{type:&quot;Point&quot;,coordinates:Ut(this.getLatLng(),t)})}};Xe.include(on),Qe.include(on),$e.include(on),tn.include({toGeoJSON:function(t){var i=!Dt(this._latlngs),e=Vt(this._latlngs,i?1:0,!1,t);return qt(this,{type:(i?&quot;Multi&quot;:&quot;&quot;)+&quot;LineString&quot;,coordinates:e})}}),en.include({toGeoJSON:function(t){var i=!Dt(this._latlngs),e=i&amp;&amp;!Dt(this._latlngs[0]),n=Vt(this._latlngs,e?2:i?1:0,!0,t);return i||(n=[n]),qt(this,{type:(e?&quot;Multi&quot;:&quot;&quot;)+&quot;Polygon&quot;,coordinates:n})}}),Ve.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(e){i.push(e.toGeoJSON(t).geometry.coordinates)}),qt(this,{type:&quot;MultiPoint&quot;,coordinates:i})},toGeoJSON:function(t){var i=this.feature&amp;&amp;this.feature.geometry&amp;&amp;this.feature.geometry.type;if(&quot;MultiPoint&quot;===i)return this.toMultiPoint(t);var e=&quot;GeometryCollection&quot;===i,n=[];return this.eachLayer(function(i){if(i.toGeoJSON){var o=i.toGeoJSON(t);if(e)n.push(o.geometry);else{var s=Gt(o);&quot;FeatureCollection&quot;===s.type?n.push.apply(n,s.features):n.push(s)}}}),e?qt(this,{geometries:n,type:&quot;GeometryCollection&quot;}):{type:&quot;FeatureCollection&quot;,features:n}}});var sn=Kt,rn=Ue.extend({options:{opacity:1,alt:&quot;&quot;,interactive:!1,crossOrigin:!1,errorOverlayUrl:&quot;&quot;,zIndex:1,className:&quot;&quot;},initialize:function(t,i,e){this._url=t,this._bounds=z(i),l(this,e)},onAdd:function(){this._image||(this._initImage(),this.options.opacity&lt;1&amp;&amp;this._updateOpacity()),this.options.interactive&amp;&amp;(pt(this._image,&quot;leaflet-interactive&quot;),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&amp;&amp;this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&amp;&amp;this._updateOpacity(),this},setStyle:function(t){return t.opacity&amp;&amp;this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&amp;&amp;ct(this._image),this},bringToBack:function(){return this._map&amp;&amp;_t(this._image),this},setUrl:function(t){return this._url=t,this._image&amp;&amp;(this._image.src=t),this},setBounds:function(t){return this._bounds=z(t),this._map&amp;&amp;this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&amp;&amp;(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=&quot;IMG&quot;===this._url.tagName,i=this._image=t?this._url:ht(&quot;img&quot;);pt(i,&quot;leaflet-image-layer&quot;),this._zoomAnimated&amp;&amp;pt(i,&quot;leaflet-zoom-animated&quot;),this.options.className&amp;&amp;pt(i,this.options.className),i.onselectstart=r,i.onmousemove=r,i.onload=e(this.fire,this,&quot;load&quot;),i.onerror=e(this._overlayOnError,this,&quot;error&quot;),this.options.crossOrigin&amp;&amp;(i.crossOrigin=&quot;&quot;),this.options.zIndex&amp;&amp;this._updateZIndex(),t?this._url=i.src:(i.src=this._url,i.alt=this.options.alt)},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),e=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;wt(this._image,e,i)},_reset:function(){var t=this._image,i=new P(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),e=i.getSize();Lt(t,i.min),t.style.width=e.x+&quot;px&quot;,t.style.height=e.y+&quot;px&quot;},_updateOpacity:function(){vt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&amp;&amp;void 0!==this.options.zIndex&amp;&amp;null!==this.options.zIndex&amp;&amp;(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire(&quot;error&quot;);var t=this.options.errorOverlayUrl;t&amp;&amp;this._url!==t&amp;&amp;(this._url=t,this._image.src=t)}}),an=rn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t=&quot;VIDEO&quot;===this._url.tagName,i=this._image=t?this._url:ht(&quot;video&quot;);if(pt(i,&quot;leaflet-image-layer&quot;),this._zoomAnimated&amp;&amp;pt(i,&quot;leaflet-zoom-animated&quot;),i.onselectstart=r,i.onmousemove=r,i.onloadeddata=e(this.fire,this,&quot;load&quot;),t){for(var n=i.getElementsByTagName(&quot;source&quot;),o=[],s=0;s&lt;n.length;s++)o.push(n[s].src);this._url=n.length&gt;0?o:[i.src]}else{ei(this._url)||(this._url=[this._url]),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop;for(var a=0;a&lt;this._url.length;a++){var h=ht(&quot;source&quot;);h.src=this._url[a],i.appendChild(h)}}}}),hn=Ue.extend({options:{offset:[0,7],className:&quot;&quot;,pane:&quot;popupPane&quot;},initialize:function(t,i){l(this,t),this._source=i},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&amp;&amp;vt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&amp;&amp;vt(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(vt(this._container,0),this._removeTimeout=setTimeout(e(ut,void 0,this._container),200)):ut(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=C(t),this._map&amp;&amp;(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&amp;&amp;(this._container.style.visibility=&quot;hidden&quot;,this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility=&quot;&quot;,this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&amp;&amp;(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&amp;&amp;this._map.hasLayer(this)},bringToFront:function(){return this._map&amp;&amp;ct(this._container),this},bringToBack:function(){return this._map&amp;&amp;_t(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,i=&quot;function&quot;==typeof this._content?this._content(this._source||this):this._content;if(&quot;string&quot;==typeof i)t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire(&quot;contentupdate&quot;)}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=w(this.options.offset),e=this._getAnchor();this._zoomAnimated?Lt(this._container,t.add(e)):i=i.add(t).add(e);var n=this._containerBottom=-i.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=n+&quot;px&quot;,this._container.style.left=o+&quot;px&quot;}},_getAnchor:function(){return[0,0]}}),un=hn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:&quot;&quot;},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){hn.prototype.onAdd.call(this,t),t.fire(&quot;popupopen&quot;,{popup:this}),this._source&amp;&amp;(this._source.fire(&quot;popupopen&quot;,{popup:this},!0),this._source instanceof Je||this._source.on(&quot;preclick&quot;,Y))},onRemove:function(t){hn.prototype.onRemove.call(this,t),t.fire(&quot;popupclose&quot;,{popup:this}),this._source&amp;&amp;(this._source.fire(&quot;popupclose&quot;,{popup:this},!0),this._source instanceof Je||this._source.off(&quot;preclick&quot;,Y))},getEvents:function(){var t=hn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&amp;&amp;(t.preclick=this._close),this.options.keepInView&amp;&amp;(t.moveend=this._adjustPan),t},_close:function(){this._map&amp;&amp;this._map.closePopup(this)},_initLayout:function(){var t=&quot;leaflet-popup&quot;,i=this._container=ht(&quot;div&quot;,t+&quot; &quot;+(this.options.className||&quot;&quot;)+&quot; leaflet-zoom-animated&quot;),e=this._wrapper=ht(&quot;div&quot;,t+&quot;-content-wrapper&quot;,i);if(this._contentNode=ht(&quot;div&quot;,t+&quot;-content&quot;,e),J(e),X(this._contentNode),V(e,&quot;contextmenu&quot;,Y),this._tipContainer=ht(&quot;div&quot;,t+&quot;-tip-container&quot;,i),this._tip=ht(&quot;div&quot;,t+&quot;-tip&quot;,this._tipContainer),this.options.closeButton){var n=this._closeButton=ht(&quot;a&quot;,t+&quot;-close-button&quot;,i);n.href=&quot;#close&quot;,n.innerHTML=&quot;&amp;#215;&quot;,V(n,&quot;click&quot;,this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width=&quot;&quot;,i.whiteSpace=&quot;nowrap&quot;;var e=t.offsetWidth;e=Math.min(e,this.options.maxWidth),e=Math.max(e,this.options.minWidth),i.width=e+1+&quot;px&quot;,i.whiteSpace=&quot;&quot;,i.height=&quot;&quot;;var n=t.offsetHeight,o=this.options.maxHeight;o&amp;&amp;n&gt;o?(i.height=o+&quot;px&quot;,pt(t,&quot;leaflet-popup-scrolled&quot;)):mt(t,&quot;leaflet-popup-scrolled&quot;),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),e=this._getAnchor();Lt(this._container,i.add(e))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&amp;&amp;this._map._panAnim._inProgress)){var t=this._map,i=parseInt(at(this._container,&quot;marginBottom&quot;),10)||0,e=this._container.offsetHeight+i,n=this._containerWidth,o=new x(this._containerLeft,-e-this._containerBottom);o._add(Pt(this._container));var s=t.layerPointToContainerPoint(o),r=w(this.options.autoPanPadding),a=w(this.options.autoPanPaddingTopLeft||r),h=w(this.options.autoPanPaddingBottomRight||r),u=t.getSize(),l=0,c=0;s.x+n+h.x&gt;u.x&amp;&amp;(l=s.x+n-u.x+h.x),s.x-l-a.x&lt;0&amp;&amp;(l=s.x-a.x),s.y+e+h.y&gt;u.y&amp;&amp;(c=s.y+e-u.y+h.y),s.y-c-a.y&lt;0&amp;&amp;(c=s.y-a.y),(l||c)&amp;&amp;t.fire(&quot;autopanstart&quot;).panBy([l,c])}},_onCloseButtonClick:function(t){this._close(),Q(t)},_getAnchor:function(){return w(this._source&amp;&amp;this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Le.mergeOptions({closePopupOnClick:!0}),Le.include({openPopup:function(t,i,e){return t instanceof un||(t=new un(e).setContent(t)),i&amp;&amp;t.setLatLng(i),this.hasLayer(t)?this:(this._popup&amp;&amp;this._popup.options.autoClose&amp;&amp;this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&amp;&amp;t!==this._popup||(t=this._popup,this._popup=null),t&amp;&amp;this.removeLayer(t),this}}),Ue.include({bindPopup:function(t,i){return t instanceof un?(l(t,i),this._popup=t,t._source=this):(this._popup&amp;&amp;!i||(this._popup=new un(i,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&amp;&amp;(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,i){if(t instanceof Ue||(i=t,t=this),t instanceof qe)for(var e in this._layers){t=this._layers[e];break}return i||(i=t.getCenter?t.getCenter():t.getLatLng()),this._popup&amp;&amp;this._map&amp;&amp;(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,i)),this},closePopup:function(){return this._popup&amp;&amp;this._popup._close(),this},togglePopup:function(t){return this._popup&amp;&amp;(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&amp;&amp;this._popup.isOpen()},setPopupContent:function(t){return this._popup&amp;&amp;this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var i=t.layer||t.target;this._popup&amp;&amp;this._map&amp;&amp;(Q(t),i instanceof Je?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&amp;&amp;this._popup._source===i?this.closePopup():this.openPopup(i,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&amp;&amp;this._openPopup(t)}});var ln=hn.extend({options:{pane:&quot;tooltipPane&quot;,offset:[0,0],direction:&quot;auto&quot;,permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){hn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire(&quot;tooltipopen&quot;,{tooltip:this}),this._source&amp;&amp;this._source.fire(&quot;tooltipopen&quot;,{tooltip:this},!0)},onRemove:function(t){hn.prototype.onRemove.call(this,t),t.fire(&quot;tooltipclose&quot;,{tooltip:this}),this._source&amp;&amp;this._source.fire(&quot;tooltipclose&quot;,{tooltip:this},!0)},getEvents:function(){var t=hn.prototype.getEvents.call(this);return Vi&amp;&amp;!this.options.permanent&amp;&amp;(t.preclick=this._close),t},_close:function(){this._map&amp;&amp;this._map.closeTooltip(this)},_initLayout:function(){var t=&quot;leaflet-tooltip &quot;+(this.options.className||&quot;&quot;)+&quot; leaflet-zoom-&quot;+(this._zoomAnimated?&quot;animated&quot;:&quot;hide&quot;);this._contentNode=this._container=ht(&quot;div&quot;,t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i=this._map,e=this._container,n=i.latLngToContainerPoint(i.getCenter()),o=i.layerPointToContainerPoint(t),s=this.options.direction,r=e.offsetWidth,a=e.offsetHeight,h=w(this.options.offset),u=this._getAnchor();&quot;top&quot;===s?t=t.add(w(-r/2+h.x,-a+h.y+u.y,!0)):&quot;bottom&quot;===s?t=t.subtract(w(r/2-h.x,-h.y,!0)):&quot;center&quot;===s?t=t.subtract(w(r/2+h.x,a/2-u.y+h.y,!0)):&quot;right&quot;===s||&quot;auto&quot;===s&amp;&amp;o.x&lt;n.x?(s=&quot;right&quot;,t=t.add(w(h.x+u.x,u.y-a/2+h.y,!0))):(s=&quot;left&quot;,t=t.subtract(w(r+u.x-h.x,a/2-u.y-h.y,!0))),mt(e,&quot;leaflet-tooltip-right&quot;),mt(e,&quot;leaflet-tooltip-left&quot;),mt(e,&quot;leaflet-tooltip-top&quot;),mt(e,&quot;leaflet-tooltip-bottom&quot;),pt(e,&quot;leaflet-tooltip-&quot;+s),Lt(e,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&amp;&amp;vt(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return w(this._source&amp;&amp;this._source._getTooltipAnchor&amp;&amp;!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Le.include({openTooltip:function(t,i,e){return t instanceof ln||(t=new ln(e).setContent(t)),i&amp;&amp;t.setLatLng(i),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&amp;&amp;this.removeLayer(t),this}}),Ue.include({bindTooltip:function(t,i){return t instanceof ln?(l(t,i),this._tooltip=t,t._source=this):(this._tooltip&amp;&amp;!i||(this._tooltip=new ln(i,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&amp;&amp;this._map&amp;&amp;this._map.hasLayer(this)&amp;&amp;this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&amp;&amp;(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var i=t?&quot;off&quot;:&quot;on&quot;,e={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?e.add=this._openTooltip:(e.mouseover=this._openTooltip,e.mouseout=this.closeTooltip,this._tooltip.options.sticky&amp;&amp;(e.mousemove=this._moveTooltip),Vi&amp;&amp;(e.click=this._openTooltip)),this[i](e),this._tooltipHandlersAdded=!t}},openTooltip:function(t,i){if(t instanceof Ue||(i=t,t=this),t instanceof qe)for(var e in this._layers){t=this._layers[e];break}return i||(i=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&amp;&amp;this._map&amp;&amp;(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,i),this._tooltip.options.interactive&amp;&amp;this._tooltip._container&amp;&amp;(pt(this._tooltip._container,&quot;leaflet-clickable&quot;),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&amp;&amp;(this._tooltip._close(),this._tooltip.options.interactive&amp;&amp;this._tooltip._container&amp;&amp;(mt(this._tooltip._container,&quot;leaflet-clickable&quot;),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&amp;&amp;(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&amp;&amp;this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var i=t.layer||t.target;this._tooltip&amp;&amp;this._map&amp;&amp;this.openTooltip(i,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var i,e,n=t.latlng;this._tooltip.options.sticky&amp;&amp;t.originalEvent&amp;&amp;(i=this._map.mouseEventToContainerPoint(t.originalEvent),e=this._map.containerPointToLayerPoint(i),n=this._map.layerPointToLatLng(e)),this._tooltip.setLatLng(n)}});var cn=Ge.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:&quot;leaflet-div-icon&quot;},createIcon:function(t){var i=t&amp;&amp;&quot;DIV&quot;===t.tagName?t:document.createElement(&quot;div&quot;),e=this.options;if(i.innerHTML=!1!==e.html?e.html:&quot;&quot;,e.bgPos){var n=w(e.bgPos);i.style.backgroundPosition=-n.x+&quot;px &quot;+-n.y+&quot;px&quot;}return this._setIconStyles(i,&quot;icon&quot;),i},createShadow:function(){return null}});Ge.Default=Ke;var _n=Ue.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ji,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:&quot;tilePane&quot;,className:&quot;&quot;,keepBuffer:2},initialize:function(t){l(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ut(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&amp;&amp;(ct(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&amp;&amp;(_t(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&amp;&amp;(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&amp;&amp;(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement(&quot;div&quot;)},getTileSize:function(){var t=this.options.tileSize;return t instanceof x?t:new x(t,t)},_updateZIndex:function(){this._container&amp;&amp;void 0!==this.options.zIndex&amp;&amp;null!==this.options.zIndex&amp;&amp;(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i,e=this.getPane().children,n=-t(-1/0,1/0),o=0,s=e.length;o&lt;s;o++)i=e[o].style.zIndex,e[o]!==this._container&amp;&amp;i&amp;&amp;(n=t(n,+i));isFinite(n)&amp;&amp;(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&amp;&amp;!Li){vt(this._container,this.options.opacity);var t=+new Date,i=!1,e=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&amp;&amp;o.loaded){var s=Math.min(1,(t-o.loaded)/200);vt(o.el,s),s&lt;1?i=!0:(o.active?e=!0:this._onOpaqueTile(o),o.active=!0)}}e&amp;&amp;!this._noPrune&amp;&amp;this._pruneTiles(),i&amp;&amp;(g(this._fadeFrame),this._fadeFrame=f(this._updateOpacity,this))}},_onOpaqueTile:r,_initContainer:function(){this._container||(this._container=ht(&quot;div&quot;,&quot;leaflet-layer &quot;+(this.options.className||&quot;&quot;)),this._updateZIndex(),this.options.opacity&lt;1&amp;&amp;this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(void 0!==t){for(var e in this._levels)this._levels[e].el.children.length||e===t?(this._levels[e].el.style.zIndex=i-Math.abs(t-e),this._onUpdateLevel(e)):(ut(this._levels[e].el),this._removeTilesAtZoom(e),this._onRemoveLevel(e),delete this._levels[e]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=ht(&quot;div&quot;,&quot;leaflet-tile-container leaflet-zoom-animated&quot;,this._container),n.el.style.zIndex=i,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:r,_onRemoveLevel:r,_onCreateLevel:r,_pruneTiles:function(){if(this._map){var t,i,e=this._map.getZoom();if(e&gt;this.options.maxZoom||e&lt;this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(i=this._tiles[t]).retain=i.current;for(t in this._tiles)if((i=this._tiles[t]).current&amp;&amp;!i.active){var n=i.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&amp;&amp;this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ut(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,e,n){var o=Math.floor(t/2),s=Math.floor(i/2),r=e-1,a=new x(+o,+s);a.z=+r;var h=this._tileCoordsToKey(a),u=this._tiles[h];return u&amp;&amp;u.active?(u.retain=!0,!0):(u&amp;&amp;u.loaded&amp;&amp;(u.retain=!0),r&gt;n&amp;&amp;this._retainParent(o,s,r,n))},_retainChildren:function(t,i,e,n){for(var o=2*t;o&lt;2*t+2;o++)for(var s=2*i;s&lt;2*i+2;s++){var r=new x(o,s);r.z=e+1;var a=this._tileCoordsToKey(r),h=this._tiles[a];h&amp;&amp;h.active?h.retain=!0:(h&amp;&amp;h.loaded&amp;&amp;(h.retain=!0),e+1&lt;n&amp;&amp;this._retainChildren(o,s,e+1,n))}},_resetView:function(t){var i=t&amp;&amp;(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return void 0!==i.minNativeZoom&amp;&amp;t&lt;i.minNativeZoom?i.minNativeZoom:void 0!==i.maxNativeZoom&amp;&amp;i.maxNativeZoom&lt;t?i.maxNativeZoom:t},_setView:function(t,i,e,n){var o=this._clampZoom(Math.round(i));(void 0!==this.options.maxZoom&amp;&amp;o&gt;this.options.maxZoom||void 0!==this.options.minZoom&amp;&amp;o&lt;this.options.minZoom)&amp;&amp;(o=void 0);var s=this.options.updateWhenZooming&amp;&amp;o!==this._tileZoom;n&amp;&amp;!s||(this._tileZoom=o,this._abortLoading&amp;&amp;this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&amp;&amp;this._update(t),e||this._pruneTiles(),this._noPrune=!!e),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var e in this._levels)this._setZoomTransform(this._levels[e],t,i)},_setZoomTransform:function(t,i,e){var n=this._map.getZoomScale(e,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(i,e)).round();Ni?wt(t.el,o,n):Lt(t.el,o)},_resetGrid:function(){var t=this._map,i=t.options.crs,e=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&amp;&amp;(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=i.wrapLng&amp;&amp;!this.options.noWrap&amp;&amp;[Math.floor(t.project([0,i.wrapLng[0]],n).x/e.x),Math.ceil(t.project([0,i.wrapLng[1]],n).x/e.y)],this._wrapY=i.wrapLat&amp;&amp;!this.options.noWrap&amp;&amp;[Math.floor(t.project([i.wrapLat[0],0],n).y/e.x),Math.ceil(t.project([i.wrapLat[1],0],n).y/e.y)]},_onMoveEnd:function(){this._map&amp;&amp;!this._map._animatingZoom&amp;&amp;this._update()},_getTiledPixelBounds:function(t){var i=this._map,e=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),n=i.getZoomScale(e,this._tileZoom),o=i.project(t,this._tileZoom).floor(),s=i.getSize().divideBy(2*n);return new P(o.subtract(s),o.add(s))},_update:function(t){var i=this._map;if(i){var e=this._clampZoom(i.getZoom());if(void 0===t&amp;&amp;(t=i.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),s=o.getCenter(),r=[],a=this.options.keepBuffer,h=new P(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&amp;&amp;isFinite(o.min.y)&amp;&amp;isFinite(o.max.x)&amp;&amp;isFinite(o.max.y)))throw new Error(&quot;Attempted to load an infinite number of tiles&quot;);for(var u in this._tiles){var l=this._tiles[u].coords;l.z===this._tileZoom&amp;&amp;h.contains(new x(l.x,l.y))||(this._tiles[u].current=!1)}if(Math.abs(e-this._tileZoom)&gt;1)this._setView(t,e);else{for(var c=o.min.y;c&lt;=o.max.y;c++)for(var _=o.min.x;_&lt;=o.max.x;_++){var d=new x(_,c);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:r.push(d)}}if(r.sort(function(t,i){return t.distanceTo(s)-i.distanceTo(s)}),0!==r.length){this._loading||(this._loading=!0,this.fire(&quot;loading&quot;));var m=document.createDocumentFragment();for(_=0;_&lt;r.length;_++)this._addTile(r[_],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var e=this._globalTileRange;if(!i.wrapLng&amp;&amp;(t.x&lt;e.min.x||t.x&gt;e.max.x)||!i.wrapLat&amp;&amp;(t.y&lt;e.min.y||t.y&gt;e.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return z(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,e=this.getTileSize(),n=t.scaleBy(e),o=n.add(e);return[i.unproject(n,t.z),i.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),e=new T(i[0],i[1]);return this.options.noWrap||(e=this._map.wrapLatLngBounds(e)),e},_tileCoordsToKey:function(t){return t.x+&quot;:&quot;+t.y+&quot;:&quot;+t.z},_keyToTileCoords:function(t){var i=t.split(&quot;:&quot;),e=new x(+i[0],+i[1]);return e.z=+i[2],e},_removeTile:function(t){var i=this._tiles[t];i&amp;&amp;(Ci||i.el.setAttribute(&quot;src&quot;,ni),ut(i.el),delete this._tiles[t],this.fire(&quot;tileunload&quot;,{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){pt(t,&quot;leaflet-tile&quot;);var i=this.getTileSize();t.style.width=i.x+&quot;px&quot;,t.style.height=i.y+&quot;px&quot;,t.onselectstart=r,t.onmousemove=r,Li&amp;&amp;this.options.opacity&lt;1&amp;&amp;vt(t,this.options.opacity),Ti&amp;&amp;!zi&amp;&amp;(t.style.WebkitBackfaceVisibility=&quot;hidden&quot;)},_addTile:function(t,i){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),e(this._tileReady,this,t));this._initTile(s),this.createTile.length&lt;2&amp;&amp;f(e(this._tileReady,this,t,null,s)),Lt(s,n),this._tiles[o]={el:s,coords:t,current:!0},i.appendChild(s),this.fire(&quot;tileloadstart&quot;,{tile:s,coords:t})},_tileReady:function(t,i,n){if(this._map){i&amp;&amp;this.fire(&quot;tileerror&quot;,{error:i,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&amp;&amp;(n.loaded=+new Date,this._map._fadeAnimated?(vt(n.el,0),g(this._fadeFrame),this._fadeFrame=f(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),i||(pt(n.el,&quot;leaflet-tile-loaded&quot;),this.fire(&quot;tileload&quot;,{tile:n.el,coords:t})),this._noTilesToLoad()&amp;&amp;(this._loading=!1,this.fire(&quot;load&quot;),Li||!this._map._fadeAnimated?f(this._pruneTiles,this):setTimeout(e(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new x(this._wrapX?s(t.x,this._wrapX):t.x,this._wrapY?s(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new P(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),dn=_n.extend({options:{minZoom:0,maxZoom:18,subdomains:&quot;abc&quot;,errorTileUrl:&quot;&quot;,zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,i){this._url=t,(i=l(this,i)).detectRetina&amp;&amp;Ki&amp;&amp;i.maxZoom&gt;0&amp;&amp;(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom++):(i.zoomOffset++,i.maxZoom--),i.minZoom=Math.max(0,i.minZoom)),&quot;string&quot;==typeof i.subdomains&amp;&amp;(i.subdomains=i.subdomains.split(&quot;&quot;)),Ti||this.on(&quot;tileunload&quot;,this._onTileRemove)},setUrl:function(t,i){return this._url=t,i||this.redraw(),this},createTile:function(t,i){var n=document.createElement(&quot;img&quot;);return V(n,&quot;load&quot;,e(this._tileOnLoad,this,i,n)),V(n,&quot;error&quot;,e(this._tileOnError,this,i,n)),this.options.crossOrigin&amp;&amp;(n.crossOrigin=&quot;&quot;),n.alt=&quot;&quot;,n.setAttribute(&quot;role&quot;,&quot;presentation&quot;),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Ki?&quot;@2x&quot;:&quot;&quot;,s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&amp;&amp;!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&amp;&amp;(e.y=n),e[&quot;-y&quot;]=n}return _(this._url,i(e,this.options))},_tileOnLoad:function(t,i){Li?setTimeout(e(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,e){var n=this.options.errorTileUrl;n&amp;&amp;i.getAttribute(&quot;src&quot;)!==n&amp;&amp;(i.src=n),t(e,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,e=this.options.zoomReverse,n=this.options.zoomOffset;return e&amp;&amp;(t=i-t),t+n},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&amp;&amp;((i=this._tiles[t].el).onload=r,i.onerror=r,i.complete||(i.src=ni,ut(i),delete this._tiles[t]))}}),pn=dn.extend({defaultWmsParams:{service:&quot;WMS&quot;,request:&quot;GetMap&quot;,layers:&quot;&quot;,styles:&quot;&quot;,format:&quot;image/jpeg&quot;,transparent:!1,version:&quot;1.1.1&quot;},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=i({},this.defaultWmsParams);for(var o in e)o in this.options||(n[o]=e[o]);var s=(e=l(this,e)).detectRetina&amp;&amp;Ki?2:1,r=this.getTileSize();n.width=r.x*s,n.height=r.y*s,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion&gt;=1.3?&quot;crs&quot;:&quot;srs&quot;;this.wmsParams[i]=this._crs.code,dn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),e=this._crs,n=b(e.project(i[0]),e.project(i[1])),o=n.min,s=n.max,r=(this._wmsVersion&gt;=1.3&amp;&amp;this._crs===He?[o.y,o.x,s.y,s.x]:[o.x,o.y,s.x,s.y]).join(&quot;,&quot;),a=L.TileLayer.prototype.getTileUrl.call(this,t);return a+c(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?&quot;&amp;BBOX=&quot;:&quot;&amp;bbox=&quot;)+r},setParams:function(t,e){return i(this.wmsParams,t),e||this.redraw(),this}});dn.WMS=pn,Yt.wms=function(t,i){return new pn(t,i)};var mn=Ue.extend({options:{padding:.1,tolerance:0},initialize:function(t){l(this,t),n(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&amp;&amp;pt(this._container,&quot;leaflet-zoom-animated&quot;)),this.getPane().appendChild(this._container),this._update(),this.on(&quot;update&quot;,this._updatePaths,this)},onRemove:function(){this.off(&quot;update&quot;,this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&amp;&amp;(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var e=this._map.getZoomScale(i,this._zoom),n=Pt(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,i),r=this._map.project(t,i).subtract(s),a=o.multiplyBy(-e).add(n).add(o).subtract(r);Ni?wt(this._container,a,e):Lt(this._container,a)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),e=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new P(e,e.add(i.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fn=mn.extend({getEvents:function(){var t=mn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement(&quot;canvas&quot;);V(t,&quot;mousemove&quot;,o(this._onMouseMove,32,this),this),V(t,&quot;click dblclick mousedown mouseup contextmenu&quot;,this._onClick,this),V(t,&quot;mouseout&quot;,this._handleMouseOut,this),this._ctx=t.getContext(&quot;2d&quot;)},_destroyContainer:function(){delete this._ctx,ut(this._container),q(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var t in this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},mn.prototype._update.call(this);var t=this._bounds,i=this._container,e=t.getSize(),n=Ki?2:1;Lt(i,t.min),i.width=n*e.x,i.height=n*e.y,i.style.width=e.x+&quot;px&quot;,i.style.height=e.y+&quot;px&quot;,Ki&amp;&amp;this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire(&quot;update&quot;)}},_reset:function(){mn.prototype._reset.call(this),this._postponeUpdatePaths&amp;&amp;(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[n(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&amp;&amp;(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,e=i.next,n=i.prev;e?e.prev=n:this._drawLast=n,n?n.next=e:this._drawFirst=e,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var i,e=t.options.dashArray.split(&quot;,&quot;),n=[];for(i=0;i&lt;e.length;i++)n.push(Number(e[i]));t.options._dashArray=n}},_requestRedraw:function(t){this._map&amp;&amp;(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||f(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new P,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&amp;&amp;(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var e=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,e.x,e.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!i||t._pxBounds&amp;&amp;t._pxBounds.intersects(i))&amp;&amp;t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var e,n,o,s,r=t._parts,a=r.length,h=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,h.beginPath(),e=0;e&lt;a;e++){for(n=0,o=r[e].length;n&lt;o;n++)s=r[e][n],h[n?&quot;lineTo&quot;:&quot;moveTo&quot;](s.x,s.y);i&amp;&amp;h.closePath()}this._fillStroke(h,t)}}},_updateCircle:function(t){if(this._drawing&amp;&amp;!t._empty()){var i=t._point,e=this._ctx,n=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||n)/n;this._drawnLayers[t._leaflet_id]=t,1!==o&amp;&amp;(e.save(),e.scale(1,o)),e.beginPath(),e.arc(i.x,i.y/o,n,0,2*Math.PI,!1),1!==o&amp;&amp;e.restore(),this._fillStroke(e,t)}},_fillStroke:function(t,i){var e=i.options;e.fill&amp;&amp;(t.globalAlpha=e.fillOpacity,t.fillStyle=e.fillColor||e.color,t.fill(e.fillRule||&quot;evenodd&quot;)),e.stroke&amp;&amp;0!==e.weight&amp;&amp;(t.setLineDash&amp;&amp;t.setLineDash(i.options&amp;&amp;i.options._dashArray||[]),t.globalAlpha=e.opacity,t.lineWidth=e.weight,t.strokeStyle=e.color,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.stroke())},_onClick:function(t){for(var i,e,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&amp;&amp;i._containsPoint(n)&amp;&amp;!this._map._draggableMoved(i)&amp;&amp;(e=i);e&amp;&amp;(et(t),this._fireEvent([e],t))},_onMouseMove:function(t){if(this._map&amp;&amp;!this._map.dragging.moving()&amp;&amp;!this._map._animatingZoom){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&amp;&amp;(mt(this._container,&quot;leaflet-interactive&quot;),this._fireEvent([i],t,&quot;mouseout&quot;),this._hoveredLayer=null)},_handleMouseHover:function(t,i){for(var e,n,o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&amp;&amp;e._containsPoint(i)&amp;&amp;(n=e);n!==this._hoveredLayer&amp;&amp;(this._handleMouseOut(t),n&amp;&amp;(pt(this._container,&quot;leaflet-interactive&quot;),this._fireEvent([n],t,&quot;mouseover&quot;),this._hoveredLayer=n)),this._hoveredLayer&amp;&amp;this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,i,e){this._map._fireDOMEvent(i,e||i.type,t)},_bringToFront:function(t){var i=t._order,e=i.next,n=i.prev;e&amp;&amp;(e.prev=n,n?n.next=e:e&amp;&amp;(this._drawFirst=e),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t))},_bringToBack:function(t){var i=t._order,e=i.next,n=i.prev;n&amp;&amp;(n.next=e,e?e.prev=n:n&amp;&amp;(this._drawLast=n),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t))}}),gn=function(){try{return document.namespaces.add(&quot;lvml&quot;,&quot;urn:schemas-microsoft-com:vml&quot;),function(t){return document.createElement(&quot;&lt;lvml:&quot;+t+' class=&quot;lvml&quot;&gt;')}}catch(t){return function(t){return document.createElement(&quot;&lt;&quot;+t+' xmlns=&quot;urn:schemas-microsoft.com:vml&quot; class=&quot;lvml&quot;&gt;')}}}(),vn={_initContainer:function(){this._container=ht(&quot;div&quot;,&quot;leaflet-vml-container&quot;)},_update:function(){this._map._animatingZoom||(mn.prototype._update.call(this),this.fire(&quot;update&quot;))},_initPath:function(t){var i=t._container=gn(&quot;shape&quot;);pt(i,&quot;leaflet-vml-shape &quot;+(this.options.className||&quot;&quot;)),i.coordsize=&quot;1 1&quot;,t._path=gn(&quot;path&quot;),i.appendChild(t._path),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&amp;&amp;t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;ut(i),t.removeInteractiveTarget(i),delete this._layers[n(t)]},_updateStyle:function(t){var i=t._stroke,e=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(i||(i=t._stroke=gn(&quot;stroke&quot;)),o.appendChild(i),i.weight=n.weight+&quot;px&quot;,i.color=n.color,i.opacity=n.opacity,n.dashArray?i.dashStyle=ei(n.dashArray)?n.dashArray.join(&quot; &quot;):n.dashArray.replace(/( *, *)/g,&quot; &quot;):i.dashStyle=&quot;&quot;,i.endcap=n.lineCap.replace(&quot;butt&quot;,&quot;flat&quot;),i.joinstyle=n.lineJoin):i&amp;&amp;(o.removeChild(i),t._stroke=null),n.fill?(e||(e=t._fill=gn(&quot;fill&quot;)),o.appendChild(e),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&amp;&amp;(o.removeChild(e),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),e=Math.round(t._radius),n=Math.round(t._radiusY||e);this._setPath(t,t._empty()?&quot;M0 0&quot;:&quot;AL &quot;+i.x+&quot;,&quot;+i.y+&quot; &quot;+e+&quot;,&quot;+n+&quot; 0,23592600&quot;)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){ct(t._container)},_bringToBack:function(t){_t(t._container)}},yn=Ji?gn:E,xn=mn.extend({getEvents:function(){var t=mn.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=yn(&quot;svg&quot;),this._container.setAttribute(&quot;pointer-events&quot;,&quot;none&quot;),this._rootGroup=yn(&quot;g&quot;),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),q(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){mn.prototype._update.call(this);var t=this._bounds,i=t.getSize(),e=this._container;this._svgSize&amp;&amp;this._svgSize.equals(i)||(this._svgSize=i,e.setAttribute(&quot;width&quot;,i.x),e.setAttribute(&quot;height&quot;,i.y)),Lt(e,t.min),e.setAttribute(&quot;viewBox&quot;,[t.min.x,t.min.y,i.x,i.y].join(&quot; &quot;)),this.fire(&quot;update&quot;)}},_initPath:function(t){var i=t._path=yn(&quot;path&quot;);t.options.className&amp;&amp;pt(i,t.options.className),t.options.interactive&amp;&amp;pt(i,&quot;leaflet-interactive&quot;),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ut(t._path),t.removeInteractiveTarget(t._path),delete this._layers[n(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,e=t.options;i&amp;&amp;(e.stroke?(i.setAttribute(&quot;stroke&quot;,e.color),i.setAttribute(&quot;stroke-opacity&quot;,e.opacity),i.setAttribute(&quot;stroke-width&quot;,e.weight),i.setAttribute(&quot;stroke-linecap&quot;,e.lineCap),i.setAttribute(&quot;stroke-linejoin&quot;,e.lineJoin),e.dashArray?i.setAttribute(&quot;stroke-dasharray&quot;,e.dashArray):i.removeAttribute(&quot;stroke-dasharray&quot;),e.dashOffset?i.setAttribute(&quot;stroke-dashoffset&quot;,e.dashOffset):i.removeAttribute(&quot;stroke-dashoffset&quot;)):i.setAttribute(&quot;stroke&quot;,&quot;none&quot;),e.fill?(i.setAttribute(&quot;fill&quot;,e.fillColor||e.color),i.setAttribute(&quot;fill-opacity&quot;,e.fillOpacity),i.setAttribute(&quot;fill-rule&quot;,e.fillRule||&quot;evenodd&quot;)):i.setAttribute(&quot;fill&quot;,&quot;none&quot;))},_updatePoly:function(t,i){this._setPath(t,k(t._parts,i))},_updateCircle:function(t){var i=t._point,e=Math.max(Math.round(t._radius),1),n=&quot;a&quot;+e+&quot;,&quot;+(Math.max(Math.round(t._radiusY),1)||e)+&quot; 0 1,0 &quot;,o=t._empty()?&quot;M0 0&quot;:&quot;M&quot;+(i.x-e)+&quot;,&quot;+i.y+n+2*e+&quot;,0 &quot;+n+2*-e+&quot;,0 &quot;;this._setPath(t,o)},_setPath:function(t,i){t._path.setAttribute(&quot;d&quot;,i)},_bringToFront:function(t){ct(t._path)},_bringToBack:function(t){_t(t._path)}});Ji&amp;&amp;xn.include(vn),Le.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this.options.preferCanvas&amp;&amp;Xt()||Jt()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(&quot;overlayPane&quot;===t||void 0===t)return!1;var i=this._paneRenderers[t];return void 0===i&amp;&amp;(i=xn&amp;&amp;Jt({pane:t})||fn&amp;&amp;Xt({pane:t}),this._paneRenderers[t]=i),i}});var wn=en.extend({initialize:function(t,i){en.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=z(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});xn.create=yn,xn.pointsToPath=k,nn.geometryToLayer=Wt,nn.coordsToLatLng=Ht,nn.coordsToLatLngs=Ft,nn.latLngToCoords=Ut,nn.latLngsToCoords=Vt,nn.getFeature=qt,nn.asFeature=Gt,Le.mergeOptions({boxZoom:!0});var Ln=Ze.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on(&quot;unload&quot;,this._destroy,this)},addHooks:function(){V(this._container,&quot;mousedown&quot;,this._onMouseDown,this)},removeHooks:function(){q(this._container,&quot;mousedown&quot;,this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&amp;&amp;(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&amp;&amp;1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),mi(),bt(),this._startPoint=this._map.mouseEventToContainerPoint(t),V(document,{contextmenu:Q,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ht(&quot;div&quot;,&quot;leaflet-zoom-box&quot;,this._container),pt(this._container,&quot;leaflet-crosshair&quot;),this._map.fire(&quot;boxzoomstart&quot;)),this._point=this._map.mouseEventToContainerPoint(t);var i=new P(this._point,this._startPoint),e=i.getSize();Lt(this._box,i.min),this._box.style.width=e.x+&quot;px&quot;,this._box.style.height=e.y+&quot;px&quot;},_finish:function(){this._moved&amp;&amp;(ut(this._box),mt(this._container,&quot;leaflet-crosshair&quot;)),fi(),Tt(),q(document,{contextmenu:Q,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&amp;&amp;(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(e(this._resetState,this),0);var i=new T(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire(&quot;boxzoomend&quot;,{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&amp;&amp;this._finish()}});Le.addInitHook(&quot;addHandler&quot;,&quot;boxZoom&quot;,Ln),Le.mergeOptions({doubleClickZoom:!0});var Pn=Ze.extend({addHooks:function(){this._map.on(&quot;dblclick&quot;,this._onDoubleClick,this)},removeHooks:function(){this._map.off(&quot;dblclick&quot;,this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,e=i.getZoom(),n=i.options.zoomDelta,o=t.originalEvent.shiftKey?e-n:e+n;&quot;center&quot;===i.options.doubleClickZoom?i.setZoom(o):i.setZoomAround(t.containerPoint,o)}});Le.addInitHook(&quot;addHandler&quot;,&quot;doubleClickZoom&quot;,Pn),Le.mergeOptions({dragging:!0,inertia:!zi,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var bn=Ze.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Be(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on(&quot;predrag&quot;,this._onPreDragLimit,this),t.options.worldCopyJump&amp;&amp;(this._draggable.on(&quot;predrag&quot;,this._onPreDragWrap,this),t.on(&quot;zoomend&quot;,this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}pt(this._map._container,&quot;leaflet-grab leaflet-touch-drag&quot;),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,&quot;leaflet-grab&quot;),mt(this._map._container,&quot;leaflet-touch-drag&quot;),this._draggable.disable()},moved:function(){return this._draggable&amp;&amp;this._draggable._moved},moving:function(){return this._draggable&amp;&amp;this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&amp;&amp;this._map.options.maxBoundsViscosity){var i=z(this._map.options.maxBounds);this._offsetLimit=b(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire(&quot;movestart&quot;).fire(&quot;dragstart&quot;),t.options.inertia&amp;&amp;(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,e=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(e),this._times.push(i),this._prunePositions(i)}this._map.fire(&quot;move&quot;,t).fire(&quot;drag&quot;,t)},_prunePositions:function(t){for(;this._positions.length&gt;1&amp;&amp;t-this._times[0]&gt;50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&amp;&amp;this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x&lt;i.min.x&amp;&amp;(t.x=this._viscousLimit(t.x,i.min.x)),t.y&lt;i.min.y&amp;&amp;(t.y=this._viscousLimit(t.y,i.min.y)),t.x&gt;i.max.x&amp;&amp;(t.x=this._viscousLimit(t.x,i.max.x)),t.y&gt;i.max.y&amp;&amp;(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),e=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-i+e)%t+i-e,s=(n+i+e)%t-i-e,r=Math.abs(o+e)&lt;Math.abs(s+e)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(t){var i=this._map,e=i.options,n=!e.inertia||this._times.length&lt;2;if(i.fire(&quot;dragend&quot;,t),n)i.fire(&quot;moveend&quot;);else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,r=e.easeLinearity,a=o.multiplyBy(r/s),h=a.distanceTo([0,0]),u=Math.min(e.inertiaMaxSpeed,h),l=a.multiplyBy(u/h),c=u/(e.inertiaDeceleration*r),_=l.multiplyBy(-c/2).round();_.x||_.y?(_=i._limitOffset(_,i.options.maxBounds),f(function(){i.panBy(_,{duration:c,easeLinearity:r,noMoveStart:!0,animate:!0})})):i.fire(&quot;moveend&quot;)}}});Le.addInitHook(&quot;addHandler&quot;,&quot;dragging&quot;,bn),Le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Tn=Ze.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex&lt;=0&amp;&amp;(t.tabIndex=&quot;0&quot;),V(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),q(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,e=t.scrollTop||i.scrollTop,n=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(n,e)}},_onFocus:function(){this._focused=!0,this._map.fire(&quot;focus&quot;)},_onBlur:function(){this._focused=!1,this._map.fire(&quot;blur&quot;)},_setPanDelta:function(t){var i,e,n=this._panKeys={},o=this.keyCodes;for(i=0,e=o.left.length;i&lt;e;i++)n[o.left[i]]=[-1*t,0];for(i=0,e=o.right.length;i&lt;e;i++)n[o.right[i]]=[t,0];for(i=0,e=o.down.length;i&lt;e;i++)n[o.down[i]]=[0,t];for(i=0,e=o.up.length;i&lt;e;i++)n[o.up[i]]=[0,-1*t]},_setZoomDelta:function(t){var i,e,n=this._zoomKeys={},o=this.keyCodes;for(i=0,e=o.zoomIn.length;i&lt;e;i++)n[o.zoomIn[i]]=t;for(i=0,e=o.zoomOut.length;i&lt;e;i++)n[o.zoomOut[i]]=-t},_addHooks:function(){V(document,&quot;keydown&quot;,this._onKeyDown,this)},_removeHooks:function(){q(document,&quot;keydown&quot;,this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i,e=t.keyCode,n=this._map;if(e in this._panKeys){if(n._panAnim&amp;&amp;n._panAnim._inProgress)return;i=this._panKeys[e],t.shiftKey&amp;&amp;(i=w(i).multiplyBy(3)),n.panBy(i),n.options.maxBounds&amp;&amp;n.panInsideBounds(n.options.maxBounds)}else if(e in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else{if(27!==e||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}Q(t)}}});Le.addInitHook(&quot;addHandler&quot;,&quot;keyboard&quot;,Tn),Le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zn=Ze.extend({addHooks:function(){V(this._map._container,&quot;mousewheel&quot;,this._onWheelScroll,this),this._delta=0},removeHooks:function(){q(this._map._container,&quot;mousewheel&quot;,this._onWheelScroll,this)},_onWheelScroll:function(t){var i=it(t),n=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(e(this._performZoom,this),o),Q(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),e=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,s=e?Math.ceil(o/e)*e:o,r=t._limitZoom(i+(this._delta&gt;0?s:-s))-i;this._delta=0,this._startTime=null,r&amp;&amp;(&quot;center&quot;===t.options.scrollWheelZoom?t.setZoom(i+r):t.setZoomAround(this._lastMousePos,i+r))}});Le.addInitHook(&quot;addHandler&quot;,&quot;scrollWheelZoom&quot;,zn),Le.mergeOptions({tap:!0,tapTolerance:15});var Mn=Ze.extend({addHooks:function(){V(this._map._container,&quot;touchstart&quot;,this._onDown,this)},removeHooks:function(){q(this._map._container,&quot;touchstart&quot;,this._onDown,this)},_onDown:function(t){if(t.touches){if($(t),this._fireClick=!0,t.touches.length&gt;1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],n=i.target;this._startPos=this._newPos=new x(i.clientX,i.clientY),n.tagName&amp;&amp;&quot;a&quot;===n.tagName.toLowerCase()&amp;&amp;pt(n,&quot;leaflet-active&quot;),this._holdTimeout=setTimeout(e(function(){this._isTapValid()&amp;&amp;(this._fireClick=!1,this._onUp(),this._simulateEvent(&quot;contextmenu&quot;,i))},this),1e3),this._simulateEvent(&quot;mousedown&quot;,i),V(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),q(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&amp;&amp;t&amp;&amp;t.changedTouches){var i=t.changedTouches[0],e=i.target;e&amp;&amp;e.tagName&amp;&amp;&quot;a&quot;===e.tagName.toLowerCase()&amp;&amp;mt(e,&quot;leaflet-active&quot;),this._simulateEvent(&quot;mouseup&quot;,i),this._isTapValid()&amp;&amp;this._simulateEvent(&quot;click&quot;,i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)&lt;=this._map.options.tapTolerance},_onMove:function(t){var i=t.touches[0];this._newPos=new x(i.clientX,i.clientY),this._simulateEvent(&quot;mousemove&quot;,i)},_simulateEvent:function(t,i){var e=document.createEvent(&quot;MouseEvents&quot;);e._simulated=!0,i.target._simulatedClick=!0,e.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(e)}});Vi&amp;&amp;!Ui&amp;&amp;Le.addInitHook(&quot;addHandler&quot;,&quot;tap&quot;,Mn),Le.mergeOptions({touchZoom:Vi&amp;&amp;!zi,bounceAtZoomLimits:!0});var Cn=Ze.extend({addHooks:function(){pt(this._map._container,&quot;leaflet-touch-zoom&quot;),V(this._map._container,&quot;touchstart&quot;,this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,&quot;leaflet-touch-zoom&quot;),q(this._map._container,&quot;touchstart&quot;,this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(t.touches&amp;&amp;2===t.touches.length&amp;&amp;!i._animatingZoom&amp;&amp;!this._zooming){var e=i.mouseEventToContainerPoint(t.touches[0]),n=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),&quot;center&quot;!==i.options.touchZoom&amp;&amp;(this._pinchStartLatLng=i.containerPointToLatLng(e.add(n)._divideBy(2))),this._startDist=e.distanceTo(n),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),V(document,&quot;touchmove&quot;,this._onTouchMove,this),V(document,&quot;touchend&quot;,this._onTouchEnd,this),$(t)}},_onTouchMove:function(t){if(t.touches&amp;&amp;2===t.touches.length&amp;&amp;this._zooming){var i=this._map,n=i.mouseEventToContainerPoint(t.touches[0]),o=i.mouseEventToContainerPoint(t.touches[1]),s=n.distanceTo(o)/this._startDist;if(this._zoom=i.getScaleZoom(s,this._startZoom),!i.options.bounceAtZoomLimits&amp;&amp;(this._zoom&lt;i.getMinZoom()&amp;&amp;s&lt;1||this._zoom&gt;i.getMaxZoom()&amp;&amp;s&gt;1)&amp;&amp;(this._zoom=i._limitZoom(this._zoom)),&quot;center&quot;===i.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var r=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===s&amp;&amp;0===r.x&amp;&amp;0===r.y)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),g(this._animRequest);var a=e(i._move,i,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=f(a,this,!0),$(t)}},_onTouchEnd:function(){this._moved&amp;&amp;this._zooming?(this._zooming=!1,g(this._animRequest),q(document,&quot;touchmove&quot;,this._onTouchMove),q(document,&quot;touchend&quot;,this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Le.addInitHook(&quot;addHandler&quot;,&quot;touchZoom&quot;,Cn),Le.BoxZoom=Ln,Le.DoubleClickZoom=Pn,Le.Drag=bn,Le.Keyboard=Tn,Le.ScrollWheelZoom=zn,Le.Tap=Mn,Le.TouchZoom=Cn;var Zn=window.L;window.L=t,Object.freeze=$t,t.version=&quot;1.3.1+HEAD.ba6f97f&quot;,t.noConflict=function(){return window.L=Zn,this},t.Control=Pe,t.control=be,t.Browser=$i,t.Evented=ui,t.Mixin=Ee,t.Util=ai,t.Class=v,t.Handler=Ze,t.extend=i,t.bind=e,t.stamp=n,t.setOptions=l,t.DomEvent=de,t.DomUtil=xe,t.PosAnimation=we,t.Draggable=Be,t.LineUtil=Oe,t.PolyUtil=Re,t.Point=x,t.point=w,t.Bounds=P,t.bounds=b,t.Transformation=Z,t.transformation=S,t.Projection=je,t.LatLng=M,t.latLng=C,t.LatLngBounds=T,t.latLngBounds=z,t.CRS=ci,t.GeoJSON=nn,t.geoJSON=Kt,t.geoJson=sn,t.Layer=Ue,t.LayerGroup=Ve,t.layerGroup=function(t,i){return new Ve(t,i)},t.FeatureGroup=qe,t.featureGroup=function(t){return new qe(t)},t.ImageOverlay=rn,t.imageOverlay=function(t,i,e){return new rn(t,i,e)},t.VideoOverlay=an,t.videoOverlay=function(t,i,e){return new an(t,i,e)},t.DivOverlay=hn,t.Popup=un,t.popup=function(t,i){return new un(t,i)},t.Tooltip=ln,t.tooltip=function(t,i){return new ln(t,i)},t.Icon=Ge,t.icon=function(t){return new Ge(t)},t.DivIcon=cn,t.divIcon=function(t){return new cn(t)},t.Marker=Xe,t.marker=function(t,i){return new Xe(t,i)},t.TileLayer=dn,t.tileLayer=Yt,t.GridLayer=_n,t.gridLayer=function(t){return new _n(t)},t.SVG=xn,t.svg=Jt,t.Renderer=mn,t.Canvas=fn,t.canvas=Xt,t.Path=Je,t.CircleMarker=$e,t.circleMarker=function(t,i){return new $e(t,i)},t.Circle=Qe,t.circle=function(t,i,e){return new Qe(t,i,e)},t.Polyline=tn,t.polyline=function(t,i){return new tn(t,i)},t.Polygon=en,t.polygon=function(t,i){return new en(t,i)},t.Rectangle=wn,t.rectangle=function(t,i){return new wn(t,i)},t.Map=Le,t.map=function(t,i){return new Le(t,i)}});&lt;/script&gt;
&lt;style type=&quot;text/css&quot;&gt;
img.leaflet-tile {
padding: 0;
margin: 0;
border-radius: 0;
border: none;
}
.info {
padding: 6px 8px;
font: 14px/16px Arial, Helvetica, sans-serif;
background: white;
background: rgba(255,255,255,0.8);
box-shadow: 0 0 15px rgba(0,0,0,0.2);
border-radius: 5px;
}
.legend {
line-height: 18px;
color: #555;
}
.legend svg text {
fill: #555;
}
.legend svg line {
stroke: #555;
}
.legend i {
width: 18px;
height: 18px;
margin-right: 4px;
opacity: 0.7;
display: inline-block;
vertical-align: top;

zoom: 1;
*display: inline;
}
&lt;/style&gt;
&lt;script&gt;!function(a){if(&quot;object&quot;==typeof exports)module.exports=a();else if(&quot;function&quot;==typeof define&amp;&amp;define.amd)define(a);else{var b;&quot;undefined&quot;!=typeof window?b=window:&quot;undefined&quot;!=typeof global?b=global:&quot;undefined&quot;!=typeof self&amp;&amp;(b=self),b.proj4=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=&quot;function&quot;==typeof require&amp;&amp;require;if(!h&amp;&amp;i)return i(g,!0);if(f)return f(g,!0);throw new Error(&quot;Cannot find module '&quot;+g+&quot;'&quot;)}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f=&quot;function&quot;==typeof require&amp;&amp;require,g=0;g&lt;d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function Point(a,b,c){if(!(this instanceof Point))return new Point(a,b,c);if(Array.isArray(a))this.x=a[0],this.y=a[1],this.z=a[2]||0;else if(&quot;object&quot;==typeof a)this.x=a.x,this.y=a.y,this.z=a.z||0;else if(&quot;string&quot;==typeof a&amp;&amp;&quot;undefined&quot;==typeof b){var d=a.split(&quot;,&quot;);this.x=parseFloat(d[0],10),this.y=parseFloat(d[1],10),this.z=parseFloat(d[2],10)||0}else this.x=a,this.y=b,this.z=c||0;console.warn(&quot;proj4.Point will be removed in version 3, use proj4.toPoint&quot;)}var d=a(&quot;mgrs&quot;);Point.fromMGRS=function(a){return new Point(d.toPoint(a))},Point.prototype.toMGRS=function(a){return d.forward([this.x,this.y],a)},b.exports=Point},{mgrs:67}],2:[function(a,b,c){function Projection(a,b){if(!(this instanceof Projection))return new Projection(a);b=b||function(a){if(a)throw a};var c=d(a);if(&quot;object&quot;!=typeof c)return void b(a);var f=g(c),h=Projection.projections.get(f.projName);h?(e(this,f),e(this,h),this.init(),b(null,this)):b(a)}var d=a(&quot;./parseCode&quot;),e=a(&quot;./extend&quot;),f=a(&quot;./projections&quot;),g=a(&quot;./deriveConstants&quot;);Projection.projections=f,Projection.projections.start(),b.exports=Projection},{&quot;./deriveConstants&quot;:33,&quot;./extend&quot;:34,&quot;./parseCode&quot;:37,&quot;./projections&quot;:39}],3:[function(a,b,c){b.exports=function(a,b,c){var d,e,f,g=c.x,h=c.y,i=c.z||0;for(f=0;3&gt;f;f++)if(!b||2!==f||void 0!==c.z)switch(0===f?(d=g,e=&quot;x&quot;):1===f?(d=h,e=&quot;y&quot;):(d=i,e=&quot;z&quot;),a.axis[f]){case&quot;e&quot;:c[e]=d;break;case&quot;w&quot;:c[e]=-d;break;case&quot;n&quot;:c[e]=d;break;case&quot;s&quot;:c[e]=-d;break;case&quot;u&quot;:void 0!==c[e]&amp;&amp;(c.z=d);break;case&quot;d&quot;:void 0!==c[e]&amp;&amp;(c.z=-d);break;default:return null}return c}},{}],4:[function(a,b,c){var d=Math.PI/2,e=a(&quot;./sign&quot;);b.exports=function(a){return Math.abs(a)&lt;d?a:a-e(a)*Math.PI}},{&quot;./sign&quot;:21}],5:[function(a,b,c){var d=2*Math.PI,e=3.14159265359,f=a(&quot;./sign&quot;);b.exports=function(a){return Math.abs(a)&lt;=e?a:a-f(a)*d}},{&quot;./sign&quot;:21}],6:[function(a,b,c){b.exports=function(a){return Math.abs(a)&gt;1&amp;&amp;(a=a&gt;1?1:-1),Math.asin(a)}},{}],7:[function(a,b,c){b.exports=function(a){return 1-.25*a*(1+a/16*(3+1.25*a))}},{}],8:[function(a,b,c){b.exports=function(a){return.375*a*(1+.25*a*(1+.46875*a))}},{}],9:[function(a,b,c){b.exports=function(a){return.05859375*a*a*(1+.75*a)}},{}],10:[function(a,b,c){b.exports=function(a){return a*a*a*(35/3072)}},{}],11:[function(a,b,c){b.exports=function(a,b,c){var d=b*c;return a/Math.sqrt(1-d*d)}},{}],12:[function(a,b,c){b.exports=function(a,b,c,d,e){var f,g;f=a/b;for(var h=0;15&gt;h;h++)if(g=(a-(b*f-c*Math.sin(2*f)+d*Math.sin(4*f)-e*Math.sin(6*f)))/(b-2*c*Math.cos(2*f)+4*d*Math.cos(4*f)-6*e*Math.cos(6*f)),f+=g,Math.abs(g)&lt;=1e-10)return f;return NaN}},{}],13:[function(a,b,c){var d=Math.PI/2;b.exports=function(a,b){var c=1-(1-a*a)/(2*a)*Math.log((1-a)/(1+a));if(Math.abs(Math.abs(b)-c)&lt;1e-6)return 0&gt;b?-1*d:d;for(var e,f,g,h,i=Math.asin(.5*b),j=0;30&gt;j;j++)if(f=Math.sin(i),g=Math.cos(i),h=a*f,e=Math.pow(1-h*h,2)/(2*g)*(b/(1-a*a)-f/(1-h*h)+.5/a*Math.log((1-h)/(1+h))),i+=e,Math.abs(e)&lt;=1e-10)return i;return NaN}},{}],14:[function(a,b,c){b.exports=function(a,b,c,d,e){return a*e-b*Math.sin(2*e)+c*Math.sin(4*e)-d*Math.sin(6*e)}},{}],15:[function(a,b,c){b.exports=function(a,b,c){var d=a*b;return c/Math.sqrt(1-d*d)}},{}],16:[function(a,b,c){var d=Math.PI/2;b.exports=function(a,b){for(var c,e,f=.5*a,g=d-2*Math.atan(b),h=0;15&gt;=h;h++)if(c=a*Math.sin(g),e=d-2*Math.atan(b*Math.pow((1-c)/(1+c),f))-g,g+=e,Math.abs(e)&lt;=1e-10)return g;return-9999}},{}],17:[function(a,b,c){var d=1,e=.25,f=.046875,g=.01953125,h=.01068115234375,i=.75,j=.46875,k=.013020833333333334,l=.007120768229166667,m=.3645833333333333,n=.005696614583333333,o=.3076171875;b.exports=function(a){var b=[];b[0]=d-a*(e+a*(f+a*(g+a*h))),b[1]=a*(i-a*(f+a*(g+a*h)));var c=a*a;return b[2]=c*(j-a*(k+a*l)),c*=a,b[3]=c*(m-a*n),b[4]=c*a*o,b}},{}],18:[function(a,b,c){var d=a(&quot;./pj_mlfn&quot;),e=1e-10,f=20;b.exports=function(a,b,c){for(var g=1/(1-b),h=a,i=f;i;--i){var j=Math.sin(h),k=1-b*j*j;if(k=(d(h,j,Math.cos(h),c)-a)*(k*Math.sqrt(k))*g,h-=k,Math.abs(k)&lt;e)return h}return h}},{&quot;./pj_mlfn&quot;:19}],19:[function(a,b,c){b.exports=function(a,b,c,d){return c*=b,b*=b,d[0]*a-c*(d[1]+b*(d[2]+b*(d[3]+b*d[4])))}},{}],20:[function(a,b,c){b.exports=function(a,b){var c;return a&gt;1e-7?(c=a*b,(1-a*a)*(b/(1-c*c)-.5/a*Math.log((1-c)/(1+c)))):2*b}},{}],21:[function(a,b,c){b.exports=function(a){return 0&gt;a?-1:1}},{}],22:[function(a,b,c){b.exports=function(a,b){return Math.pow((1-a)/(1+a),b)}},{}],23:[function(a,b,c){b.exports=function(a){var b={x:a[0],y:a[1]};return a.length&gt;2&amp;&amp;(b.z=a[2]),a.length&gt;3&amp;&amp;(b.m=a[3]),b}},{}],24:[function(a,b,c){var d=Math.PI/2;b.exports=function(a,b,c){var e=a*c,f=.5*a;return e=Math.pow((1-e)/(1+e),f),Math.tan(.5*(d-b))/e}},{}],25:[function(a,b,c){c.wgs84={towgs84:&quot;0,0,0&quot;,ellipse:&quot;WGS84&quot;,datumName:&quot;WGS84&quot;},c.ch1903={towgs84:&quot;674.374,15.056,405.346&quot;,ellipse:&quot;bessel&quot;,datumName:&quot;swiss&quot;},c.ggrs87={towgs84:&quot;-199.87,74.79,246.62&quot;,ellipse:&quot;GRS80&quot;,datumName:&quot;Greek_Geodetic_Reference_System_1987&quot;},c.nad83={towgs84:&quot;0,0,0&quot;,ellipse:&quot;GRS80&quot;,datumName:&quot;North_American_Datum_1983&quot;},c.nad27={nadgrids:&quot;@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat&quot;,ellipse:&quot;clrk66&quot;,datumName:&quot;North_American_Datum_1927&quot;},c.potsdam={towgs84:&quot;606.0,23.0,413.0&quot;,ellipse:&quot;bessel&quot;,datumName:&quot;Potsdam Rauenberg 1950 DHDN&quot;},c.carthage={towgs84:&quot;-263.0,6.0,431.0&quot;,ellipse:&quot;clark80&quot;,datumName:&quot;Carthage 1934 Tunisia&quot;},c.hermannskogel={towgs84:&quot;653.0,-212.0,449.0&quot;,ellipse:&quot;bessel&quot;,datumName:&quot;Hermannskogel&quot;},c.ire65={towgs84:&quot;482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15&quot;,ellipse:&quot;mod_airy&quot;,datumName:&quot;Ireland 1965&quot;},c.rassadiran={towgs84:&quot;-133.63,-157.5,-158.62&quot;,ellipse:&quot;intl&quot;,datumName:&quot;Rassadiran&quot;},c.nzgd49={towgs84:&quot;59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993&quot;,ellipse:&quot;intl&quot;,datumName:&quot;New Zealand Geodetic Datum 1949&quot;},c.osgb36={towgs84:&quot;446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894&quot;,ellipse:&quot;airy&quot;,datumName:&quot;Airy 1830&quot;},c.s_jtsk={towgs84:&quot;589,76,480&quot;,ellipse:&quot;bessel&quot;,datumName:&quot;S-JTSK (Ferro)&quot;},c.beduaram={towgs84:&quot;-106,-87,188&quot;,ellipse:&quot;clrk80&quot;,datumName:&quot;Beduaram&quot;},c.gunung_segara={towgs84:&quot;-403,684,41&quot;,ellipse:&quot;bessel&quot;,datumName:&quot;Gunung Segara Jakarta&quot;},c.rnb72={towgs84:&quot;106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1&quot;,ellipse:&quot;intl&quot;,datumName:&quot;Reseau National Belge 1972&quot;}},{}],26:[function(a,b,c){c.MERIT={a:6378137,rf:298.257,ellipseName:&quot;MERIT 1983&quot;},c.SGS85={a:6378136,rf:298.257,ellipseName:&quot;Soviet Geodetic System 85&quot;},c.GRS80={a:6378137,rf:298.257222101,ellipseName:&quot;GRS 1980(IUGG, 1980)&quot;},c.IAU76={a:6378140,rf:298.257,ellipseName:&quot;IAU 1976&quot;},c.airy={a:6377563.396,b:6356256.91,ellipseName:&quot;Airy 1830&quot;},c.APL4={a:6378137,rf:298.25,ellipseName:&quot;Appl. Physics. 1965&quot;},c.NWL9D={a:6378145,rf:298.25,ellipseName:&quot;Naval Weapons Lab., 1965&quot;},c.mod_airy={a:6377340.189,b:6356034.446,ellipseName:&quot;Modified Airy&quot;},c.andrae={a:6377104.43,rf:300,ellipseName:&quot;Andrae 1876 (Den., Iclnd.)&quot;},c.aust_SA={a:6378160,rf:298.25,ellipseName:&quot;Australian Natl &amp; S. Amer. 1969&quot;},c.GRS67={a:6378160,rf:298.247167427,ellipseName:&quot;GRS 67(IUGG 1967)&quot;},c.bessel={a:6377397.155,rf:299.1528128,ellipseName:&quot;Bessel 1841&quot;},c.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:&quot;Bessel 1841 (Namibia)&quot;},c.clrk66={a:6378206.4,b:6356583.8,ellipseName:&quot;Clarke 1866&quot;},c.clrk80={a:6378249.145,rf:293.4663,ellipseName:&quot;Clarke 1880 mod.&quot;},c.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:&quot;Clarke 1858&quot;},c.CPM={a:6375738.7,rf:334.29,ellipseName:&quot;Comm. des Poids et Mesures 1799&quot;},c.delmbr={a:6376428,rf:311.5,ellipseName:&quot;Delambre 1810 (Belgium)&quot;},c.engelis={a:6378136.05,rf:298.2566,ellipseName:&quot;Engelis 1985&quot;},c.evrst30={a:6377276.345,rf:300.8017,ellipseName:&quot;Everest 1830&quot;},c.evrst48={a:6377304.063,rf:300.8017,ellipseName:&quot;Everest 1948&quot;},c.evrst56={a:6377301.243,rf:300.8017,ellipseName:&quot;Everest 1956&quot;},c.evrst69={a:6377295.664,rf:300.8017,ellipseName:&quot;Everest 1969&quot;},c.evrstSS={a:6377298.556,rf:300.8017,ellipseName:&quot;Everest (Sabah &amp; Sarawak)&quot;},c.fschr60={a:6378166,rf:298.3,ellipseName:&quot;Fischer (Mercury Datum) 1960&quot;},c.fschr60m={a:6378155,rf:298.3,ellipseName:&quot;Fischer 1960&quot;},c.fschr68={a:6378150,rf:298.3,ellipseName:&quot;Fischer 1968&quot;},c.helmert={a:6378200,rf:298.3,ellipseName:&quot;Helmert 1906&quot;},c.hough={a:6378270,rf:297,ellipseName:&quot;Hough&quot;},c.intl={a:6378388,rf:297,ellipseName:&quot;International 1909 (Hayford)&quot;},c.kaula={a:6378163,rf:298.24,ellipseName:&quot;Kaula 1961&quot;},c.lerch={a:6378139,rf:298.257,ellipseName:&quot;Lerch 1979&quot;},c.mprts={a:6397300,rf:191,ellipseName:&quot;Maupertius 1738&quot;},c.new_intl={a:6378157.5,b:6356772.2,ellipseName:&quot;New International 1967&quot;},c.plessis={a:6376523,rf:6355863,ellipseName:&quot;Plessis 1817 (France)&quot;},c.krass={a:6378245,rf:298.3,ellipseName:&quot;Krassovsky, 1942&quot;},c.SEasia={a:6378155,b:6356773.3205,ellipseName:&quot;Southeast Asia&quot;},c.walbeck={a:6376896,b:6355834.8467,ellipseName:&quot;Walbeck&quot;},c.WGS60={a:6378165,rf:298.3,ellipseName:&quot;WGS 60&quot;},c.WGS66={a:6378145,rf:298.25,ellipseName:&quot;WGS 66&quot;},c.WGS7={a:6378135,rf:298.26,ellipseName:&quot;WGS 72&quot;},c.WGS84={a:6378137,rf:298.257223563,ellipseName:&quot;WGS 84&quot;},c.sphere={a:6370997,b:6370997,ellipseName:&quot;Normal Sphere (r=6370997)&quot;}},{}],27:[function(a,b,c){c.greenwich=0,c.lisbon=-9.131906111111,c.paris=2.337229166667,c.bogota=-74.080916666667,c.madrid=-3.687938888889,c.rome=12.452333333333,c.bern=7.439583333333,c.jakarta=106.807719444444,c.ferro=-17.666666666667,c.brussels=4.367975,c.stockholm=18.058277777778,c.athens=23.7163375,c.oslo=10.722916666667},{}],28:[function(a,b,c){c.ft={to_meter:.3048},c[&quot;us-ft&quot;]={to_meter:1200/3937}},{}],29:[function(a,b,c){function d(a,b,c){var d;return Array.isArray(c)?(d=g(a,b,c),3===c.length?[d.x,d.y,d.z]:[d.x,d.y]):g(a,b,c)}function e(a){return a instanceof f?a:a.oProj?a.oProj:f(a)}function proj4(a,b,c){a=e(a);var f,g=!1;return&quot;undefined&quot;==typeof b?(b=a,a=h,g=!0):(&quot;undefined&quot;!=typeof b.x||Array.isArray(b))&amp;&amp;(c=b,b=a,a=h,g=!0),b=e(b),c?d(a,b,c):(f={forward:function(c){return d(a,b,c)},inverse:function(c){return d(b,a,c)}},g&amp;&amp;(f.oProj=b),f)}var f=a(&quot;./Proj&quot;),g=a(&quot;./transform&quot;),h=f(&quot;WGS84&quot;);b.exports=proj4},{&quot;./Proj&quot;:2,&quot;./transform&quot;:65}],30:[function(a,b,c){var d=Math.PI/2,e=1,f=2,g=3,h=4,i=5,j=484813681109536e-20,k=1.0026,l=.3826834323650898,m=function(a){return this instanceof m?(this.datum_type=h,void(a&amp;&amp;(a.datumCode&amp;&amp;&quot;none&quot;===a.datumCode&amp;&amp;(this.datum_type=i),a.datum_params&amp;&amp;(this.datum_params=a.datum_params.map(parseFloat),(0!==this.datum_params[0]||0!==this.datum_params[1]||0!==this.datum_params[2])&amp;&amp;(this.datum_type=e),this.datum_params.length&gt;3&amp;&amp;(0!==this.datum_params[3]||0!==this.datum_params[4]||0!==this.datum_params[5]||0!==this.datum_params[6])&amp;&amp;(this.datum_type=f,this.datum_params[3]*=j,this.datum_params[4]*=j,this.datum_params[5]*=j,this.datum_params[6]=this.datum_params[6]/1e6+1)),this.datum_type=a.grids?g:this.datum_type,this.a=a.a,this.b=a.b,this.es=a.es,this.ep2=a.ep2,this.datum_type===g&amp;&amp;(this.grids=a.grids)))):new m(a)};m.prototype={compare_datums:function(a){return this.datum_type!==a.datum_type?!1:this.a!==a.a||Math.abs(this.es-a.es)&gt;5e-11?!1:this.datum_type===e?this.datum_params[0]===a.datum_params[0]&amp;&amp;this.datum_params[1]===a.datum_params[1]&amp;&amp;this.datum_params[2]===a.datum_params[2]:this.datum_type===f?this.datum_params[0]===a.datum_params[0]&amp;&amp;this.datum_params[1]===a.datum_params[1]&amp;&amp;this.datum_params[2]===a.datum_params[2]&amp;&amp;this.datum_params[3]===a.datum_params[3]&amp;&amp;this.datum_params[4]===a.datum_params[4]&amp;&amp;this.datum_params[5]===a.datum_params[5]&amp;&amp;this.datum_params[6]===a.datum_params[6]:this.datum_type===g||a.datum_type===g?this.nadgrids===a.nadgrids:!0},geodetic_to_geocentric:function(a){var b,c,e,f,g,h,i,j=a.x,k=a.y,l=a.z?a.z:0,m=0;if(-d&gt;k&amp;&amp;k&gt;-1.001*d)k=-d;else if(k&gt;d&amp;&amp;1.001*d&gt;k)k=d;else if(-d&gt;k||k&gt;d)return null;return j&gt;Math.PI&amp;&amp;(j-=2*Math.PI),g=Math.sin(k),i=Math.cos(k),h=g*g,f=this.a/Math.sqrt(1-this.es*h),b=(f+l)*i*Math.cos(j),c=(f+l)*i*Math.sin(j),e=(f*(1-this.es)+l)*g,a.x=b,a.y=c,a.z=e,m},geocentric_to_geodetic:function(a){var b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=1e-12,u=t*t,v=30,w=a.x,x=a.y,y=a.z?a.z:0;if(o=!1,b=Math.sqrt(w*w+x*x),c=Math.sqrt(w*w+x*x+y*y),b/this.a&lt;t){if(o=!0,q=0,c/this.a&lt;t)return r=d,void(s=-this.b)}else q=Math.atan2(x,w);e=y/c,f=b/c,g=1/Math.sqrt(1-this.es*(2-this.es)*f*f),j=f*(1-this.es)*g,k=e*g,p=0;do p++,i=this.a/Math.sqrt(1-this.es*k*k),s=b*j+y*k-i*(1-this.es*k*k),h=this.es*i/(i+s),g=1/Math.sqrt(1-h*(2-h)*f*f),l=f*(1-h)*g,m=e*g,n=m*j-l*k,j=l,k=m;while(n*n&gt;u&amp;&amp;v&gt;p);return r=Math.atan(m/Math.abs(l)),a.x=q,a.y=r,a.z=s,a},geocentric_to_geodetic_noniter:function(a){var b,c,e,f,g,h,i,j,m,n,o,p,q,r,s,t,u,v=a.x,w=a.y,x=a.z?a.z:0;if(v=parseFloat(v),w=parseFloat(w),x=parseFloat(x),u=!1,0!==v)b=Math.atan2(w,v);else if(w&gt;0)b=d;else if(0&gt;w)b=-d;else if(u=!0,b=0,x&gt;0)c=d;else{if(!(0&gt;x))return c=d,void(e=-this.b);c=-d}return g=v*v+w*w,f=Math.sqrt(g),h=x*k,j=Math.sqrt(h*h+g),n=h/j,p=f/j,o=n*n*n,i=x+this.b*this.ep2*o,t=f-this.a*this.es*p*p*p,m=Math.sqrt(i*i+t*t),q=i/m,r=t/m,s=this.a/Math.sqrt(1-this.es*q*q),e=r&gt;=l?f/r-s:-l&gt;=r?f/-r-s:x/q+s*(this.es-1),u===!1&amp;&amp;(c=Math.atan(q/r)),a.x=b,a.y=c,a.z=e,a},geocentric_to_wgs84:function(a){if(this.datum_type===e)a.x+=this.datum_params[0],a.y+=this.datum_params[1],a.z+=this.datum_params[2];else if(this.datum_type===f){var b=this.datum_params[0],c=this.datum_params[1],d=this.datum_params[2],g=this.datum_params[3],h=this.datum_params[4],i=this.datum_params[5],j=this.datum_params[6],k=j*(a.x-i*a.y+h*a.z)+b,l=j*(i*a.x+a.y-g*a.z)+c,m=j*(-h*a.x+g*a.y+a.z)+d;a.x=k,a.y=l,a.z=m}},geocentric_from_wgs84:function(a){if(this.datum_type===e)a.x-=this.datum_params[0],a.y-=this.datum_params[1],a.z-=this.datum_params[2];else if(this.datum_type===f){var b=this.datum_params[0],c=this.datum_params[1],d=this.datum_params[2],g=this.datum_params[3],h=this.datum_params[4],i=this.datum_params[5],j=this.datum_params[6],k=(a.x-b)/j,l=(a.y-c)/j,m=(a.z-d)/j;a.x=k+i*l-h*m,a.y=-i*k+l+g*m,a.z=h*k-g*l+m}}},b.exports=m},{}],31:[function(a,b,c){var d=1,e=2,f=3,g=5,h=6378137,i=.006694379990141316;b.exports=function(a,b,c){function j(a){return a===d||a===e}var k,l,m;if(a.compare_datums(b))return c;if(a.datum_type===g||b.datum_type===g)return c;var n=a.a,o=a.es,p=b.a,q=b.es,r=a.datum_type;if(r===f)if(0===this.apply_gridshift(a,0,c))a.a=h,a.es=i;else{if(!a.datum_params)return a.a=n,a.es=a.es,c;for(k=1,l=0,m=a.datum_params.length;m&gt;l;l++)k*=a.datum_params[l];if(0===k)return a.a=n,a.es=a.es,c;r=a.datum_params.length&gt;3?e:d}return b.datum_type===f&amp;&amp;(b.a=h,b.es=i),(a.es!==b.es||a.a!==b.a||j(r)||j(b.datum_type))&amp;&amp;(a.geodetic_to_geocentric(c),j(a.datum_type)&amp;&amp;a.geocentric_to_wgs84(c),j(b.datum_type)&amp;&amp;b.geocentric_from_wgs84(c),b.geocentric_to_geodetic(c)),b.datum_type===f&amp;&amp;this.apply_gridshift(b,1,c),a.a=n,a.es=o,b.a=p,b.es=q,c}},{}],32:[function(a,b,c){function d(a){var b=this;if(2===arguments.length){var c=arguments[1];&quot;string&quot;==typeof c?&quot;+&quot;===c.charAt(0)?d[a]=f(arguments[1]):d[a]=g(arguments[1]):d[a]=c}else if(1===arguments.length){if(Array.isArray(a))return a.map(function(a){Array.isArray(a)?d.apply(b,a):d(a)});if(&quot;string&quot;==typeof a){if(a in d)return d[a]}else&quot;EPSG&quot;in a?d[&quot;EPSG:&quot;+a.EPSG]=a:&quot;ESRI&quot;in a?d[&quot;ESRI:&quot;+a.ESRI]=a:&quot;IAU2000&quot;in a?d[&quot;IAU2000:&quot;+a.IAU2000]=a:console.log(a);return}}var e=a(&quot;./global&quot;),f=a(&quot;./projString&quot;),g=a(&quot;./wkt&quot;);e(d),b.exports=d},{&quot;./global&quot;:35,&quot;./projString&quot;:38,&quot;./wkt&quot;:66}],33:[function(a,b,c){var d=a(&quot;./constants/Datum&quot;),e=a(&quot;./constants/Ellipsoid&quot;),f=a(&quot;./extend&quot;),g=a(&quot;./datum&quot;),h=1e-10,i=.16666666666666666,j=.04722222222222222,k=.022156084656084655;b.exports=function(a){if(a.datumCode&amp;&amp;&quot;none&quot;!==a.datumCode){var b=d[a.datumCode];b&amp;&amp;(a.datum_params=b.towgs84?b.towgs84.split(&quot;,&quot;):null,a.ellps=b.ellipse,a.datumName=b.datumName?b.datumName:a.datumCode)}if(!a.a){var c=e[a.ellps]?e[a.ellps]:e.WGS84;f(a,c)}return a.rf&amp;&amp;!a.b&amp;&amp;(a.b=(1-1/a.rf)*a.a),(0===a.rf||Math.abs(a.a-a.b)&lt;h)&amp;&amp;(a.sphere=!0,a.b=a.a),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=(a.a2-a.b2)/a.a2,a.e=Math.sqrt(a.es),a.R_A&amp;&amp;(a.a*=1-a.es*(i+a.es*(j+a.es*k)),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=0),a.ep2=(a.a2-a.b2)/a.b2,a.k0||(a.k0=1),a.axis||(a.axis=&quot;enu&quot;),a.datum||(a.datum=g(a)),a}},{&quot;./constants/Datum&quot;:25,&quot;./constants/Ellipsoid&quot;:26,&quot;./datum&quot;:30,&quot;./extend&quot;:34}],34:[function(a,b,c){b.exports=function(a,b){a=a||{};var c,d;if(!b)return a;for(d in b)c=b[d],void 0!==c&amp;&amp;(a[d]=c);return a}},{}],35:[function(a,b,c){b.exports=function(a){a(&quot;EPSG:4326&quot;,&quot;+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees&quot;),a(&quot;EPSG:4269&quot;,&quot;+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees&quot;),a(&quot;EPSG:3857&quot;,&quot;+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs&quot;),a.WGS84=a[&quot;EPSG:4326&quot;],a[&quot;EPSG:3785&quot;]=a[&quot;EPSG:3857&quot;],a.GOOGLE=a[&quot;EPSG:3857&quot;],a[&quot;EPSG:900913&quot;]=a[&quot;EPSG:3857&quot;],a[&quot;EPSG:102113&quot;]=a[&quot;EPSG:3857&quot;]}},{}],36:[function(a,b,c){var proj4=a(&quot;./core&quot;);proj4.defaultDatum=&quot;WGS84&quot;,proj4.Proj=a(&quot;./Proj&quot;),proj4.WGS84=new proj4.Proj(&quot;WGS84&quot;),proj4.Point=a(&quot;./Point&quot;),proj4.toPoint=a(&quot;./common/toPoint&quot;),proj4.defs=a(&quot;./defs&quot;),proj4.transform=a(&quot;./transform&quot;),proj4.mgrs=a(&quot;mgrs&quot;),proj4.version=a(&quot;../package.json&quot;).version,a(&quot;./includedProjections&quot;)(proj4),b.exports=proj4},{&quot;../package.json&quot;:68,&quot;./Point&quot;:1,&quot;./Proj&quot;:2,&quot;./common/toPoint&quot;:23,&quot;./core&quot;:29,&quot;./defs&quot;:32,&quot;./includedProjections&quot;:&quot;hTEDpn&quot;,&quot;./transform&quot;:65,mgrs:67}],37:[function(a,b,c){function d(a){return&quot;string&quot;==typeof a}function e(a){return a in i}function f(a){var b=[&quot;GEOGCS&quot;,&quot;GEOCCS&quot;,&quot;PROJCS&quot;,&quot;LOCAL_CS&quot;];return b.reduce(function(b,c){return b+1+a.indexOf(c)},0)}function g(a){return&quot;+&quot;===a[0]}function h(a){return d(a)?e(a)?i[a]:f(a)?j(a):g(a)?k(a):void 0:a}var i=a(&quot;./defs&quot;),j=a(&quot;./wkt&quot;),k=a(&quot;./projString&quot;);b.exports=h},{&quot;./defs&quot;:32,&quot;./projString&quot;:38,&quot;./wkt&quot;:66}],38:[function(a,b,c){var d=.017453292519943295,e=a(&quot;./constants/PrimeMeridian&quot;),f=a(&quot;./constants/units&quot;);b.exports=function(a){var b={},c={};a.split(&quot;+&quot;).map(function(a){return a.trim()}).filter(function(a){return a}).forEach(function(a){var b=a.split(&quot;=&quot;);b.push(!0),c[b[0].toLowerCase()]=b[1]});var g,h,i,j={proj:&quot;projName&quot;,datum:&quot;datumCode&quot;,rf:function(a){b.rf=parseFloat(a)},lat_0:function(a){b.lat0=a*d},lat_1:function(a){b.lat1=a*d},lat_2:function(a){b.lat2=a*d},lat_ts:function(a){b.lat_ts=a*d},lon_0:function(a){b.long0=a*d},lon_1:function(a){b.long1=a*d},lon_2:function(a){b.long2=a*d},alpha:function(a){b.alpha=parseFloat(a)*d},lonc:function(a){b.longc=a*d},x_0:function(a){b.x0=parseFloat(a)},y_0:function(a){b.y0=parseFloat(a)},k_0:function(a){b.k0=parseFloat(a)},k:function(a){b.k0=parseFloat(a)},a:function(a){b.a=parseFloat(a)},b:function(a){b.b=parseFloat(a)},r_a:function(){b.R_A=!0},zone:function(a){b.zone=parseInt(a,10)},south:function(){b.utmSouth=!0},towgs84:function(a){b.datum_params=a.split(&quot;,&quot;).map(function(a){return parseFloat(a)})},to_meter:function(a){b.to_meter=parseFloat(a)},units:function(a){b.units=a,f[a]&amp;&amp;(b.to_meter=f[a].to_meter)},from_greenwich:function(a){b.from_greenwich=a*d},pm:function(a){b.from_greenwich=(e[a]?e[a]:parseFloat(a))*d},nadgrids:function(a){&quot;@null&quot;===a?b.datumCode=&quot;none&quot;:b.nadgrids=a},axis:function(a){var c=&quot;ewnsud&quot;;3===a.length&amp;&amp;-1!==c.indexOf(a.substr(0,1))&amp;&amp;-1!==c.indexOf(a.substr(1,1))&amp;&amp;-1!==c.indexOf(a.substr(2,1))&amp;&amp;(b.axis=a)}};for(g in c)h=c[g],g in j?(i=j[g],&quot;function&quot;==typeof i?i(h):b[i]=h):b[g]=h;return&quot;string&quot;==typeof b.datumCode&amp;&amp;&quot;WGS84&quot;!==b.datumCode&amp;&amp;(b.datumCode=b.datumCode.toLowerCase()),b}},{&quot;./constants/PrimeMeridian&quot;:27,&quot;./constants/units&quot;:28}],39:[function(a,b,c){function d(a,b){var c=g.length;return a.names?(g[c]=a,a.names.forEach(function(a){f[a.toLowerCase()]=c}),this):(console.log(b),!0)}var e=[a(&quot;./projections/merc&quot;),a(&quot;./projections/longlat&quot;)],f={},g=[];c.add=d,c.get=function(a){if(!a)return!1;var b=a.toLowerCase();return&quot;undefined&quot;!=typeof f[b]&amp;&amp;g[f[b]]?g[f[b]]:void 0},c.start=function(){e.forEach(d)}},{&quot;./projections/longlat&quot;:51,&quot;./projections/merc&quot;:52}],40:[function(a,b,c){var d=1e-10,e=a(&quot;../common/msfnz&quot;),f=a(&quot;../common/qsfnz&quot;),g=a(&quot;../common/adjust_lon&quot;),h=a(&quot;../common/asinz&quot;);c.init=function(){Math.abs(this.lat1+this.lat2)&lt;d||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=e(this.e3,this.sin_po,this.cos_po),this.qs1=f(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=e(this.e3,this.sin_po,this.cos_po),this.qs2=f(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=f(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)&gt;d?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},c.forward=function(a){var b=a.x,c=a.y;this.sin_phi=Math.sin(c),this.cos_phi=Math.cos(c);var d=f(this.e3,this.sin_phi,this.cos_phi),e=this.a*Math.sqrt(this.c-this.ns0*d)/this.ns0,h=this.ns0*g(b-this.long0),i=e*Math.sin(h)+this.x0,j=this.rh-e*Math.cos(h)+this.y0;return a.x=i,a.y=j,a},c.inverse=function(a){var b,c,d,e,f,h;return a.x-=this.x0,a.y=this.rh-a.y+this.y0,this.ns0&gt;=0?(b=Math.sqrt(a.x*a.x+a.y*a.y),d=1):(b=-Math.sqrt(a.x*a.x+a.y*a.y),d=-1),e=0,0!==b&amp;&amp;(e=Math.atan2(d*a.x,d*a.y)),d=b*this.ns0/this.a,this.sphere?h=Math.asin((this.c-d*d)/(2*this.ns0)):(c=(this.c-d*d)/this.ns0,h=this.phi1z(this.e3,c)),f=g(e/this.ns0+this.long0),a.x=f,a.y=h,a},c.phi1z=function(a,b){var c,e,f,g,i,j=h(.5*b);if(d&gt;a)return j;for(var k=a*a,l=1;25&gt;=l;l++)if(c=Math.sin(j),e=Math.cos(j),f=a*c,g=1-f*f,i=.5*g*g/e*(b/(1-k)-c/g+.5/a*Math.log((1-f)/(1+f))),j+=i,Math.abs(i)&lt;=1e-7)return j;return null},c.names=[&quot;Albers_Conic_Equal_Area&quot;,&quot;Albers&quot;,&quot;aea&quot;]},{&quot;../common/adjust_lon&quot;:5,&quot;../common/asinz&quot;:6,&quot;../common/msfnz&quot;:15,&quot;../common/qsfnz&quot;:20}],41:[function(a,b,c){var d=a(&quot;../common/adjust_lon&quot;),e=Math.PI/2,f=1e-10,g=a(&quot;../common/mlfn&quot;),h=a(&quot;../common/e0fn&quot;),i=a(&quot;../common/e1fn&quot;),j=a(&quot;../common/e2fn&quot;),k=a(&quot;../common/e3fn&quot;),l=a(&quot;../common/gN&quot;),m=a(&quot;../common/asinz&quot;),n=a(&quot;../common/imlfn&quot;);c.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},c.forward=function(a){var b,c,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=a.x,I=a.y,J=Math.sin(a.y),K=Math.cos(a.y),L=d(H-this.long0);return this.sphere?Math.abs(this.sin_p12-1)&lt;=f?(a.x=this.x0+this.a*(e-I)*Math.sin(L),a.y=this.y0-this.a*(e-I)*Math.cos(L),a):Math.abs(this.sin_p12+1)&lt;=f?(a.x=this.x0+this.a*(e+I)*Math.sin(L),a.y=this.y0+this.a*(e+I)*Math.cos(L),a):(B=this.sin_p12*J+this.cos_p12*K*Math.cos(L),z=Math.acos(B),A=z/Math.sin(z),a.x=this.x0+this.a*A*K*Math.sin(L),a.y=this.y0+this.a*A*(this.cos_p12*J-this.sin_p12*K*Math.cos(L)),a):(b=h(this.es),c=i(this.es),m=j(this.es),n=k(this.es),Math.abs(this.sin_p12-1)&lt;=f?(o=this.a*g(b,c,m,n,e),p=this.a*g(b,c,m,n,I),a.x=this.x0+(o-p)*Math.sin(L),a.y=this.y0-(o-p)*Math.cos(L),a):Math.abs(this.sin_p12+1)&lt;=f?(o=this.a*g(b,c,m,n,e),p=this.a*g(b,c,m,n,I),a.x=this.x0+(o+p)*Math.sin(L),a.y=this.y0+(o+p)*Math.cos(L),a):(q=J/K,r=l(this.a,this.e,this.sin_p12),s=l(this.a,this.e,J),t=Math.atan((1-this.es)*q+this.es*r*this.sin_p12/(s*K)),u=Math.atan2(Math.sin(L),this.cos_p12*Math.tan(t)-this.sin_p12*Math.cos(L)),C=0===u?Math.asin(this.cos_p12*Math.sin(t)-this.sin_p12*Math.cos(t)):Math.abs(Math.abs(u)-Math.PI)&lt;=f?-Math.asin(this.cos_p12*Math.sin(t)-this.sin_p12*Math.cos(t)):Math.asin(Math.sin(L)*Math.cos(t)/Math.sin(u)),v=this.e*this.sin_p12/Math.sqrt(1-this.es),w=this.e*this.cos_p12*Math.cos(u)/Math.sqrt(1-this.es),x=v*w,y=w*w,D=C*C,E=D*C,F=E*C,G=F*C,z=r*C*(1-D*y*(1-y)/6+E/8*x*(1-2*y)+F/120*(y*(4-7*y)-3*v*v*(1-7*y))-G/48*x),a.x=this.x0+z*Math.sin(u),a.y=this.y0+z*Math.cos(u),a))},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;if(this.sphere){if(b=Math.sqrt(a.x*a.x+a.y*a.y),b&gt;2*e*this.a)return;return c=b/this.a,o=Math.sin(c),p=Math.cos(c),q=this.long0,Math.abs(b)&lt;=f?r=this.lat0:(r=m(p*this.sin_p12+a.y*o*this.cos_p12/b),s=Math.abs(this.lat0)-e,q=d(Math.abs(s)&lt;=f?this.lat0&gt;=0?this.long0+Math.atan2(a.x,-a.y):this.long0-Math.atan2(-a.x,a.y):this.long0+Math.atan2(a.x*o,b*this.cos_p12*p-a.y*this.sin_p12*o))),a.x=q,a.y=r,a}return t=h(this.es),u=i(this.es),v=j(this.es),w=k(this.es),Math.abs(this.sin_p12-1)&lt;=f?(x=this.a*g(t,u,v,w,e),b=Math.sqrt(a.x*a.x+a.y*a.y),y=x-b,r=n(y/this.a,t,u,v,w),q=d(this.long0+Math.atan2(a.x,-1*a.y)),a.x=q,a.y=r,a):Math.abs(this.sin_p12+1)&lt;=f?(x=this.a*g(t,u,v,w,e),b=Math.sqrt(a.x*a.x+a.y*a.y),y=b-x,r=n(y/this.a,t,u,v,w),q=d(this.long0+Math.atan2(a.x,a.y)),a.x=q,a.y=r,a):(b=Math.sqrt(a.x*a.x+a.y*a.y),B=Math.atan2(a.x,a.y),z=l(this.a,this.e,this.sin_p12),C=Math.cos(B),D=this.e*this.cos_p12*C,E=-D*D/(1-this.es),F=3*this.es*(1-E)*this.sin_p12*this.cos_p12*C/(1-this.es),G=b/z,H=G-E*(1+E)*Math.pow(G,3)/6-F*(1+3*E)*Math.pow(G,4)/24,I=1-E*H*H/2-G*H*H*H/6,A=Math.asin(this.sin_p12*Math.cos(H)+this.cos_p12*Math.sin(H)*C),q=d(this.long0+Math.asin(Math.sin(B)*Math.sin(H)/Math.cos(A))),r=Math.atan((1-this.es*I*this.sin_p12/Math.sin(A))*Math.tan(A)/(1-this.es)),a.x=q,a.y=r,a)},c.names=[&quot;Azimuthal_Equidistant&quot;,&quot;aeqd&quot;]},{&quot;../common/adjust_lon&quot;:5,&quot;../common/asinz&quot;:6,&quot;../common/e0fn&quot;:7,&quot;../common/e1fn&quot;:8,&quot;../common/e2fn&quot;:9,&quot;../common/e3fn&quot;:10,&quot;../common/gN&quot;:11,&quot;../common/imlfn&quot;:12,&quot;../common/mlfn&quot;:14}],42:[function(a,b,c){var d=a(&quot;../common/mlfn&quot;),e=a(&quot;../common/e0fn&quot;),f=a(&quot;../common/e1fn&quot;),g=a(&quot;../common/e2fn&quot;),h=a(&quot;../common/e3fn&quot;),i=a(&quot;../common/gN&quot;),j=a(&quot;../common/adjust_lon&quot;),k=a(&quot;../common/adjust_lat&quot;),l=a(&quot;../common/imlfn&quot;),m=Math.PI/2,n=1e-10;c.init=function(){this.sphere||(this.e0=e(this.es),this.e1=f(this.es),this.e2=g(this.es),this.e3=h(this.es),this.ml0=this.a*d(this.e0,this.e1,this.e2,this.e3,this.lat0))},c.forward=function(a){var b,c,e=a.x,f=a.y;if(e=j(e-this.long0),this.sphere)b=this.a*Math.asin(Math.cos(f)*Math.sin(e)),c=this.a*(Math.atan2(Math.tan(f),Math.cos(e))-this.lat0);else{var g=Math.sin(f),h=Math.cos(f),k=i(this.a,this.e,g),l=Math.tan(f)*Math.tan(f),m=e*Math.cos(f),n=m*m,o=this.es*h*h/(1-this.es),p=this.a*d(this.e0,this.e1,this.e2,this.e3,f);b=k*m*(1-n*l*(1/6-(8-l+8*o)*n/120)),c=p-this.ml0+k*g/h*n*(.5+(5-l+6*o)*n/24)}return a.x=b+this.x0,a.y=c+this.y0,a},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,d=a.x/this.a,e=a.y/this.a;if(this.sphere){var f=e+this.lat0;b=Math.asin(Math.sin(f)*Math.cos(d)),c=Math.atan2(Math.tan(d),Math.cos(f))}else{var g=this.ml0/this.a+e,h=l(g,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(h)-m)&lt;=n)return a.x=this.long0,a.y=m,0&gt;e&amp;&amp;(a.y*=-1),a;var o=i(this.a,this.e,Math.sin(h)),p=o*o*o/this.a/this.a*(1-this.es),q=Math.pow(Math.tan(h),2),r=d*this.a/o,s=r*r;b=h-o*Math.tan(h)/p*r*r*(.5-(1+3*q)*r*r/24),c=r*(1-s*(q/3+(1+3*q)*q*s/15))/Math.cos(h)}return a.x=j(c+this.long0),a.y=k(b),a},c.names=[&quot;Cassini&quot;,&quot;Cassini_Soldner&quot;,&quot;cass&quot;]},{&quot;../common/adjust_lat&quot;:4,&quot;../common/adjust_lon&quot;:5,&quot;../common/e0fn&quot;:7,&quot;../common/e1fn&quot;:8,&quot;../common/e2fn&quot;:9,&quot;../common/e3fn&quot;:10,&quot;../common/gN&quot;:11,&quot;../common/imlfn&quot;:12,&quot;../common/mlfn&quot;:14}],43:[function(a,b,c){var d=a(&quot;../common/adjust_lon&quot;),e=a(&quot;../common/qsfnz&quot;),f=a(&quot;../common/msfnz&quot;),g=a(&quot;../common/iqsfnz&quot;);c.init=function(){this.sphere||(this.k0=f(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},c.forward=function(a){var b,c,f=a.x,g=a.y,h=d(f-this.long0);if(this.sphere)b=this.x0+this.a*h*Math.cos(this.lat_ts),c=this.y0+this.a*Math.sin(g)/Math.cos(this.lat_ts);else{var i=e(this.e,Math.sin(g));b=this.x0+this.a*this.k0*h,c=this.y0+this.a*i*.5/this.k0}return a.x=b,a.y=c,a},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c;return this.sphere?(b=d(this.long0+a.x/this.a/Math.cos(this.lat_ts)),c=Math.asin(a.y/this.a*Math.cos(this.lat_ts))):(c=g(this.e,2*a.y*this.k0/this.a),b=d(this.long0+a.x/(this.a*this.k0))),a.x=b,a.y=c,a},c.names=[&quot;cea&quot;]},{&quot;../common/adjust_lon&quot;:5,&quot;../common/iqsfnz&quot;:13,&quot;../common/msfnz&quot;:15,&quot;../common/qsfnz&quot;:20}],44:[function(a,b,c){var d=a(&quot;../common/adjust_lon&quot;),e=a(&quot;../common/adjust_lat&quot;);c.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||&quot;Equidistant Cylindrical (Plate Carre)&quot;,this.rc=Math.cos(this.lat_ts)},c.forward=function(a){var b=a.x,c=a.y,f=d(b-this.long0),g=e(c-this.lat0);return a.x=this.x0+this.a*f*this.rc,a.y=this.y0+this.a*g,a},c.inverse=function(a){var b=a.x,c=a.y;return a.x=d(this.long0+(b-this.x0)/(this.a*this.rc)),a.y=e(this.lat0+(c-this.y0)/this.a),a},c.names=[&quot;Equirectangular&quot;,&quot;Equidistant_Cylindrical&quot;,&quot;eqc&quot;]},{&quot;../common/adjust_lat&quot;:4,&quot;../common/adjust_lon&quot;:5}],45:[function(a,b,c){var d=a(&quot;../common/e0fn&quot;),e=a(&quot;../common/e1fn&quot;),f=a(&quot;../common/e2fn&quot;),g=a(&quot;../common/e3fn&quot;),h=a(&quot;../common/msfnz&quot;),i=a(&quot;../common/mlfn&quot;),j=a(&quot;../common/adjust_lon&quot;),k=a(&quot;../common/adjust_lat&quot;),l=a(&quot;../common/imlfn&quot;),m=1e-10;c.init=function(){Math.abs(this.lat1+this.lat2)&lt;m||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=h(this.e,this.sinphi,this.cosphi),this.ml1=i(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)&lt;m?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=h(this.e,this.sinphi,this.cosphi),this.ml2=i(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=i(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},c.forward=function(a){var b,c=a.x,d=a.y;if(this.sphere)b=this.a*(this.g-d);else{var e=i(this.e0,this.e1,this.e2,this.e3,d);b=this.a*(this.g-e)}var f=this.ns*j(c-this.long0),g=this.x0+b*Math.sin(f),h=this.y0+this.rh-b*Math.cos(f);return a.x=g,a.y=h,a},c.inverse=function(a){a.x-=this.x0,a.y=this.rh-a.y+this.y0;var b,c,d,e;this.ns&gt;=0?(c=Math.sqrt(a.x*a.x+a.y*a.y),b=1):(c=-Math.sqrt(a.x*a.x+a.y*a.y),b=-1);var f=0;if(0!==c&amp;&amp;(f=Math.atan2(b*a.x,b*a.y)),this.sphere)return e=j(this.long0+f/this.ns),d=k(this.g-c/this.a),a.x=e,a.y=d,a;var g=this.g-c/this.a;return d=l(g,this.e0,this.e1,this.e2,this.e3),e=j(this.long0+f/this.ns),a.x=e,a.y=d,a},c.names=[&quot;Equidistant_Conic&quot;,&quot;eqdc&quot;]},{&quot;../common/adjust_lat&quot;:4,&quot;../common/adjust_lon&quot;:5,&quot;../common/e0fn&quot;:7,&quot;../common/e1fn&quot;:8,&quot;../common/e2fn&quot;:9,&quot;../common/e3fn&quot;:10,&quot;../common/imlfn&quot;:12,&quot;../common/mlfn&quot;:14,&quot;../common/msfnz&quot;:15}],46:[function(a,b,c){var d=Math.PI/4,e=a(&quot;../common/srat&quot;),f=Math.PI/2,g=20;c.init=function(){var a=Math.sin(this.lat0),b=Math.cos(this.lat0);b*=b,this.rc=Math.sqrt(1-this.es)/(1-this.es*a*a),this.C=Math.sqrt(1+this.es*b*b/(1-this.es)),this.phic0=Math.asin(a/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+d)/(Math.pow(Math.tan(.5*this.lat0+d),this.C)*e(this.e*a,this.ratexp))},c.forward=function(a){var b=a.x,c=a.y;return a.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*c+d),this.C)*e(this.e*Math.sin(c),this.ratexp))-f,a.x=this.C*b,a},c.inverse=function(a){for(var b=1e-14,c=a.x/this.C,h=a.y,i=Math.pow(Math.tan(.5*h+d)/this.K,1/this.C),j=g;j&gt;0&amp;&amp;(h=2*Math.atan(i*e(this.e*Math.sin(a.y),-.5*this.e))-f,!(Math.abs(h-a.y)&lt;b));--j)a.y=h;return j?(a.x=c,a.y=h,a):null},c.names=[&quot;gauss&quot;]},{&quot;../common/srat&quot;:22}],47:[function(a,b,c){var d=a(&quot;../common/adjust_lon&quot;),e=1e-10,f=a(&quot;../common/asinz&quot;);c.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),
this.infinity_dist=1e3*this.a,this.rc=1},c.forward=function(a){var b,c,f,g,h,i,j,k,l=a.x,m=a.y;return f=d(l-this.long0),b=Math.sin(m),c=Math.cos(m),g=Math.cos(f),i=this.sin_p14*b+this.cos_p14*c*g,h=1,i&gt;0||Math.abs(i)&lt;=e?(j=this.x0+this.a*h*c*Math.sin(f)/i,k=this.y0+this.a*h*(this.cos_p14*b-this.sin_p14*c*g)/i):(j=this.x0+this.infinity_dist*c*Math.sin(f),k=this.y0+this.infinity_dist*(this.cos_p14*b-this.sin_p14*c*g)),a.x=j,a.y=k,a},c.inverse=function(a){var b,c,e,g,h,i;return a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,(b=Math.sqrt(a.x*a.x+a.y*a.y))?(g=Math.atan2(b,this.rc),c=Math.sin(g),e=Math.cos(g),i=f(e*this.sin_p14+a.y*c*this.cos_p14/b),h=Math.atan2(a.x*c,b*this.cos_p14*e-a.y*this.sin_p14*c),h=d(this.long0+h)):(i=this.phic0,h=0),a.x=h,a.y=i,a},c.names=[&quot;gnom&quot;]},{&quot;../common/adjust_lon&quot;:5,&quot;../common/asinz&quot;:6}],48:[function(a,b,c){var d=a(&quot;../common/adjust_lon&quot;);c.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},c.forward=function(a){var b,c,e,f,g,h,i,j=a.x,k=a.y,l=d(j-this.long0);return b=Math.pow((1+this.e*Math.sin(k))/(1-this.e*Math.sin(k)),this.alfa*this.e/2),c=2*(Math.atan(this.k*Math.pow(Math.tan(k/2+this.s45),this.alfa)/b)-this.s45),e=-l*this.alfa,f=Math.asin(Math.cos(this.ad)*Math.sin(c)+Math.sin(this.ad)*Math.cos(c)*Math.cos(e)),g=Math.asin(Math.cos(c)*Math.sin(e)/Math.cos(f)),h=this.n*g,i=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(f/2+this.s45),this.n),a.y=i*Math.cos(h)/1,a.x=i*Math.sin(h)/1,this.czech||(a.y*=-1,a.x*=-1),a},c.inverse=function(a){var b,c,d,e,f,g,h,i,j=a.x;a.x=a.y,a.y=j,this.czech||(a.y*=-1,a.x*=-1),g=Math.sqrt(a.x*a.x+a.y*a.y),f=Math.atan2(a.y,a.x),e=f/Math.sin(this.s0),d=2*(Math.atan(Math.pow(this.ro0/g,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),b=Math.asin(Math.cos(this.ad)*Math.sin(d)-Math.sin(this.ad)*Math.cos(d)*Math.cos(e)),c=Math.asin(Math.cos(d)*Math.sin(e)/Math.cos(b)),a.x=this.long0-c/this.alfa,h=b,i=0;var k=0;do a.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(b/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.e/2))-this.s45),Math.abs(h-a.y)&lt;1e-10&amp;&amp;(i=1),h=a.y,k+=1;while(0===i&amp;&amp;15&gt;k);return k&gt;=15?null:a},c.names=[&quot;Krovak&quot;,&quot;krovak&quot;]},{&quot;../common/adjust_lon&quot;:5}],49:[function(a,b,c){var d=Math.PI/2,e=Math.PI/4,f=1e-10,g=a(&quot;../common/qsfnz&quot;),h=a(&quot;../common/adjust_lon&quot;);c.S_POLE=1,c.N_POLE=2,c.EQUIT=3,c.OBLIQ=4,c.init=function(){var a=Math.abs(this.lat0);if(Math.abs(a-d)&lt;f?this.mode=this.lat0&lt;0?this.S_POLE:this.N_POLE:Math.abs(a)&lt;f?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es&gt;0){var b;switch(this.qp=g(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),b=Math.sin(this.lat0),this.sinb1=g(this.e,b)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*b*b)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&amp;&amp;(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},c.forward=function(a){var b,c,i,j,k,l,m,n,o,p,q=a.x,r=a.y;if(q=h(q-this.long0),this.sphere){if(k=Math.sin(r),p=Math.cos(r),i=Math.cos(q),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c=this.mode===this.EQUIT?1+p*i:1+this.sinph0*k+this.cosph0*p*i,f&gt;=c)return null;c=Math.sqrt(2/c),b=c*p*Math.sin(q),c*=this.mode===this.EQUIT?k:this.cosph0*k-this.sinph0*p*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&amp;&amp;(i=-i),Math.abs(r+this.phi0)&lt;f)return null;c=e-.5*r,c=2*(this.mode===this.S_POLE?Math.cos(c):Math.sin(c)),b=c*Math.sin(q),c*=i}}else{switch(m=0,n=0,o=0,i=Math.cos(q),j=Math.sin(q),k=Math.sin(r),l=g(this.e,k),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&amp;&amp;(m=l/this.qp,n=Math.sqrt(1-m*m)),this.mode){case this.OBLIQ:o=1+this.sinb1*m+this.cosb1*n*i;break;case this.EQUIT:o=1+n*i;break;case this.N_POLE:o=d+r,l=this.qp-l;break;case this.S_POLE:o=r-d,l=this.qp+l}if(Math.abs(o)&lt;f)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:o=Math.sqrt(2/o),c=this.mode===this.OBLIQ?this.ymf*o*(this.cosb1*m-this.sinb1*n*i):(o=Math.sqrt(2/(1+n*i)))*m*this.ymf,b=this.xmf*o*n*j;break;case this.N_POLE:case this.S_POLE:l&gt;=0?(b=(o=Math.sqrt(l))*j,c=i*(this.mode===this.S_POLE?o:-o)):b=c=0}}return a.x=this.a*b+this.x0,a.y=this.a*c+this.y0,a},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,e,g,i,j,k,l=a.x/this.a,m=a.y/this.a;if(this.sphere){var n,o=0,p=0;if(n=Math.sqrt(l*l+m*m),c=.5*n,c&gt;1)return null;switch(c=2*Math.asin(c),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&amp;&amp;(p=Math.sin(c),o=Math.cos(c)),this.mode){case this.EQUIT:c=Math.abs(n)&lt;=f?0:Math.asin(m*p/n),l*=p,m=o*n;break;case this.OBLIQ:c=Math.abs(n)&lt;=f?this.phi0:Math.asin(o*this.sinph0+m*p*this.cosph0/n),l*=p*this.cosph0,m=(o-Math.sin(c)*this.sinph0)*n;break;case this.N_POLE:m=-m,c=d-c;break;case this.S_POLE:c-=d}b=0!==m||this.mode!==this.EQUIT&amp;&amp;this.mode!==this.OBLIQ?Math.atan2(l,m):0}else{if(k=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,m*=this.dd,j=Math.sqrt(l*l+m*m),f&gt;j)return a.x=0,a.y=this.phi0,a;g=2*Math.asin(.5*j/this.rq),e=Math.cos(g),l*=g=Math.sin(g),this.mode===this.OBLIQ?(k=e*this.sinb1+m*g*this.cosb1/j,i=this.qp*k,m=j*this.cosb1*e-m*this.sinb1*g):(k=m*g/j,i=this.qp*k,m=j*e)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&amp;&amp;(m=-m),i=l*l+m*m,!i)return a.x=0,a.y=this.phi0,a;k=1-i/this.qp,this.mode===this.S_POLE&amp;&amp;(k=-k)}b=Math.atan2(l,m),c=this.authlat(Math.asin(k),this.apa)}return a.x=h(this.long0+b),a.y=c,a},c.P00=.3333333333333333,c.P01=.17222222222222222,c.P02=.10257936507936508,c.P10=.06388888888888888,c.P11=.0664021164021164,c.P20=.016415012942191543,c.authset=function(a){var b,c=[];return c[0]=a*this.P00,b=a*a,c[0]+=b*this.P01,c[1]=b*this.P10,b*=a,c[0]+=b*this.P02,c[1]+=b*this.P11,c[2]=b*this.P20,c},c.authlat=function(a,b){var c=a+a;return a+b[0]*Math.sin(c)+b[1]*Math.sin(c+c)+b[2]*Math.sin(c+c+c)},c.names=[&quot;Lambert Azimuthal Equal Area&quot;,&quot;Lambert_Azimuthal_Equal_Area&quot;,&quot;laea&quot;]},{&quot;../common/adjust_lon&quot;:5,&quot;../common/qsfnz&quot;:20}],50:[function(a,b,c){var d=1e-10,e=a(&quot;../common/msfnz&quot;),f=a(&quot;../common/tsfnz&quot;),g=Math.PI/2,h=a(&quot;../common/sign&quot;),i=a(&quot;../common/adjust_lon&quot;),j=a(&quot;../common/phi2z&quot;);c.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)&lt;d)){var a=this.b/this.a;this.e=Math.sqrt(1-a*a);var b=Math.sin(this.lat1),c=Math.cos(this.lat1),g=e(this.e,b,c),h=f(this.e,this.lat1,b),i=Math.sin(this.lat2),j=Math.cos(this.lat2),k=e(this.e,i,j),l=f(this.e,this.lat2,i),m=f(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)&gt;d?this.ns=Math.log(g/k)/Math.log(h/l):this.ns=b,isNaN(this.ns)&amp;&amp;(this.ns=b),this.f0=g/(this.ns*Math.pow(h,this.ns)),this.rh=this.a*this.f0*Math.pow(m,this.ns),this.title||(this.title=&quot;Lambert Conformal Conic&quot;)}},c.forward=function(a){var b=a.x,c=a.y;Math.abs(2*Math.abs(c)-Math.PI)&lt;=d&amp;&amp;(c=h(c)*(g-2*d));var e,j,k=Math.abs(Math.abs(c)-g);if(k&gt;d)e=f(this.e,c,Math.sin(c)),j=this.a*this.f0*Math.pow(e,this.ns);else{if(k=c*this.ns,0&gt;=k)return null;j=0}var l=this.ns*i(b-this.long0);return a.x=this.k0*(j*Math.sin(l))+this.x0,a.y=this.k0*(this.rh-j*Math.cos(l))+this.y0,a},c.inverse=function(a){var b,c,d,e,f,h=(a.x-this.x0)/this.k0,k=this.rh-(a.y-this.y0)/this.k0;this.ns&gt;0?(b=Math.sqrt(h*h+k*k),c=1):(b=-Math.sqrt(h*h+k*k),c=-1);var l=0;if(0!==b&amp;&amp;(l=Math.atan2(c*h,c*k)),0!==b||this.ns&gt;0){if(c=1/this.ns,d=Math.pow(b/(this.a*this.f0),c),e=j(this.e,d),-9999===e)return null}else e=-g;return f=i(l/this.ns+this.long0),a.x=f,a.y=e,a},c.names=[&quot;Lambert Tangential Conformal Conic Projection&quot;,&quot;Lambert_Conformal_Conic&quot;,&quot;Lambert_Conformal_Conic_2SP&quot;,&quot;lcc&quot;]},{&quot;../common/adjust_lon&quot;:5,&quot;../common/msfnz&quot;:15,&quot;../common/phi2z&quot;:16,&quot;../common/sign&quot;:21,&quot;../common/tsfnz&quot;:24}],51:[function(a,b,c){function d(a){return a}c.init=function(){},c.forward=d,c.inverse=d,c.names=[&quot;longlat&quot;,&quot;identity&quot;]},{}],52:[function(a,b,c){var d=a(&quot;../common/msfnz&quot;),e=Math.PI/2,f=1e-10,g=57.29577951308232,h=a(&quot;../common/adjust_lon&quot;),i=Math.PI/4,j=a(&quot;../common/tsfnz&quot;),k=a(&quot;../common/phi2z&quot;);c.init=function(){var a=this.b/this.a;this.es=1-a*a,&quot;x0&quot;in this||(this.x0=0),&quot;y0&quot;in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=d(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},c.forward=function(a){var b=a.x,c=a.y;if(c*g&gt;90&amp;&amp;-90&gt;c*g&amp;&amp;b*g&gt;180&amp;&amp;-180&gt;b*g)return null;var d,k;if(Math.abs(Math.abs(c)-e)&lt;=f)return null;if(this.sphere)d=this.x0+this.a*this.k0*h(b-this.long0),k=this.y0+this.a*this.k0*Math.log(Math.tan(i+.5*c));else{var l=Math.sin(c),m=j(this.e,c,l);d=this.x0+this.a*this.k0*h(b-this.long0),k=this.y0-this.a*this.k0*Math.log(m)}return a.x=d,a.y=k,a},c.inverse=function(a){var b,c,d=a.x-this.x0,f=a.y-this.y0;if(this.sphere)c=e-2*Math.atan(Math.exp(-f/(this.a*this.k0)));else{var g=Math.exp(-f/(this.a*this.k0));if(c=k(this.e,g),-9999===c)return null}return b=h(this.long0+d/(this.a*this.k0)),a.x=b,a.y=c,a},c.names=[&quot;Mercator&quot;,&quot;Popular Visualisation Pseudo Mercator&quot;,&quot;Mercator_1SP&quot;,&quot;Mercator_Auxiliary_Sphere&quot;,&quot;merc&quot;]},{&quot;../common/adjust_lon&quot;:5,&quot;../common/msfnz&quot;:15,&quot;../common/phi2z&quot;:16,&quot;../common/tsfnz&quot;:24}],53:[function(a,b,c){var d=a(&quot;../common/adjust_lon&quot;);c.init=function(){},c.forward=function(a){var b=a.x,c=a.y,e=d(b-this.long0),f=this.x0+this.a*e,g=this.y0+this.a*Math.log(Math.tan(Math.PI/4+c/2.5))*1.25;return a.x=f,a.y=g,a},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b=d(this.long0+a.x/this.a),c=2.5*(Math.atan(Math.exp(.8*a.y/this.a))-Math.PI/4);return a.x=b,a.y=c,a},c.names=[&quot;Miller_Cylindrical&quot;,&quot;mill&quot;]},{&quot;../common/adjust_lon&quot;:5}],54:[function(a,b,c){var d=a(&quot;../common/adjust_lon&quot;),e=1e-10;c.init=function(){},c.forward=function(a){for(var b=a.x,c=a.y,f=d(b-this.long0),g=c,h=Math.PI*Math.sin(c),i=0;!0;i++){var j=-(g+Math.sin(g)-h)/(1+Math.cos(g));if(g+=j,Math.abs(j)&lt;e)break}g/=2,Math.PI/2-Math.abs(c)&lt;e&amp;&amp;(f=0);var k=.900316316158*this.a*f*Math.cos(g)+this.x0,l=1.4142135623731*this.a*Math.sin(g)+this.y0;return a.x=k,a.y=l,a},c.inverse=function(a){var b,c;a.x-=this.x0,a.y-=this.y0,c=a.y/(1.4142135623731*this.a),Math.abs(c)&gt;.999999999999&amp;&amp;(c=.999999999999),b=Math.asin(c);var e=d(this.long0+a.x/(.900316316158*this.a*Math.cos(b)));e&lt;-Math.PI&amp;&amp;(e=-Math.PI),e&gt;Math.PI&amp;&amp;(e=Math.PI),c=(2*b+Math.sin(2*b))/Math.PI,Math.abs(c)&gt;1&amp;&amp;(c=1);var f=Math.asin(c);return a.x=e,a.y=f,a},c.names=[&quot;Mollweide&quot;,&quot;moll&quot;]},{&quot;../common/adjust_lon&quot;:5}],55:[function(a,b,c){var d=484813681109536e-20;c.iterations=1,c.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},c.forward=function(a){var b,c=a.x,e=a.y,f=e-this.lat0,g=c-this.long0,h=f/d*1e-5,i=g,j=1,k=0;for(b=1;10&gt;=b;b++)j*=h,k+=this.A[b]*j;var l,m,n=k,o=i,p=1,q=0,r=0,s=0;for(b=1;6&gt;=b;b++)l=p*n-q*o,m=q*n+p*o,p=l,q=m,r=r+this.B_re[b]*p-this.B_im[b]*q,s=s+this.B_im[b]*p+this.B_re[b]*q;return a.x=s*this.a+this.x0,a.y=r*this.a+this.y0,a},c.inverse=function(a){var b,c,e,f=a.x,g=a.y,h=f-this.x0,i=g-this.y0,j=i/this.a,k=h/this.a,l=1,m=0,n=0,o=0;for(b=1;6&gt;=b;b++)c=l*j-m*k,e=m*j+l*k,l=c,m=e,n=n+this.C_re[b]*l-this.C_im[b]*m,o=o+this.C_im[b]*l+this.C_re[b]*m;for(var p=0;p&lt;this.iterations;p++){var q,r,s=n,t=o,u=j,v=k;for(b=2;6&gt;=b;b++)q=s*n-t*o,r=t*n+s*o,s=q,t=r,u+=(b-1)*(this.B_re[b]*s-this.B_im[b]*t),v+=(b-1)*(this.B_im[b]*s+this.B_re[b]*t);s=1,t=0;var w=this.B_re[1],x=this.B_im[1];for(b=2;6&gt;=b;b++)q=s*n-t*o,r=t*n+s*o,s=q,t=r,w+=b*(this.B_re[b]*s-this.B_im[b]*t),x+=b*(this.B_im[b]*s+this.B_re[b]*t);var y=w*w+x*x;n=(u*w+v*x)/y,o=(v*w-u*x)/y}var z=n,A=o,B=1,C=0;for(b=1;9&gt;=b;b++)B*=z,C+=this.D[b]*B;var D=this.lat0+C*d*1e5,E=this.long0+A;return a.x=E,a.y=D,a},c.names=[&quot;New_Zealand_Map_Grid&quot;,&quot;nzmg&quot;]},{}],56:[function(a,b,c){var d=a(&quot;../common/tsfnz&quot;),e=a(&quot;../common/adjust_lon&quot;),f=a(&quot;../common/phi2z&quot;),g=Math.PI/2,h=Math.PI/4,i=1e-10;c.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&amp;&amp;(this.k0=1);var a=Math.sin(this.lat0),b=Math.cos(this.lat0),c=this.e*a;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(b,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-c*c);var f=d(this.e,this.lat0,a),g=this.bl/b*Math.sqrt((1-this.es)/(1-c*c));1&gt;g*g&amp;&amp;(g=1);var h,i;if(isNaN(this.longc)){var j=d(this.e,this.lat1,Math.sin(this.lat1)),k=d(this.e,this.lat2,Math.sin(this.lat2));this.lat0&gt;=0?this.el=(g+Math.sqrt(g*g-1))*Math.pow(f,this.bl):this.el=(g-Math.sqrt(g*g-1))*Math.pow(f,this.bl);var l=Math.pow(j,this.bl),m=Math.pow(k,this.bl);h=this.el/l,i=.5*(h-1/h);var n=(this.el*this.el-m*l)/(this.el*this.el+m*l),o=(m-l)/(m+l),p=e(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(n*Math.tan(.5*this.bl*p)/o)/this.bl,this.long0=e(this.long0);var q=e(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*q)/i),this.alpha=Math.asin(g*Math.sin(this.gamma0))}else h=this.lat0&gt;=0?g+Math.sqrt(g*g-1):g-Math.sqrt(g*g-1),this.el=h*Math.pow(f,this.bl),i=.5*(h-1/h),this.gamma0=Math.asin(Math.sin(this.alpha)/g),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0&gt;=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(g*g-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(g*g-1),Math.cos(this.alpha))},c.forward=function(a){var b,c,f,j=a.x,k=a.y,l=e(j-this.long0);if(Math.abs(Math.abs(k)-g)&lt;=i)f=k&gt;0?-1:1,c=this.al/this.bl*Math.log(Math.tan(h+f*this.gamma0*.5)),b=-1*f*g*this.al/this.bl;else{var m=d(this.e,k,Math.sin(k)),n=this.el/Math.pow(m,this.bl),o=.5*(n-1/n),p=.5*(n+1/n),q=Math.sin(this.bl*l),r=(o*Math.sin(this.gamma0)-q*Math.cos(this.gamma0))/p;c=Math.abs(Math.abs(r)-1)&lt;=i?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-r)/(1+r))/this.bl,b=Math.abs(Math.cos(this.bl*l))&lt;=i?this.al*this.bl*l:this.al*Math.atan2(o*Math.cos(this.gamma0)+q*Math.sin(this.gamma0),Math.cos(this.bl*l))/this.bl}return this.no_rot?(a.x=this.x0+b,a.y=this.y0+c):(b-=this.uc,a.x=this.x0+c*Math.cos(this.alpha)+b*Math.sin(this.alpha),a.y=this.y0+b*Math.cos(this.alpha)-c*Math.sin(this.alpha)),a},c.inverse=function(a){var b,c;this.no_rot?(c=a.y-this.y0,b=a.x-this.x0):(c=(a.x-this.x0)*Math.cos(this.alpha)-(a.y-this.y0)*Math.sin(this.alpha),b=(a.y-this.y0)*Math.cos(this.alpha)+(a.x-this.x0)*Math.sin(this.alpha),b+=this.uc);var d=Math.exp(-1*this.bl*c/this.al),h=.5*(d-1/d),j=.5*(d+1/d),k=Math.sin(this.bl*b/this.al),l=(k*Math.cos(this.gamma0)+h*Math.sin(this.gamma0))/j,m=Math.pow(this.el/Math.sqrt((1+l)/(1-l)),1/this.bl);return Math.abs(l-1)&lt;i?(a.x=this.long0,a.y=g):Math.abs(l+1)&lt;i?(a.x=this.long0,a.y=-1*g):(a.y=f(this.e,m),a.x=e(this.long0-Math.atan2(h*Math.cos(this.gamma0)-k*Math.sin(this.gamma0),Math.cos(this.bl*b/this.al))/this.bl)),a},c.names=[&quot;Hotine_Oblique_Mercator&quot;,&quot;Hotine Oblique Mercator&quot;,&quot;Hotine_Oblique_Mercator_Azimuth_Natural_Origin&quot;,&quot;Hotine_Oblique_Mercator_Azimuth_Center&quot;,&quot;omerc&quot;]},{&quot;../common/adjust_lon&quot;:5,&quot;../common/phi2z&quot;:16,&quot;../common/tsfnz&quot;:24}],57:[function(a,b,c){var d=a(&quot;../common/e0fn&quot;),e=a(&quot;../common/e1fn&quot;),f=a(&quot;../common/e2fn&quot;),g=a(&quot;../common/e3fn&quot;),h=a(&quot;../common/adjust_lon&quot;),i=a(&quot;../common/adjust_lat&quot;),j=a(&quot;../common/mlfn&quot;),k=1e-10,l=a(&quot;../common/gN&quot;),m=20;c.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.ml0=this.a*j(this.e0,this.e1,this.e2,this.e3,this.lat0)},c.forward=function(a){var b,c,d,e=a.x,f=a.y,g=h(e-this.long0);if(d=g*Math.sin(f),this.sphere)Math.abs(f)&lt;=k?(b=this.a*g,c=-1*this.a*this.lat0):(b=this.a*Math.sin(d)/Math.tan(f),c=this.a*(i(f-this.lat0)+(1-Math.cos(d))/Math.tan(f)));else if(Math.abs(f)&lt;=k)b=this.a*g,c=-1*this.ml0;else{var m=l(this.a,this.e,Math.sin(f))/Math.tan(f);b=m*Math.sin(d),c=this.a*j(this.e0,this.e1,this.e2,this.e3,f)-this.ml0+m*(1-Math.cos(d))}return a.x=b+this.x0,a.y=c+this.y0,a},c.inverse=function(a){var b,c,d,e,f,g,i,l,n;if(d=a.x-this.x0,e=a.y-this.y0,this.sphere)if(Math.abs(e+this.a*this.lat0)&lt;=k)b=h(d/this.a+this.long0),c=0;else{g=this.lat0+e/this.a,i=d*d/this.a/this.a+g*g,l=g;var o;for(f=m;f;--f)if(o=Math.tan(l),n=-1*(g*(l*o+1)-l-.5*(l*l+i)*o)/((l-g)/o-1),l+=n,Math.abs(n)&lt;=k){c=l;break}b=h(this.long0+Math.asin(d*Math.tan(l)/this.a)/Math.sin(c))}else if(Math.abs(e+this.ml0)&lt;=k)c=0,b=h(this.long0+d/this.a);else{g=(this.ml0+e)/this.a,i=d*d/this.a/this.a+g*g,l=g;var p,q,r,s,t;for(f=m;f;--f)if(t=this.e*Math.sin(l),p=Math.sqrt(1-t*t)*Math.tan(l),q=this.a*j(this.e0,this.e1,this.e2,this.e3,l),r=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),s=q/this.a,n=(g*(p*s+1)-s-.5*p*(s*s+i))/(this.es*Math.sin(2*l)*(s*s+i-2*g*s)/(4*p)+(g-s)*(p*r-2/Math.sin(2*l))-r),l-=n,Math.abs(n)&lt;=k){c=l;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(c),2))*Math.tan(c),b=h(this.long0+Math.asin(d*p/this.a)/Math.sin(c))}return a.x=b,a.y=c,a},c.names=[&quot;Polyconic&quot;,&quot;poly&quot;]},{&quot;../common/adjust_lat&quot;:4,&quot;../common/adjust_lon&quot;:5,&quot;../common/e0fn&quot;:7,&quot;../common/e1fn&quot;:8,&quot;../common/e2fn&quot;:9,&quot;../common/e3fn&quot;:10,&quot;../common/gN&quot;:11,&quot;../common/mlfn&quot;:14}],58:[function(a,b,c){var d=a(&quot;../common/adjust_lon&quot;),e=a(&quot;../common/adjust_lat&quot;),f=a(&quot;../common/pj_enfn&quot;),g=20,h=a(&quot;../common/pj_mlfn&quot;),i=a(&quot;../common/pj_inv_mlfn&quot;),j=Math.PI/2,k=1e-10,l=a(&quot;../common/asinz&quot;);c.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=f(this.es)},c.forward=function(a){var b,c,e=a.x,f=a.y;if(e=d(e-this.long0),this.sphere){if(this.m)for(var i=this.n*Math.sin(f),j=g;j;--j){var l=(this.m*f+Math.sin(f)-i)/(this.m+Math.cos(f));if(f-=l,Math.abs(l)&lt;k)break}else f=1!==this.n?Math.asin(this.n*Math.sin(f)):f;b=this.a*this.C_x*e*(this.m+Math.cos(f)),c=this.a*this.C_y*f}else{var m=Math.sin(f),n=Math.cos(f);c=this.a*h(f,m,n,this.en),b=this.a*e*n/Math.sqrt(1-this.es*m*m)}return a.x=b,a.y=c,a},c.inverse=function(a){var b,c,f,g;return a.x-=this.x0,f=a.x/this.a,a.y-=this.y0,b=a.y/this.a,this.sphere?(b/=this.C_y,f/=this.C_x*(this.m+Math.cos(b)),this.m?b=l((this.m*b+Math.sin(b))/this.n):1!==this.n&amp;&amp;(b=l(Math.sin(b)/this.n)),f=d(f+this.long0),b=e(b)):(b=i(a.y/this.a,this.es,this.en),g=Math.abs(b),j&gt;g?(g=Math.sin(b),c=this.long0+a.x*Math.sqrt(1-this.es*g*g)/(this.a*Math.cos(b)),f=d(c)):j&gt;g-k&amp;&amp;(f=this.long0)),a.x=f,a.y=b,a},c.names=[&quot;Sinusoidal&quot;,&quot;sinu&quot;]},{&quot;../common/adjust_lat&quot;:4,&quot;../common/adjust_lon&quot;:5,&quot;../common/asinz&quot;:6,&quot;../common/pj_enfn&quot;:17,&quot;../common/pj_inv_mlfn&quot;:18,&quot;../common/pj_mlfn&quot;:19}],59:[function(a,b,c){c.init=function(){var a=this.lat0;this.lambda0=this.long0;var b=Math.sin(a),c=this.a,d=this.rf,e=1/d,f=2*e-Math.pow(e,2),g=this.e=Math.sqrt(f);this.R=this.k0*c*Math.sqrt(1-f)/(1-f*Math.pow(b,2)),this.alpha=Math.sqrt(1+f/(1-f)*Math.pow(Math.cos(a),4)),this.b0=Math.asin(b/this.alpha);var h=Math.log(Math.tan(Math.PI/4+this.b0/2)),i=Math.log(Math.tan(Math.PI/4+a/2)),j=Math.log((1+g*b)/(1-g*b));this.K=h-this.alpha*i+this.alpha*g/2*j},c.forward=function(a){var b=Math.log(Math.tan(Math.PI/4-a.y/2)),c=this.e/2*Math.log((1+this.e*Math.sin(a.y))/(1-this.e*Math.sin(a.y))),d=-this.alpha*(b+c)+this.K,e=2*(Math.atan(Math.exp(d))-Math.PI/4),f=this.alpha*(a.x-this.lambda0),g=Math.atan(Math.sin(f)/(Math.sin(this.b0)*Math.tan(e)+Math.cos(this.b0)*Math.cos(f))),h=Math.asin(Math.cos(this.b0)*Math.sin(e)-Math.sin(this.b0)*Math.cos(e)*Math.cos(f));return a.y=this.R/2*Math.log((1+Math.sin(h))/(1-Math.sin(h)))+this.y0,a.x=this.R*g+this.x0,a},c.inverse=function(a){for(var b=a.x-this.x0,c=a.y-this.y0,d=b/this.R,e=2*(Math.atan(Math.exp(c/this.R))-Math.PI/4),f=Math.asin(Math.cos(this.b0)*Math.sin(e)+Math.sin(this.b0)*Math.cos(e)*Math.cos(d)),g=Math.atan(Math.sin(d)/(Math.cos(this.b0)*Math.cos(d)-Math.sin(this.b0)*Math.tan(e))),h=this.lambda0+g/this.alpha,i=0,j=f,k=-1e3,l=0;Math.abs(j-k)&gt;1e-7;){if(++l&gt;20)return;i=1/this.alpha*(Math.log(Math.tan(Math.PI/4+f/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(j))/2)),k=j,j=2*Math.atan(Math.exp(i))-Math.PI/2}return a.x=h,a.y=j,a},c.names=[&quot;somerc&quot;]},{}],60:[function(a,b,c){var d=Math.PI/2,e=1e-10,f=a(&quot;../common/sign&quot;),g=a(&quot;../common/msfnz&quot;),h=a(&quot;../common/tsfnz&quot;),i=a(&quot;../common/phi2z&quot;),j=a(&quot;../common/adjust_lon&quot;);c.ssfn_=function(a,b,c){return b*=c,Math.tan(.5*(d+a))*Math.pow((1-b)/(1+b),.5*c)},c.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&amp;&amp;!isNaN(this.lat_ts)&amp;&amp;Math.abs(this.coslat0)&lt;=e&amp;&amp;(this.k0=.5*(1+f(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)&lt;=e&amp;&amp;(this.lat0&gt;0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&amp;&amp;!isNaN(this.lat_ts)&amp;&amp;Math.abs(this.coslat0)&lt;=e&amp;&amp;(this.k0=.5*this.cons*g(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/h(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=g(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-d,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},c.forward=function(a){var b,c,f,g,i,k,l=a.x,m=a.y,n=Math.sin(m),o=Math.cos(m),p=j(l-this.long0);return Math.abs(Math.abs(l-this.long0)-Math.PI)&lt;=e&amp;&amp;Math.abs(m+this.lat0)&lt;=e?(a.x=NaN,a.y=NaN,a):this.sphere?(b=2*this.k0/(1+this.sinlat0*n+this.coslat0*o*Math.cos(p)),a.x=this.a*b*o*Math.sin(p)+this.x0,a.y=this.a*b*(this.coslat0*n-this.sinlat0*o*Math.cos(p))+this.y0,a):(c=2*Math.atan(this.ssfn_(m,n,this.e))-d,g=Math.cos(c),f=Math.sin(c),Math.abs(this.coslat0)&lt;=e?(i=h(this.e,m*this.con,this.con*n),k=2*this.a*this.k0*i/this.cons,a.x=this.x0+k*Math.sin(l-this.long0),a.y=this.y0-this.con*k*Math.cos(l-this.long0),a):(Math.abs(this.sinlat0)&lt;e?(b=2*this.a*this.k0/(1+g*Math.cos(p)),a.y=b*f):(b=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*f+this.cosX0*g*Math.cos(p))),a.y=b*(this.cosX0*f-this.sinX0*g*Math.cos(p))+this.y0),a.x=b*g*Math.sin(p)+this.x0,a))},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,f,g,h,k=Math.sqrt(a.x*a.x+a.y*a.y);if(this.sphere){var l=2*Math.atan(k/(.5*this.a*this.k0));return b=this.long0,c=this.lat0,e&gt;=k?(a.x=b,a.y=c,a):(c=Math.asin(Math.cos(l)*this.sinlat0+a.y*Math.sin(l)*this.coslat0/k),b=j(Math.abs(this.coslat0)&lt;e?this.lat0&gt;0?this.long0+Math.atan2(a.x,-1*a.y):this.long0+Math.atan2(a.x,a.y):this.long0+Math.atan2(a.x*Math.sin(l),k*this.coslat0*Math.cos(l)-a.y*this.sinlat0*Math.sin(l))),a.x=b,a.y=c,a)}if(Math.abs(this.coslat0)&lt;=e){if(e&gt;=k)return c=this.lat0,b=this.long0,a.x=b,a.y=c,a;a.x*=this.con,a.y*=this.con,f=k*this.cons/(2*this.a*this.k0),c=this.con*i(this.e,f),b=this.con*j(this.con*this.long0+Math.atan2(a.x,-1*a.y))}else g=2*Math.atan(k*this.cosX0/(2*this.a*this.k0*this.ms1)),b=this.long0,e&gt;=k?h=this.X0:(h=Math.asin(Math.cos(g)*this.sinX0+a.y*Math.sin(g)*this.cosX0/k),b=j(this.long0+Math.atan2(a.x*Math.sin(g),k*this.cosX0*Math.cos(g)-a.y*this.sinX0*Math.sin(g)))),c=-1*i(this.e,Math.tan(.5*(d+h)));return a.x=b,a.y=c,a},c.names=[&quot;stere&quot;,&quot;Stereographic_South_Pole&quot;,&quot;Polar Stereographic (variant B)&quot;]},{&quot;../common/adjust_lon&quot;:5,&quot;../common/msfnz&quot;:15,&quot;../common/phi2z&quot;:16,&quot;../common/sign&quot;:21,&quot;../common/tsfnz&quot;:24}],61:[function(a,b,c){var d=a(&quot;./gauss&quot;),e=a(&quot;../common/adjust_lon&quot;);c.init=function(){d.init.apply(this),this.rc&amp;&amp;(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title=&quot;Oblique Stereographic Alternative&quot;))},c.forward=function(a){var b,c,f,g;return a.x=e(a.x-this.long0),d.forward.apply(this,[a]),b=Math.sin(a.y),c=Math.cos(a.y),f=Math.cos(a.x),g=this.k0*this.R2/(1+this.sinc0*b+this.cosc0*c*f),a.x=g*c*Math.sin(a.x),a.y=g*(this.cosc0*b-this.sinc0*c*f),a.x=this.a*a.x+this.x0,a.y=this.a*a.y+this.y0,a},c.inverse=function(a){var b,c,f,g,h;if(a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,h=Math.sqrt(a.x*a.x+a.y*a.y)){var i=2*Math.atan2(h,this.R2);b=Math.sin(i),c=Math.cos(i),g=Math.asin(c*this.sinc0+a.y*b*this.cosc0/h),f=Math.atan2(a.x*b,h*this.cosc0*c-a.y*this.sinc0*b)}else g=this.phic0,f=0;return a.x=f,a.y=g,d.inverse.apply(this,[a]),a.x=e(a.x+this.long0),a},c.names=[&quot;Stereographic_North_Pole&quot;,&quot;Oblique_Stereographic&quot;,&quot;Polar_Stereographic&quot;,&quot;sterea&quot;,&quot;Oblique Stereographic Alternative&quot;]},{&quot;../common/adjust_lon&quot;:5,&quot;./gauss&quot;:46}],62:[function(a,b,c){var d=a(&quot;../common/e0fn&quot;),e=a(&quot;../common/e1fn&quot;),f=a(&quot;../common/e2fn&quot;),g=a(&quot;../common/e3fn&quot;),h=a(&quot;../common/mlfn&quot;),i=a(&quot;../common/adjust_lon&quot;),j=Math.PI/2,k=1e-10,l=a(&quot;../common/sign&quot;),m=a(&quot;../common/asinz&quot;);c.init=function(){this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.ml0=this.a*h(this.e0,this.e1,this.e2,this.e3,this.lat0)},c.forward=function(a){var b,c,d,e=a.x,f=a.y,g=i(e-this.long0),j=Math.sin(f),k=Math.cos(f);if(this.sphere){var l=k*Math.sin(g);if(Math.abs(Math.abs(l)-1)&lt;1e-10)return 93;c=.5*this.a*this.k0*Math.log((1+l)/(1-l)),b=Math.acos(k*Math.cos(g)/Math.sqrt(1-l*l)),0&gt;f&amp;&amp;(b=-b),d=this.a*this.k0*(b-this.lat0)}else{var m=k*g,n=Math.pow(m,2),o=this.ep2*Math.pow(k,2),p=Math.tan(f),q=Math.pow(p,2);b=1-this.es*Math.pow(j,2);var r=this.a/Math.sqrt(b),s=this.a*h(this.e0,this.e1,this.e2,this.e3,f);c=this.k0*r*m*(1+n/6*(1-q+o+n/20*(5-18*q+Math.pow(q,2)+72*o-58*this.ep2)))+this.x0,d=this.k0*(s-this.ml0+r*p*(n*(.5+n/24*(5-q+9*o+4*Math.pow(o,2)+n/30*(61-58*q+Math.pow(q,2)+600*o-330*this.ep2)))))+this.y0}return a.x=c,a.y=d,a},c.inverse=function(a){var b,c,d,e,f,g,h=6;if(this.sphere){var n=Math.exp(a.x/(this.a*this.k0)),o=.5*(n-1/n),p=this.lat0+a.y/(this.a*this.k0),q=Math.cos(p);b=Math.sqrt((1-q*q)/(1+o*o)),f=m(b),0&gt;p&amp;&amp;(f=-f),g=0===o&amp;&amp;0===q?this.long0:i(Math.atan2(o,q)+this.long0)}else{var r=a.x-this.x0,s=a.y-this.y0;for(b=(this.ml0+s/this.k0)/this.a,c=b,e=0;!0&amp;&amp;(d=(b+this.e1*Math.sin(2*c)-this.e2*Math.sin(4*c)+this.e3*Math.sin(6*c))/this.e0-c,c+=d,!(Math.abs(d)&lt;=k));e++)if(e&gt;=h)return 95;if(Math.abs(c)&lt;j){var t=Math.sin(c),u=Math.cos(c),v=Math.tan(c),w=this.ep2*Math.pow(u,2),x=Math.pow(w,2),y=Math.pow(v,2),z=Math.pow(y,2);b=1-this.es*Math.pow(t,2);var A=this.a/Math.sqrt(b),B=A*(1-this.es)/b,C=r/(A*this.k0),D=Math.pow(C,2);f=c-A*v*D/B*(.5-D/24*(5+3*y+10*w-4*x-9*this.ep2-D/30*(61+90*y+298*w+45*z-252*this.ep2-3*x))),g=i(this.long0+C*(1-D/6*(1+2*y+w-D/20*(5-2*w+28*y-3*x+8*this.ep2+24*z)))/u)}else f=j*l(s),g=this.long0}return a.x=g,a.y=f,a},c.names=[&quot;Transverse_Mercator&quot;,&quot;Transverse Mercator&quot;,&quot;tmerc&quot;]},{&quot;../common/adjust_lon&quot;:5,&quot;../common/asinz&quot;:6,&quot;../common/e0fn&quot;:7,&quot;../common/e1fn&quot;:8,&quot;../common/e2fn&quot;:9,&quot;../common/e3fn&quot;:10,&quot;../common/mlfn&quot;:14,&quot;../common/sign&quot;:21}],63:[function(a,b,c){var d=.017453292519943295,e=a(&quot;./tmerc&quot;);c.dependsOn=&quot;tmerc&quot;,c.init=function(){this.zone&amp;&amp;(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*d,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,e.init.apply(this),this.forward=e.forward,this.inverse=e.inverse)},c.names=[&quot;Universal Transverse Mercator System&quot;,&quot;utm&quot;]},{&quot;./tmerc&quot;:62}],64:[function(a,b,c){var d=a(&quot;../common/adjust_lon&quot;),e=Math.PI/2,f=1e-10,g=a(&quot;../common/asinz&quot;);c.init=function(){this.R=this.a},c.forward=function(a){var b,c,h=a.x,i=a.y,j=d(h-this.long0);Math.abs(i)&lt;=f&amp;&amp;(b=this.x0+this.R*j,c=this.y0);var k=g(2*Math.abs(i/Math.PI));(Math.abs(j)&lt;=f||Math.abs(Math.abs(i)-e)&lt;=f)&amp;&amp;(b=this.x0,c=i&gt;=0?this.y0+Math.PI*this.R*Math.tan(.5*k):this.y0+Math.PI*this.R*-Math.tan(.5*k));var l=.5*Math.abs(Math.PI/j-j/Math.PI),m=l*l,n=Math.sin(k),o=Math.cos(k),p=o/(n+o-1),q=p*p,r=p*(2/n-1),s=r*r,t=Math.PI*this.R*(l*(p-s)+Math.sqrt(m*(p-s)*(p-s)-(s+m)*(q-s)))/(s+m);0&gt;j&amp;&amp;(t=-t),b=this.x0+t;var u=m+p;return t=Math.PI*this.R*(r*u-l*Math.sqrt((s+m)*(m+1)-u*u))/(s+m),c=i&gt;=0?this.y0+t:this.y0-t,a.x=b,a.y=c,a},c.inverse=function(a){var b,c,e,g,h,i,j,k,l,m,n,o,p;return a.x-=this.x0,a.y-=this.y0,n=Math.PI*this.R,e=a.x/n,g=a.y/n,h=e*e+g*g,i=-Math.abs(g)*(1+h),j=i-2*g*g+e*e,k=-2*i+1+2*g*g+h*h,p=g*g/k+(2*j*j*j/k/k/k-9*i*j/k/k)/27,l=(i-j*j/3/k)/k,m=2*Math.sqrt(-l/3),n=3*p/l/m,Math.abs(n)&gt;1&amp;&amp;(n=n&gt;=0?1:-1),o=Math.acos(n)/3,c=a.y&gt;=0?(-m*Math.cos(o+Math.PI/3)-j/3/k)*Math.PI:-(-m*Math.cos(o+Math.PI/3)-j/3/k)*Math.PI,b=Math.abs(e)&lt;f?this.long0:d(this.long0+Math.PI*(h-1+Math.sqrt(1+2*(e*e-g*g)+h*h))/2/e),a.x=b,a.y=c,a},c.names=[&quot;Van_der_Grinten_I&quot;,&quot;VanDerGrinten&quot;,&quot;vandg&quot;]},{&quot;../common/adjust_lon&quot;:5,&quot;../common/asinz&quot;:6}],65:[function(a,b,c){var d=.017453292519943295,e=57.29577951308232,f=1,g=2,h=a(&quot;./datum_transform&quot;),i=a(&quot;./adjust_axis&quot;),j=a(&quot;./Proj&quot;),k=a(&quot;./common/toPoint&quot;);b.exports=function l(a,b,c){function m(a,b){return(a.datum.datum_type===f||a.datum.datum_type===g)&amp;&amp;&quot;WGS84&quot;!==b.datumCode}var n;return Array.isArray(c)&amp;&amp;(c=k(c)),a.datum&amp;&amp;b.datum&amp;&amp;(m(a,b)||m(b,a))&amp;&amp;(n=new j(&quot;WGS84&quot;),l(a,n,c),a=n),&quot;enu&quot;!==a.axis&amp;&amp;i(a,!1,c),&quot;longlat&quot;===a.projName?(c.x*=d,c.y*=d):(a.to_meter&amp;&amp;(c.x*=a.to_meter,c.y*=a.to_meter),a.inverse(c)),a.from_greenwich&amp;&amp;(c.x+=a.from_greenwich),c=h(a.datum,b.datum,c),b.from_greenwich&amp;&amp;(c.x-=b.from_greenwich),&quot;longlat&quot;===b.projName?(c.x*=e,c.y*=e):(b.forward(c),b.to_meter&amp;&amp;(c.x/=b.to_meter,c.y/=b.to_meter)),&quot;enu&quot;!==b.axis&amp;&amp;i(b,!0,c),c}},{&quot;./Proj&quot;:2,&quot;./adjust_axis&quot;:3,&quot;./common/toPoint&quot;:23,&quot;./datum_transform&quot;:31}],66:[function(a,b,c){function d(a,b,c){a[b]=c.map(function(a){var b={};return e(a,b),b}).reduce(function(a,b){return j(a,b)},{})}function e(a,b){var c;return Array.isArray(a)?(c=a.shift(),&quot;PARAMETER&quot;===c&amp;&amp;(c=a.shift()),1===a.length?Array.isArray(a[0])?(b[c]={},e(a[0],b[c])):b[c]=a[0]:a.length?&quot;TOWGS84&quot;===c?b[c]=a:(b[c]={},[&quot;UNIT&quot;,&quot;PRIMEM&quot;,&quot;VERT_DATUM&quot;].indexOf(c)&gt;-1?(b[c]={name:a[0].toLowerCase(),convert:a[1]},3===a.length&amp;&amp;(b[c].auth=a[2])):&quot;SPHEROID&quot;===c?(b[c]={name:a[0],a:a[1],rf:a[2]},4===a.length&amp;&amp;(b[c].auth=a[3])):[&quot;GEOGCS&quot;,&quot;GEOCCS&quot;,&quot;DATUM&quot;,&quot;VERT_CS&quot;,&quot;COMPD_CS&quot;,&quot;LOCAL_CS&quot;,&quot;FITTED_CS&quot;,&quot;LOCAL_DATUM&quot;].indexOf(c)&gt;-1?(a[0]=[&quot;name&quot;,a[0]],d(b,c,a)):a.every(function(a){return Array.isArray(a)})?d(b,c,a):e(a,b[c])):b[c]=!0,void 0):void(b[a]=!0)}function f(a,b){var c=b[0],d=b[1];!(c in a)&amp;&amp;d in a&amp;&amp;(a[c]=a[d],3===b.length&amp;&amp;(a[c]=b[2](a[c])))}function g(a){return a*i}function h(a){function b(b){var c=a.to_meter||1;return parseFloat(b,10)*c}&quot;GEOGCS&quot;===a.type?a.projName=&quot;longlat&quot;:&quot;LOCAL_CS&quot;===a.type?(a.projName=&quot;identity&quot;,a.local=!0):&quot;object&quot;==typeof a.PROJECTION?a.projName=Object.keys(a.PROJECTION)[0]:a.projName=a.PROJECTION,a.UNIT&amp;&amp;(a.units=a.UNIT.name.toLowerCase(),&quot;metre&quot;===a.units&amp;&amp;(a.units=&quot;meter&quot;),
a.UNIT.convert&amp;&amp;(&quot;GEOGCS&quot;===a.type?a.DATUM&amp;&amp;a.DATUM.SPHEROID&amp;&amp;(a.to_meter=parseFloat(a.UNIT.convert,10)*a.DATUM.SPHEROID.a):a.to_meter=parseFloat(a.UNIT.convert,10))),a.GEOGCS&amp;&amp;(a.GEOGCS.DATUM?a.datumCode=a.GEOGCS.DATUM.name.toLowerCase():a.datumCode=a.GEOGCS.name.toLowerCase(),&quot;d_&quot;===a.datumCode.slice(0,2)&amp;&amp;(a.datumCode=a.datumCode.slice(2)),(&quot;new_zealand_geodetic_datum_1949&quot;===a.datumCode||&quot;new_zealand_1949&quot;===a.datumCode)&amp;&amp;(a.datumCode=&quot;nzgd49&quot;),&quot;wgs_1984&quot;===a.datumCode&amp;&amp;(&quot;Mercator_Auxiliary_Sphere&quot;===a.PROJECTION&amp;&amp;(a.sphere=!0),a.datumCode=&quot;wgs84&quot;),&quot;_ferro&quot;===a.datumCode.slice(-6)&amp;&amp;(a.datumCode=a.datumCode.slice(0,-6)),&quot;_jakarta&quot;===a.datumCode.slice(-8)&amp;&amp;(a.datumCode=a.datumCode.slice(0,-8)),~a.datumCode.indexOf(&quot;belge&quot;)&amp;&amp;(a.datumCode=&quot;rnb72&quot;),a.GEOGCS.DATUM&amp;&amp;a.GEOGCS.DATUM.SPHEROID&amp;&amp;(a.ellps=a.GEOGCS.DATUM.SPHEROID.name.replace(&quot;_19&quot;,&quot;&quot;).replace(/[Cc]larke\_18/,&quot;clrk&quot;),&quot;international&quot;===a.ellps.toLowerCase().slice(0,13)&amp;&amp;(a.ellps=&quot;intl&quot;),a.a=a.GEOGCS.DATUM.SPHEROID.a,a.rf=parseFloat(a.GEOGCS.DATUM.SPHEROID.rf,10)),~a.datumCode.indexOf(&quot;osgb_1936&quot;)&amp;&amp;(a.datumCode=&quot;osgb36&quot;)),a.b&amp;&amp;!isFinite(a.b)&amp;&amp;(a.b=a.a);var c=function(b){return f(a,b)},d=[[&quot;standard_parallel_1&quot;,&quot;Standard_Parallel_1&quot;],[&quot;standard_parallel_2&quot;,&quot;Standard_Parallel_2&quot;],[&quot;false_easting&quot;,&quot;False_Easting&quot;],[&quot;false_northing&quot;,&quot;False_Northing&quot;],[&quot;central_meridian&quot;,&quot;Central_Meridian&quot;],[&quot;latitude_of_origin&quot;,&quot;Latitude_Of_Origin&quot;],[&quot;latitude_of_origin&quot;,&quot;Central_Parallel&quot;],[&quot;scale_factor&quot;,&quot;Scale_Factor&quot;],[&quot;k0&quot;,&quot;scale_factor&quot;],[&quot;latitude_of_center&quot;,&quot;Latitude_of_center&quot;],[&quot;lat0&quot;,&quot;latitude_of_center&quot;,g],[&quot;longitude_of_center&quot;,&quot;Longitude_Of_Center&quot;],[&quot;longc&quot;,&quot;longitude_of_center&quot;,g],[&quot;x0&quot;,&quot;false_easting&quot;,b],[&quot;y0&quot;,&quot;false_northing&quot;,b],[&quot;long0&quot;,&quot;central_meridian&quot;,g],[&quot;lat0&quot;,&quot;latitude_of_origin&quot;,g],[&quot;lat0&quot;,&quot;standard_parallel_1&quot;,g],[&quot;lat1&quot;,&quot;standard_parallel_1&quot;,g],[&quot;lat2&quot;,&quot;standard_parallel_2&quot;,g],[&quot;alpha&quot;,&quot;azimuth&quot;,g],[&quot;srsCode&quot;,&quot;name&quot;]];d.forEach(c),a.long0||!a.longc||&quot;Albers_Conic_Equal_Area&quot;!==a.projName&amp;&amp;&quot;Lambert_Azimuthal_Equal_Area&quot;!==a.projName||(a.long0=a.longc),a.lat_ts||!a.lat1||&quot;Stereographic_South_Pole&quot;!==a.projName&amp;&amp;&quot;Polar Stereographic (variant B)&quot;!==a.projName||(a.lat0=g(a.lat1&gt;0?90:-90),a.lat_ts=a.lat1)}var i=.017453292519943295,j=a(&quot;./extend&quot;);b.exports=function(a,b){var c=JSON.parse((&quot;,&quot;+a).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',[&quot;$1&quot;,').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',&quot;$1&quot;]').replace(/,\[&quot;VERTCS&quot;.+/,&quot;&quot;)),d=c.shift(),f=c.shift();c.unshift([&quot;name&quot;,f]),c.unshift([&quot;type&quot;,d]),c.unshift(&quot;output&quot;);var g={};return e(c,g),h(g.output),j(b,g.output)}},{&quot;./extend&quot;:34}],67:[function(a,b,c){function d(a){return a*(Math.PI/180)}function e(a){return 180*(a/Math.PI)}function f(a){var b,c,e,f,g,i,j,k,l,m=a.lat,n=a.lon,o=6378137,p=.00669438,q=.9996,r=d(m),s=d(n);l=Math.floor((n+180)/6)+1,180===n&amp;&amp;(l=60),m&gt;=56&amp;&amp;64&gt;m&amp;&amp;n&gt;=3&amp;&amp;12&gt;n&amp;&amp;(l=32),m&gt;=72&amp;&amp;84&gt;m&amp;&amp;(n&gt;=0&amp;&amp;9&gt;n?l=31:n&gt;=9&amp;&amp;21&gt;n?l=33:n&gt;=21&amp;&amp;33&gt;n?l=35:n&gt;=33&amp;&amp;42&gt;n&amp;&amp;(l=37)),b=6*(l-1)-180+3,k=d(b),c=p/(1-p),e=o/Math.sqrt(1-p*Math.sin(r)*Math.sin(r)),f=Math.tan(r)*Math.tan(r),g=c*Math.cos(r)*Math.cos(r),i=Math.cos(r)*(s-k),j=o*((1-p/4-3*p*p/64-5*p*p*p/256)*r-(3*p/8+3*p*p/32+45*p*p*p/1024)*Math.sin(2*r)+(15*p*p/256+45*p*p*p/1024)*Math.sin(4*r)-35*p*p*p/3072*Math.sin(6*r));var t=q*e*(i+(1-f+g)*i*i*i/6+(5-18*f+f*f+72*g-58*c)*i*i*i*i*i/120)+5e5,u=q*(j+e*Math.tan(r)*(i*i/2+(5-f+9*g+4*g*g)*i*i*i*i/24+(61-58*f+f*f+600*g-330*c)*i*i*i*i*i*i/720));return 0&gt;m&amp;&amp;(u+=1e7),{northing:Math.round(u),easting:Math.round(t),zoneNumber:l,zoneLetter:h(m)}}function g(a){var b=a.northing,c=a.easting,d=a.zoneLetter,f=a.zoneNumber;if(0&gt;f||f&gt;60)return null;var h,i,j,k,l,m,n,o,p,q,r=.9996,s=6378137,t=.00669438,u=(1-Math.sqrt(1-t))/(1+Math.sqrt(1-t)),v=c-5e5,w=b;&quot;N&quot;&gt;d&amp;&amp;(w-=1e7),o=6*(f-1)-180+3,h=t/(1-t),n=w/r,p=n/(s*(1-t/4-3*t*t/64-5*t*t*t/256)),q=p+(3*u/2-27*u*u*u/32)*Math.sin(2*p)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*p)+151*u*u*u/96*Math.sin(6*p),i=s/Math.sqrt(1-t*Math.sin(q)*Math.sin(q)),j=Math.tan(q)*Math.tan(q),k=h*Math.cos(q)*Math.cos(q),l=s*(1-t)/Math.pow(1-t*Math.sin(q)*Math.sin(q),1.5),m=v/(i*r);var x=q-i*Math.tan(q)/l*(m*m/2-(5+3*j+10*k-4*k*k-9*h)*m*m*m*m/24+(61+90*j+298*k+45*j*j-252*h-3*k*k)*m*m*m*m*m*m/720);x=e(x);var y=(m-(1+2*j+k)*m*m*m/6+(5-2*k+28*j-3*k*k+8*h+24*j*j)*m*m*m*m*m/120)/Math.cos(q);y=o+e(y);var z;if(a.accuracy){var A=g({northing:a.northing+a.accuracy,easting:a.easting+a.accuracy,zoneLetter:a.zoneLetter,zoneNumber:a.zoneNumber});z={top:A.lat,right:A.lon,bottom:x,left:y}}else z={lat:x,lon:y};return z}function h(a){var b=&quot;Z&quot;;return 84&gt;=a&amp;&amp;a&gt;=72?b=&quot;X&quot;:72&gt;a&amp;&amp;a&gt;=64?b=&quot;W&quot;:64&gt;a&amp;&amp;a&gt;=56?b=&quot;V&quot;:56&gt;a&amp;&amp;a&gt;=48?b=&quot;U&quot;:48&gt;a&amp;&amp;a&gt;=40?b=&quot;T&quot;:40&gt;a&amp;&amp;a&gt;=32?b=&quot;S&quot;:32&gt;a&amp;&amp;a&gt;=24?b=&quot;R&quot;:24&gt;a&amp;&amp;a&gt;=16?b=&quot;Q&quot;:16&gt;a&amp;&amp;a&gt;=8?b=&quot;P&quot;:8&gt;a&amp;&amp;a&gt;=0?b=&quot;N&quot;:0&gt;a&amp;&amp;a&gt;=-8?b=&quot;M&quot;:-8&gt;a&amp;&amp;a&gt;=-16?b=&quot;L&quot;:-16&gt;a&amp;&amp;a&gt;=-24?b=&quot;K&quot;:-24&gt;a&amp;&amp;a&gt;=-32?b=&quot;J&quot;:-32&gt;a&amp;&amp;a&gt;=-40?b=&quot;H&quot;:-40&gt;a&amp;&amp;a&gt;=-48?b=&quot;G&quot;:-48&gt;a&amp;&amp;a&gt;=-56?b=&quot;F&quot;:-56&gt;a&amp;&amp;a&gt;=-64?b=&quot;E&quot;:-64&gt;a&amp;&amp;a&gt;=-72?b=&quot;D&quot;:-72&gt;a&amp;&amp;a&gt;=-80&amp;&amp;(b=&quot;C&quot;),b}function i(a,b){var c=&quot;00000&quot;+a.easting,d=&quot;00000&quot;+a.northing;return a.zoneNumber+a.zoneLetter+j(a.easting,a.northing,a.zoneNumber)+c.substr(c.length-5,b)+d.substr(d.length-5,b)}function j(a,b,c){var d=k(c),e=Math.floor(a/1e5),f=Math.floor(b/1e5)%20;return l(e,f,d)}function k(a){var b=a%q;return 0===b&amp;&amp;(b=q),b}function l(a,b,c){var d=c-1,e=r.charCodeAt(d),f=s.charCodeAt(d),g=e+a-1,h=f+b,i=!1;g&gt;x&amp;&amp;(g=g-x+t-1,i=!0),(g===u||u&gt;e&amp;&amp;g&gt;u||(g&gt;u||u&gt;e)&amp;&amp;i)&amp;&amp;g++,(g===v||v&gt;e&amp;&amp;g&gt;v||(g&gt;v||v&gt;e)&amp;&amp;i)&amp;&amp;(g++,g===u&amp;&amp;g++),g&gt;x&amp;&amp;(g=g-x+t-1),h&gt;w?(h=h-w+t-1,i=!0):i=!1,(h===u||u&gt;f&amp;&amp;h&gt;u||(h&gt;u||u&gt;f)&amp;&amp;i)&amp;&amp;h++,(h===v||v&gt;f&amp;&amp;h&gt;v||(h&gt;v||v&gt;f)&amp;&amp;i)&amp;&amp;(h++,h===u&amp;&amp;h++),h&gt;w&amp;&amp;(h=h-w+t-1);var j=String.fromCharCode(g)+String.fromCharCode(h);return j}function m(a){if(a&amp;&amp;0===a.length)throw&quot;MGRSPoint coverting from nothing&quot;;for(var b,c=a.length,d=null,e=&quot;&quot;,f=0;!/[A-Z]/.test(b=a.charAt(f));){if(f&gt;=2)throw&quot;MGRSPoint bad conversion from: &quot;+a;e+=b,f++}var g=parseInt(e,10);if(0===f||f+3&gt;c)throw&quot;MGRSPoint bad conversion from: &quot;+a;var h=a.charAt(f++);if(&quot;A&quot;&gt;=h||&quot;B&quot;===h||&quot;Y&quot;===h||h&gt;=&quot;Z&quot;||&quot;I&quot;===h||&quot;O&quot;===h)throw&quot;MGRSPoint zone letter &quot;+h+&quot; not handled: &quot;+a;d=a.substring(f,f+=2);for(var i=k(g),j=n(d.charAt(0),i),l=o(d.charAt(1),i);l&lt;p(h);)l+=2e6;var m=c-f;if(m%2!==0)throw&quot;MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters&quot;+a;var q,r,s,t,u,v=m/2,w=0,x=0;return v&gt;0&amp;&amp;(q=1e5/Math.pow(10,v),r=a.substring(f,f+v),w=parseFloat(r)*q,s=a.substring(f+v),x=parseFloat(s)*q),t=w+j,u=x+l,{easting:t,northing:u,zoneLetter:h,zoneNumber:g,accuracy:q}}function n(a,b){for(var c=r.charCodeAt(b-1),d=1e5,e=!1;c!==a.charCodeAt(0);){if(c++,c===u&amp;&amp;c++,c===v&amp;&amp;c++,c&gt;x){if(e)throw&quot;Bad character: &quot;+a;c=t,e=!0}d+=1e5}return d}function o(a,b){if(a&gt;&quot;V&quot;)throw&quot;MGRSPoint given invalid Northing &quot;+a;for(var c=s.charCodeAt(b-1),d=0,e=!1;c!==a.charCodeAt(0);){if(c++,c===u&amp;&amp;c++,c===v&amp;&amp;c++,c&gt;w){if(e)throw&quot;Bad character: &quot;+a;c=t,e=!0}d+=1e5}return d}function p(a){var b;switch(a){case&quot;C&quot;:b=11e5;break;case&quot;D&quot;:b=2e6;break;case&quot;E&quot;:b=28e5;break;case&quot;F&quot;:b=37e5;break;case&quot;G&quot;:b=46e5;break;case&quot;H&quot;:b=55e5;break;case&quot;J&quot;:b=64e5;break;case&quot;K&quot;:b=73e5;break;case&quot;L&quot;:b=82e5;break;case&quot;M&quot;:b=91e5;break;case&quot;N&quot;:b=0;break;case&quot;P&quot;:b=8e5;break;case&quot;Q&quot;:b=17e5;break;case&quot;R&quot;:b=26e5;break;case&quot;S&quot;:b=35e5;break;case&quot;T&quot;:b=44e5;break;case&quot;U&quot;:b=53e5;break;case&quot;V&quot;:b=62e5;break;case&quot;W&quot;:b=7e6;break;case&quot;X&quot;:b=79e5;break;default:b=-1}if(b&gt;=0)return b;throw&quot;Invalid zone letter: &quot;+a}var q=6,r=&quot;AJSAJS&quot;,s=&quot;AFAFAF&quot;,t=65,u=73,v=79,w=86,x=90;c.forward=function(a,b){return b=b||5,i(f({lat:a[1],lon:a[0]}),b)},c.inverse=function(a){var b=g(m(a.toUpperCase()));return b.lat&amp;&amp;b.lon?[b.lon,b.lat,b.lon,b.lat]:[b.left,b.bottom,b.right,b.top]},c.toPoint=function(a){var b=g(m(a.toUpperCase()));return b.lat&amp;&amp;b.lon?[b.lon,b.lat]:[(b.left+b.right)/2,(b.top+b.bottom)/2]}},{}],68:[function(a,b,c){b.exports={name:&quot;proj4&quot;,version:&quot;2.3.14&quot;,description:&quot;Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.&quot;,main:&quot;lib/index.js&quot;,directories:{test:&quot;test&quot;,doc:&quot;docs&quot;},scripts:{test:&quot;./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js&quot;},repository:{type:&quot;git&quot;,url:&quot;git://github.com/proj4js/proj4js.git&quot;},author:&quot;&quot;,license:&quot;MIT&quot;,jam:{main:&quot;dist/proj4.js&quot;,include:[&quot;dist/proj4.js&quot;,&quot;README.md&quot;,&quot;AUTHORS&quot;,&quot;LICENSE.md&quot;]},devDependencies:{&quot;grunt-cli&quot;:&quot;~0.1.13&quot;,grunt:&quot;~0.4.2&quot;,&quot;grunt-contrib-connect&quot;:&quot;~0.6.0&quot;,&quot;grunt-contrib-jshint&quot;:&quot;~0.8.0&quot;,chai:&quot;~1.8.1&quot;,mocha:&quot;~1.17.1&quot;,&quot;grunt-mocha-phantomjs&quot;:&quot;~0.4.0&quot;,browserify:&quot;~12.0.1&quot;,&quot;grunt-browserify&quot;:&quot;~4.0.1&quot;,&quot;grunt-contrib-uglify&quot;:&quot;~0.11.1&quot;,curl:&quot;git://github.com/cujojs/curl.git&quot;,istanbul:&quot;~0.2.4&quot;,tin:&quot;~0.4.0&quot;},dependencies:{mgrs:&quot;~0.0.2&quot;}}},{}],&quot;./includedProjections&quot;:[function(a,b,c){b.exports=a(&quot;hTEDpn&quot;)},{}],hTEDpn:[function(a,b,c){var d=[a(&quot;./lib/projections/tmerc&quot;),a(&quot;./lib/projections/utm&quot;),a(&quot;./lib/projections/sterea&quot;),a(&quot;./lib/projections/stere&quot;),a(&quot;./lib/projections/somerc&quot;),a(&quot;./lib/projections/omerc&quot;),a(&quot;./lib/projections/lcc&quot;),a(&quot;./lib/projections/krovak&quot;),a(&quot;./lib/projections/cass&quot;),a(&quot;./lib/projections/laea&quot;),a(&quot;./lib/projections/aea&quot;),a(&quot;./lib/projections/gnom&quot;),a(&quot;./lib/projections/cea&quot;),a(&quot;./lib/projections/eqc&quot;),a(&quot;./lib/projections/poly&quot;),a(&quot;./lib/projections/nzmg&quot;),a(&quot;./lib/projections/mill&quot;),a(&quot;./lib/projections/sinu&quot;),a(&quot;./lib/projections/moll&quot;),a(&quot;./lib/projections/eqdc&quot;),a(&quot;./lib/projections/vandg&quot;),a(&quot;./lib/projections/aeqd&quot;)];b.exports=function(proj4){d.forEach(function(a){proj4.Proj.projections.add(a)})}},{&quot;./lib/projections/aea&quot;:40,&quot;./lib/projections/aeqd&quot;:41,&quot;./lib/projections/cass&quot;:42,&quot;./lib/projections/cea&quot;:43,&quot;./lib/projections/eqc&quot;:44,&quot;./lib/projections/eqdc&quot;:45,&quot;./lib/projections/gnom&quot;:47,&quot;./lib/projections/krovak&quot;:48,&quot;./lib/projections/laea&quot;:49,&quot;./lib/projections/lcc&quot;:50,&quot;./lib/projections/mill&quot;:53,&quot;./lib/projections/moll&quot;:54,&quot;./lib/projections/nzmg&quot;:55,&quot;./lib/projections/omerc&quot;:56,&quot;./lib/projections/poly&quot;:57,&quot;./lib/projections/sinu&quot;:58,&quot;./lib/projections/somerc&quot;:59,&quot;./lib/projections/stere&quot;:60,&quot;./lib/projections/sterea&quot;:61,&quot;./lib/projections/tmerc&quot;:62,&quot;./lib/projections/utm&quot;:63,&quot;./lib/projections/vandg&quot;:64}]},{},[36])(36)});&lt;/script&gt;
&lt;script&gt;(function (factory) {
	var L, proj4;
	if (typeof define === 'function' &amp;&amp; define.amd) {
		// AMD
		define(['leaflet', 'proj4'], factory);
	} else if (typeof module === 'object' &amp;&amp; typeof module.exports === &quot;object&quot;) {
		// Node/CommonJS
		L = require('leaflet');
		proj4 = require('proj4');
		module.exports = factory(L, proj4);
	} else {
		// Browser globals
		if (typeof window.L === 'undefined' || typeof window.proj4 === 'undefined')
			throw 'Leaflet and proj4 must be loaded first';
		factory(window.L, window.proj4);
	}
}(function (L, proj4) {
	if (proj4.__esModule &amp;&amp; proj4.default) {
		// If proj4 was bundled as an ES6 module, unwrap it to get
		// to the actual main proj4 object.
		// See discussion in https://github.com/kartena/Proj4Leaflet/pull/147
		proj4 = proj4.default;
	}
 
	L.Proj = {};

	L.Proj._isProj4Obj = function(a) {
		return (typeof a.inverse !== 'undefined' &amp;&amp;
			typeof a.forward !== 'undefined');
	};

	L.Proj.Projection = L.Class.extend({
		initialize: function(code, def, bounds) {
			var isP4 = L.Proj._isProj4Obj(code);
			this._proj = isP4 ? code : this._projFromCodeDef(code, def);
			this.bounds = isP4 ? def : bounds;
		},

		project: function (latlng) {
			var point = this._proj.forward([latlng.lng, latlng.lat]);
			return new L.Point(point[0], point[1]);
		},

		unproject: function (point, unbounded) {
			var point2 = this._proj.inverse([point.x, point.y]);
			return new L.LatLng(point2[1], point2[0], unbounded);
		},

		_projFromCodeDef: function(code, def) {
			if (def) {
				proj4.defs(code, def);
			} else if (proj4.defs[code] === undefined) {
				var urn = code.split(':');
				if (urn.length &gt; 3) {
					code = urn[urn.length - 3] + ':' + urn[urn.length - 1];
				}
				if (proj4.defs[code] === undefined) {
					throw 'No projection definition for code ' + code;
				}
			}

			return proj4(code);
		}
	});

	L.Proj.CRS = L.Class.extend({
		includes: L.CRS,

		options: {
			transformation: new L.Transformation(1, 0, -1, 0)
		},

		initialize: function(a, b, c) {
			var code,
			    proj,
			    def,
			    options;

			if (L.Proj._isProj4Obj(a)) {
				proj = a;
				code = proj.srsCode;
				options = b || {};

				this.projection = new L.Proj.Projection(proj, options.bounds);
			} else {
				code = a;
				def = b;
				options = c || {};
				this.projection = new L.Proj.Projection(code, def, options.bounds);
			}

			L.Util.setOptions(this, options);
			this.code = code;
			this.transformation = this.options.transformation;

			if (this.options.origin) {
				this.transformation =
					new L.Transformation(1, -this.options.origin[0],
						-1, this.options.origin[1]);
			}

			if (this.options.scales) {
				this._scales = this.options.scales;
			} else if (this.options.resolutions) {
				this._scales = [];
				for (var i = this.options.resolutions.length - 1; i &gt;= 0; i--) {
					if (this.options.resolutions[i]) {
						this._scales[i] = 1 / this.options.resolutions[i];
					}
				}
			}

			this.infinite = !this.options.bounds;

		},

		scale: function(zoom) {
			var iZoom = Math.floor(zoom),
				baseScale,
				nextScale,
				scaleDiff,
				zDiff;
			if (zoom === iZoom) {
				return this._scales[zoom];
			} else {
				// Non-integer zoom, interpolate
				baseScale = this._scales[iZoom];
				nextScale = this._scales[iZoom + 1];
				scaleDiff = nextScale - baseScale;
				zDiff = (zoom - iZoom);
				return baseScale + scaleDiff * zDiff;
			}
		},

		zoom: function(scale) {
			// Find closest number in this._scales, down
			var downScale = this._closestElement(this._scales, scale),
				downZoom = this._scales.indexOf(downScale),
				nextScale,
				nextZoom,
				scaleDiff;
			// Check if scale is downScale =&gt; return array index
			if (scale === downScale) {
				return downZoom;
			}
			if (downScale === undefined) {
				return -Infinity;
			}
			// Interpolate
			nextZoom = downZoom + 1;
			nextScale = this._scales[nextZoom];
			if (nextScale === undefined) {
				return Infinity;
			}
			scaleDiff = nextScale - downScale;
			return (scale - downScale) / scaleDiff + downZoom;
		},

		distance: L.CRS.Earth.distance,

		R: L.CRS.Earth.R,

		/* Get the closest lowest element in an array */
		_closestElement: function(array, element) {
			var low;
			for (var i = array.length; i--;) {
				if (array[i] &lt;= element &amp;&amp; (low === undefined || low &lt; array[i])) {
					low = array[i];
				}
			}
			return low;
		}
	});

	L.Proj.GeoJSON = L.GeoJSON.extend({
		initialize: function(geojson, options) {
			this._callLevel = 0;
			L.GeoJSON.prototype.initialize.call(this, geojson, options);
		},

		addData: function(geojson) {
			var crs;

			if (geojson) {
				if (geojson.crs &amp;&amp; geojson.crs.type === 'name') {
					crs = new L.Proj.CRS(geojson.crs.properties.name);
				} else if (geojson.crs &amp;&amp; geojson.crs.type) {
					crs = new L.Proj.CRS(geojson.crs.type + ':' + geojson.crs.properties.code);
				}

				if (crs !== undefined) {
					this.options.coordsToLatLng = function(coords) {
						var point = L.point(coords[0], coords[1]);
						return crs.projection.unproject(point);
					};
				}
			}

			// Base class' addData might call us recursively, but
			// CRS shouldn't be cleared in that case, since CRS applies
			// to the whole GeoJSON, inluding sub-features.
			this._callLevel++;
			try {
				L.GeoJSON.prototype.addData.call(this, geojson);
			} finally {
				this._callLevel--;
				if (this._callLevel === 0) {
					delete this.options.coordsToLatLng;
				}
			}
		}
	});

	L.Proj.geoJson = function(geojson, options) {
		return new L.Proj.GeoJSON(geojson, options);
	};

	L.Proj.ImageOverlay = L.ImageOverlay.extend({
		initialize: function (url, bounds, options) {
			L.ImageOverlay.prototype.initialize.call(this, url, null, options);
			this._projectedBounds = bounds;
		},

		// Danger ahead: Overriding internal methods in Leaflet.
		// Decided to do this rather than making a copy of L.ImageOverlay
		// and doing very tiny modifications to it.
		// Future will tell if this was wise or not.
		_animateZoom: function (event) {
			var scale = this._map.getZoomScale(event.zoom);
			var northWest = L.point(this._projectedBounds.min.x, this._projectedBounds.max.y);
			var offset = this._projectedToNewLayerPoint(northWest, event.zoom, event.center);

			L.DomUtil.setTransform(this._image, offset, scale);
		},

		_reset: function () {
			var zoom = this._map.getZoom();
			var pixelOrigin = this._map.getPixelOrigin();
			var bounds = L.bounds(
				this._transform(this._projectedBounds.min, zoom)._subtract(pixelOrigin),
				this._transform(this._projectedBounds.max, zoom)._subtract(pixelOrigin)
			);
			var size = bounds.getSize();

			L.DomUtil.setPosition(this._image, bounds.min);
			this._image.style.width = size.x + 'px';
			this._image.style.height = size.y + 'px';
		},

		_projectedToNewLayerPoint: function (point, zoom, center) {
			var viewHalf = this._map.getSize()._divideBy(2);
			var newTopLeft = this._map.project(center, zoom)._subtract(viewHalf)._round();
			var topLeft = newTopLeft.add(this._map._getMapPanePos());

			return this._transform(point, zoom)._subtract(topLeft);
		},

		_transform: function (point, zoom) {
			var crs = this._map.options.crs;
			var transformation = crs.transformation;
			var scale = crs.scale(zoom);

			return transformation.transform(point, scale);
		}
	});

	L.Proj.imageOverlay = function (url, bounds, options) {
		return new L.Proj.ImageOverlay(url, bounds, options);
	};

	return L.Proj;
}));
&lt;/script&gt;
&lt;style type=&quot;text/css&quot;&gt;.leaflet-tooltip.leaflet-tooltip-text-only,
.leaflet-tooltip.leaflet-tooltip-text-only:before,
.leaflet-tooltip.leaflet-tooltip-text-only:after {
background: none;
border: none;
box-shadow: none;
}
.leaflet-tooltip.leaflet-tooltip-text-only.leaflet-tooltip-left {
margin-left: 5px;
}
.leaflet-tooltip.leaflet-tooltip-text-only.leaflet-tooltip-right {
margin-left: -5px;
}
.leaflet-tooltip:after {
border-right: 6px solid transparent;

}
.leaflet-popup-pane .leaflet-popup-tip-container {

pointer-events: all;

cursor: pointer;
}
&lt;/style&gt;
&lt;script&gt;(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==&quot;function&quot;&amp;&amp;require;if(!u&amp;&amp;a)return a(o,!0);if(i)return i(o,!0);var f=new Error(&quot;Cannot find module '&quot;+o+&quot;'&quot;);throw f.code=&quot;MODULE_NOT_FOUND&quot;,f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==&quot;function&quot;&amp;&amp;require;for(var o=0;o&lt;r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (&quot;value&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _util = require(&quot;./util&quot;);

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(&quot;Cannot call a class as a function&quot;); } }

var ClusterLayerStore = function () {
  function ClusterLayerStore(group) {
    _classCallCheck(this, ClusterLayerStore);

    this._layers = {};
    this._group = group;
  }

  _createClass(ClusterLayerStore, [{
    key: &quot;add&quot;,
    value: function add(layer, id) {
      if (typeof id !== &quot;undefined&quot; &amp;&amp; id !== null) {
        if (this._layers[id]) {
          this._group.removeLayer(this._layers[id]);
        }
        this._layers[id] = layer;
      }
      this._group.addLayer(layer);
    }
  }, {
    key: &quot;remove&quot;,
    value: function remove(id) {
      if (typeof id === &quot;undefined&quot; || id === null) {
        return;
      }

      id = (0, _util.asArray)(id);
      for (var i = 0; i &lt; id.length; i++) {
        if (this._layers[id[i]]) {
          this._group.removeLayer(this._layers[id[i]]);
          delete this._layers[id[i]];
        }
      }
    }
  }, {
    key: &quot;clear&quot;,
    value: function clear() {
      this._layers = {};
      this._group.clearLayers();
    }
  }]);

  return ClusterLayerStore;
}();

exports.default = ClusterLayerStore;


},{&quot;./util&quot;:17}],2:[function(require,module,exports){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (&quot;value&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(&quot;Cannot call a class as a function&quot;); } }

var ControlStore = function () {
  function ControlStore(map) {
    _classCallCheck(this, ControlStore);

    this._controlsNoId = [];
    this._controlsById = {};
    this._map = map;
  }

  _createClass(ControlStore, [{
    key: &quot;add&quot;,
    value: function add(control, id, html) {
      if (typeof id !== &quot;undefined&quot; &amp;&amp; id !== null) {
        if (this._controlsById[id]) {
          this._map.removeControl(this._controlsById[id]);
        }
        this._controlsById[id] = control;
      } else {
        this._controlsNoId.push(control);
      }
      this._map.addControl(control);
    }
  }, {
    key: &quot;get&quot;,
    value: function get(id) {
      var control = null;
      if (this._controlsById[id]) {
        control = this._controlsById[id];
      }
      return control;
    }
  }, {
    key: &quot;remove&quot;,
    value: function remove(id) {
      if (this._controlsById[id]) {
        var control = this._controlsById[id];
        this._map.removeControl(control);
        delete this._controlsById[id];
      }
    }
  }, {
    key: &quot;clear&quot;,
    value: function clear() {
      for (var i = 0; i &lt; this._controlsNoId.length; i++) {
        var control = this._controlsNoId[i];
        this._map.removeControl(control);
      }
      this._controlsNoId = [];

      for (var key in this._controlsById) {
        var _control = this._controlsById[key];
        this._map.removeControl(_control);
      }
      this._controlsById = {};
    }
  }]);

  return ControlStore;
}();

exports.default = ControlStore;


},{}],3:[function(require,module,exports){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});
exports.getCRS = getCRS;

var _leaflet = require(&quot;./global/leaflet&quot;);

var _leaflet2 = _interopRequireDefault(_leaflet);

var _proj4leaflet = require(&quot;./global/proj4leaflet&quot;);

var _proj4leaflet2 = _interopRequireDefault(_proj4leaflet);

function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { default: obj }; }

// Helper function to instanciate a ICRS instance.
function getCRS(crsOptions) {
  var crs = _leaflet2.default.CRS.EPSG3857; // Default Spherical Mercator

  switch (crsOptions.crsClass) {
    case &quot;L.CRS.EPSG3857&quot;:
      crs = _leaflet2.default.CRS.EPSG3857;
      break;
    case &quot;L.CRS.EPSG4326&quot;:
      crs = _leaflet2.default.CRS.EPSG4326;
      break;
    case &quot;L.CRS.EPSG3395&quot;:
      crs = _leaflet2.default.CRS.EPSG3395;
      break;
    case &quot;L.CRS.Simple&quot;:
      crs = _leaflet2.default.CRS.Simple;
      break;
    case &quot;L.Proj.CRS&quot;:
      if (crsOptions.options &amp;&amp; crsOptions.options.bounds) {
        crsOptions.options.bounds = _leaflet2.default.bounds(crsOptions.options.bounds);
      }
      if (crsOptions.options &amp;&amp; crsOptions.options.transformation) {
        crsOptions.options.transformation = new _leaflet2.default.Transformation(crsOptions.options.transformation[0], crsOptions.options.transformation[1], crsOptions.options.transformation[2], crsOptions.options.transformation[3]);
      }
      crs = new _proj4leaflet2.default.CRS(crsOptions.code, crsOptions.proj4def, crsOptions.options);
      break;
    case &quot;L.Proj.CRS.TMS&quot;:
      if (crsOptions.options &amp;&amp; crsOptions.options.bounds) {
        crsOptions.options.bounds = _leaflet2.default.bounds(crsOptions.options.bounds);
      }
      if (crsOptions.options &amp;&amp; crsOptions.options.transformation) {
        crsOptions.options.transformation = _leaflet2.default.Transformation(crsOptions.options.transformation[0], crsOptions.options.transformation[1], crsOptions.options.transformation[2], crsOptions.options.transformation[3]);
      }
      // L.Proj.CRS.TMS is deprecated as of Leaflet 1.x, fall back to L.Proj.CRS
      //crs = new Proj4Leaflet.CRS.TMS(crsOptions.code, crsOptions.proj4def,
      //crsOptions.projectedBounds, crsOptions.options);
      crs = new _proj4leaflet2.default.CRS(crsOptions.code, crsOptions.proj4def, crsOptions.options);
      break;
  }
  return crs;
}


},{&quot;./global/leaflet&quot;:10,&quot;./global/proj4leaflet&quot;:11}],4:[function(require,module,exports){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});

var _typeof = typeof Symbol === &quot;function&quot; &amp;&amp; typeof Symbol.iterator === &quot;symbol&quot; ? function (obj) { return typeof obj; } : function (obj) { return obj &amp;&amp; typeof Symbol === &quot;function&quot; &amp;&amp; obj.constructor === Symbol ? &quot;symbol&quot; : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (&quot;value&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _util = require(&quot;./util&quot;);

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(&quot;Cannot call a class as a function&quot;); } }

var DataFrame = function () {
  function DataFrame() {
    _classCallCheck(this, DataFrame);

    this.columns = [];
    this.colnames = [];
    this.colstrict = [];

    this.effectiveLength = 0;
    this.colindices = {};
  }

  _createClass(DataFrame, [{
    key: &quot;_updateCachedProperties&quot;,
    value: function _updateCachedProperties() {
      var _this = this;

      this.effectiveLength = 0;
      this.colindices = {};

      this.columns.forEach(function (column, i) {
        _this.effectiveLength = Math.max(_this.effectiveLength, column.length);
        _this.colindices[_this.colnames[i]] = i;
      });
    }
  }, {
    key: &quot;_colIndex&quot;,
    value: function _colIndex(colname) {
      var index = this.colindices[colname];
      if (typeof index === &quot;undefined&quot;) return -1;
      return index;
    }
  }, {
    key: &quot;col&quot;,
    value: function col(name, values, strict) {
      if (typeof name !== &quot;string&quot;) throw new Error(&quot;Invalid column name \&quot;&quot; + name + &quot;\&quot;&quot;);

      var index = this._colIndex(name);

      if (arguments.length === 1) {
        if (index &lt; 0) return null;else return (0, _util.recycle)(this.columns[index], this.effectiveLength);
      }

      if (index &lt; 0) {
        index = this.colnames.length;
        this.colnames.push(name);
      }
      this.columns[index] = (0, _util.asArray)(values);
      this.colstrict[index] = !!strict;

      // TODO: Validate strictness (ensure lengths match up with other stricts)

      this._updateCachedProperties();

      return this;
    }
  }, {
    key: &quot;cbind&quot;,
    value: function cbind(obj, strict) {
      var _this2 = this;

      Object.keys(obj).forEach(function (name) {
        var coldata = obj[name];
        _this2.col(name, coldata);
      });
      return this;
    }
  }, {
    key: &quot;get&quot;,
    value: function get(row, col, missingOK) {
      var _this3 = this;

      if (row &gt; this.effectiveLength) throw new Error(&quot;Row argument was out of bounds: &quot; + row + &quot; &gt; &quot; + this.effectiveLength);

      var colIndex = -1;
      if (typeof col === &quot;undefined&quot;) {
        var _ret = function () {
          var rowData = {};
          _this3.colnames.forEach(function (name, i) {
            rowData[name] = _this3.columns[i][row % _this3.columns[i].length];
          });
          return {
            v: rowData
          };
        }();

        if ((typeof _ret === &quot;undefined&quot; ? &quot;undefined&quot; : _typeof(_ret)) === &quot;object&quot;) return _ret.v;
      } else if (typeof col === &quot;string&quot;) {
        colIndex = this._colIndex(col);
      } else if (typeof col === &quot;number&quot;) {
        colIndex = col;
      }
      if (colIndex &lt; 0 || colIndex &gt; this.columns.length) {
        if (missingOK) return void 0;else throw new Error(&quot;Unknown column index: &quot; + col);
      }

      return this.columns[colIndex][row % this.columns[colIndex].length];
    }
  }, {
    key: &quot;nrow&quot;,
    value: function nrow() {
      return this.effectiveLength;
    }
  }]);

  return DataFrame;
}();

exports.default = DataFrame;


},{&quot;./util&quot;:17}],5:[function(require,module,exports){
&quot;use strict&quot;;

var _leaflet = require(&quot;./global/leaflet&quot;);

var _leaflet2 = _interopRequireDefault(_leaflet);

function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { default: obj }; }

// In RMarkdown's self-contained mode, we don't have a way to carry around the
// images that Leaflet needs but doesn't load into the page. Instead, we'll set
// data URIs for the default marker, and let any others be loaded via CDN.
if (typeof _leaflet2.default.Icon.Default.imagePath === &quot;undefined&quot;) {
  // if in a local file, support http
  if (window.location.protocol === &quot;file:&quot;) {
    _leaflet2.default.Icon.Default.imagePath = &quot;http://cdn.leafletjs.com/leaflet/v1.3.1/images/&quot;;
  } else {
    // otherwise use same protocol
    _leaflet2.default.Icon.Default.imagePath = &quot;//cdn.leafletjs.com/leaflet/v1.3.1/images/&quot;;
  }
  // don't know how to make this dataURI work since
  //  will be appended to Defaul.imagePath above
  /*
  if (L.Browser.retina) {
    L.Icon.Default.prototype.options.iconUrl = &quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAYAAAAWy4frAAAPiElEQVR42t1bCVCU5xkmbabtZJJOO+l0mhgT0yQe0WXZgz2570NB8I6J6UzaTBoORRFEruVGDhWUPRAQRFFREDnVxCtEBRb24DBNE3Waaatpkmluo4m+fd9v999olGVBDu3OPLj+//s+7/W93/f9//6/EwA4/T9g3AlFOUeeUGR2uMqzOyJk2R2x0qyOAmnmkS3SrCPrZJlHlsqzjypcs49OX1Jf//P7KhD885A0u10my2ovQscvybI6wEF8ivI7pFntAV6qkw9PWSBK1bEnZRltm2WZ7R8h4FbI0VG33GPgXXgCAra+A4EIn8KT4JH/FigoiJ/IIz6TZbVVKLLan5u0QESqlkckWW3p0sy2bxDAgZwO13TDytoB+NPe9+zild2DEFGuB7/NpzDodriF55o0o7XIRXXoNxMaiCSj9VU09C8EENxyj0C4thterh2EV+veuwOr6s7Dy3ssoO93k3llzxBE6PTgkXcMOF7EJ9KMtqjR9JFDQnNV9b+QqlqqEECQZ7TBgu1nYdXuIXgVneSwYtcgRFb1Q1iFGULLzRCsM90GOrZghxkiKvthec0grLpFlxCu6cKh1w6cHUSbctPhx8YlEElu4+NSVfNpBBACtpyGlbsGmBOElRhMBDofgk4GobOjQXC5CRZiUC/VDtn4qLrBJZ3A2cNg+nE4P31PgSDBbImq5UNJejMQFqi7cCicZ3iZBTAAQVoTBI4DKKCVGBDHH6nrBRlWxWr7sljVIhlTIDLVoRkS1eH/SNIPgzyzFRZV9NnG++LqQcyoGQLQgfFEIFYpcueAzc6SSiMOtTYgH9CXr+WpTbxRBeKlqn9UktZkRoACZ5PlO81YgfMM4RX9EKAxTSjCdvTjELPYW17dD8rsdiBfEBclSY2POxQIHnlIknroEAJk6U2wpMLISF/aNQShWAV/tWlSEIK2VqBNsr200gRyGmLokyS18cTdFtA7AnFNbcxAACGMrQtDLAjqBT+1cVJBNsk2+bBQ1wOcX5K0xs12A8GyzXRNafgeAYFb3mEkrBI4I/mWGUeNQI1lyp2PoO9j4aDKcH4Ebe0E8g3xgyylcc6wgbimNjSSoFtWK1sTqLRh2BM+SOgIfDGLJL8IG3ZZjUX/ViyvGYLFOwdZn/ljYI7yzsee4TjcsV/IR3FqQ+tdAxEnNSjFyQeBEK7pgRVodEnVIPhsNzqEYK0ZluFsRnq3YjH22KJyA6z4yTmSpZ5zlH8RTvWkt1CrB85PYUqjzx2BuG6sPyfeeAA8sjtwphhiCFSbwXub0S7ISPiOAZvO4h048xSfBM+cDpDieCZOggSz6JHdBv5FJ3CN6LPJR1QMgO9204h2aALgdDxzjlp4kw8YaHKyBSJJPigWb6wHQiRmbxkKL0QDXkhgD94YxGKsGskTQkvfxVnlIHBcBNfkegziwB3HAnHDuGynRXcp/utXZhrRHiWM5CPLjbdwHVDYAhFt3J8rTtoPbpktSDrE4INZ8iw12kUYEpPs4kozeOW0A3EQIovbYcfxITj798vwxbfX4Or1H8B46ROo7fwbvKY9bpNzy2hmiSOOyMrBEe2RT5x/7tjHxCFK2l/4YyBJ+95HQABmibKzEJvRs9RgF4FqE5MleGS3AumLN+6D4lYjfIeOD/e5eROg7sz7oEg7wHRk6Y3Yi/2MJwT7bCS75BvJBuGsSvqID1ggaHyeaAMeQERgyajBg3BG8SgxDAsvJFxUOcBkg7d0Ml3XjfuhCyvg6Ofix1+Al6qB6fpueotxsckFh5A92+QbydHw4vymGJxEG+rWiRL3goJWcSwvwbPECO5bDcMiRGNmchS4a1I9kP62DhOM9tPad4npEhaUdTPOsPJ+u7bJN85PpaqJ6YoT6xKcRIl1pQjwxIukxXhyIY57N1Swh7DyASbrm38MSHdRUStc+/4GjOUTV32acbhlNjNO6pWR7FPTk6xX3lGmK0ys0zrhn0Zhwh7wK3ibnVyg6we3LQa7WFQxyGSpiqRbe/o8jPXTe+EK4xDjECHOxdYRYc8++UhyfgXHma5w/Z5mJ+H63T3ChN3Y6O/guMcxj8NGicLDgYyQ3CKcnsUbMBuoa7j48ZgD+erqdczqbsYTpulj3LSu2POBfCQ58pn0EH1OwoTafwvX1+JV2VmIxEwHlJlBsdkwLHy2mZjcgjI9kJ4Ynbh6/Xu4l09YfhPjCsSJg7hpIbbng/92M5Mjn0kPcdlJGF/7JQJCSrsgAseeHzoqL+4bFnSe5EJKzgHpeaTsg3v9rCrtYFz+hScZdzAGYs8HX84H9Jn0KAYnQfyuIQT4Y5mo0akiMhQeDh44tEguXGcE0iP845MvxxzEjRs3QZ5Ux3hCtnUxbqq6PR/8cRdAcuSz1YfzGEhNm2BdDfjkvw0LcTYKokCK+oaFAolIjiDFBYl02/oujDmQC1c+ZxzC+BoIp2t35HXHPrDnA/lIcuQz6SKOOAnWVqsRbHscjidDNf0gRWF7CNX2M1l3VTOQbmpd55gDqT01xDhkmBTiJMhGsB+isdrPbGe6wrU15RjIzkQEyHB3GqYbYCAiSeHwCMBmI7mAYiwt6grX7QT9h5dHHcQ/P/sKlEm7GYd37lHGGaLut2tbirD5iT6TriCuKsVJsLrCwyWuih2Yj/unMC2VFlfsgr5hodxsZHIEZVoTkP787APw7TXHZy/ac/25rJ3pSpP24tRrZnyeW012bbtZbS9AefKZ+b6mMtjJS6V6GP/zOR3wK+pkQn7bzHbJCCRDsqFlBpz+djHCV7a2wMUr/x0xiM++ugprq45bnFhbhdNoF+MKLOt32C75SvqIb7xUO3/Fdr/8uMqDLmsqwU3VipH2QzA2k3hTr11ICnqZHMn7F+HCFIfZQQ5JfDVUvW1mzv708/V316FV/wF4Je9hsgSv3GOMYz71Jg6bkezS0CN5N1WLhSOussW2jResrnzNZXUFm5PnW0nl2CciVLQHebHBJh9U0g1S3GYQD4eQjH2QWH0C0utw15DXAEIybD0nxoUsYPMZmz4N59HYE+K0SzyC2Mo3bIHw4zTT+Kt33ESAX/FZCMWovUtMIMzvHRFKJA9G+VAGvJ7IPsKGC3HdDYI4qnwzhJQZmQ5l2AODcMSWb6mJ6fgWn+H4bsxbWzX9tmt2l9Xl7fzYcpwJGhl5MI5XESoL8kaGKB9XWww8xOoYIXBrD3hvOgnK9BbEYdypHsctSBcGYLbJ+FMvbupz2AanJ01uAPLVJab88B03H1xidKH8WB0TCCq1KNEM4YgRDm7FRlys+m8L6G6gJLmPkpuqxhJU0st8JF8FMeV+dwTipFL9zDlGewmB1wYdzJh/qRlccntHDcqevBCv6NBZ3xIz+CGP5xYTKIoMIMZzo+UTIAK3WRKgULUB+egcrTs/7A06XpQ20Tlai+O4mm0DKLuSAgPwkWgqIcOkkC+BOBRdVlcC+ciL0kUNG4jodd3vnKM13yHAK/8UBG6nTBrBOUc/pfDBRZJ88cg9DuQbL1rzxdw3yx61exPbOUazi4Rd8VqYMhBIwyunF5yz9VMCUV6vxQ+ECJcH8s05SlMy4t145xi1jAkjfIu7GIESxzYPSacC1Gfkg3fhGbD6ddMlVvuCQz/0oHAfKclSmiAAK0JN75zdC/Oy9JMKanKyTxBvOGAJJEbd4fAvVrxo9UukxMfZwbu4hwWiKDLCXCSfTNAUTba9Cs5x1SD4OBwIm4qjNQOkKE1uBH+aQkssVZmbqZ8UCLAvyS5BnLDf2hvaE6P+MZQfpYngsuBd2A1+W7EqBUZ4MUM/KXAvMjGbHvm23gCXaI1yTD9Po7KezWBJB8EXp0ACD0s+J6NnQkGzJGdPlFDHBdI+5t/Z+dGaQC4bHpvOgg+uznJcIGereiYUykIjs+WW22mrBi9WLbqnJx9wlugkIlHifvBGcgLNKLPQ4ESA+pCzI4jfwy2Ajff8CAduWzy4rLjnnWEGqFdmpfdMCKgaZEOZc5qrxg3nWM28cXmohhetPcqqsn4veG02MczDmWVmWs+4wjmr18YvWFfLBVI3bk8HubxZ5spVRZHTyQzJsSovoPHxhAKrQdyKrFNcED/wo8pnjuvzWrgHayJyIY5bz2ITw1ycJp9P7R4X8LDCHK/L2l0sEH60tmrcHzzjRet4tM9hVck+xQzKNxnGLRDqO+KUZZ7gqnHdZY1mxoQ8QUfjlYwI1taCBy5YBKrKcynd9wTqNwufEfhrqq17Ko16wh4FpPFK45ZtKDNOgnshZjDfAH9M7r4nyPONjEua/hZXjav8NzTTJvThTF6UppJtF+JqwA2NE15U6eFZdGgsmJvRyziUeBXIX7PT2huazRP+lKkgavszeM18jW0oVcfBrYCqYoRnN3aPGlw1iMM17ai1Gtqvnd/Q/H5SnvvF7f12ljkcz0psUmWBpSoz0LnRgKpBugq6L8CuxSkQde6kPcAsWqN7Ao1+yzaUacdAsckI0jwDPJPU5TBmbOxi/UW64pQOrjc+5/1V/dtJfRIbrw0KWFVWV+Hw6GNDZE6aHp7e0OUQ5qTrmY48rw/4sRWW3ojSpk36I+Wzo7Y/7hyl+ZJtXVI7WJ+45hrgacz29A32QTISrCDpiJLbuWp8Oiuh8jGYiof8eTHqDEtVKkCGmZVZqzI9scsuSIZkZXTfKnYHt8NNmLK3FaQxpb9GJz5jVcHMclWhrD+VeHfQsJLkWqohTGrlqnFZ9LrukSl97YIXpU5kVcHMSvDKTppnhNmY8WkJXXcFnSMZSY6e3cO1ruKxU/7+CGUSnbnCti4bWjHbOAvlGOApdPrJ9beDjtE5khFsaOaq8dHzMaW/vC/e6KGMWm4flYMku4cNnVmpPej8udtA1aBzrll47RGjs/aG+vX75tUkyihl1lKVZnDFrIuy+2AaOv9EvAX0nY7ROZeEJq4aF+g3zPvqHStejOYvlvGuA1FmNxtCM1P18AcMgjALv9MxYWaX9WcBktWuuu9eFqPM4mbvAzbEEg5h9tHpLIOtP+g7HeMnNHLVeG/JkvF7YWxc33jDqqy0ZhoEKovzM1P0DPSdjtFvG5ZVXLP0vn19z3KrVTvIHF3fYHHeCvruHN/AbdNN3PO69+17iLgzjrRux8El/SwIMg0M9P3HG9HqsPv+hUrrJXEvczj+AAbRx+AcX88F0v1AvBnKAnlTG8Rln5/6LuLHW5/zorT+D0wg1qq8y5xfu88CSyCnH5h3dW/ZGXve8uOMZRWP0no8cIFY7+YfswURrT36QL09ffsMppHYegW/P7CBWHvlMOGBe5/9jtdjY7R8wkTb+R9meZA6n2oJWAAAAABJRU5ErkJggg==&quot;;
  } else {
    L.Icon.Default.prototype.options.iconUrl = &quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAGmklEQVRYw7VXeUyTZxjvNnfELFuyIzOabermMZEeQC/OclkO49CpOHXOLJl/CAURuYbQi3KLgEhbrhZ1aDwmaoGqKII6odATmH/scDFbdC7LvFqOCc+e95s2VG50X/LLm/f4/Z7neY/ne18aANCmAr5E/xZf1uDOkTcGcWR6hl9247tT5U7Y6SNvWsKT63P58qbfeLJG8M5qcgTknrvvrdDbsT7Ml+tv82X6vVxJE33aRmgSyYtcWVMqX97Yv2JvW39UhRE2HuyBL+t+gK1116ly06EeWFNlAmHxlQE0OMiV6mQCScusKRlhS3QLeVJdl1+23h5dY4FNB3thrbYboqptEFlphTC1hSpJnbRvxP4NWgsE5Jyz86QNNi/5qSUTGuFk1gu54tN9wuK2wc3o+Wc13RCmsoBwEqzGcZsxsvCSy/9wJKf7UWf1mEY8JWfewc67UUoDbDjQC+FqK4QqLVMGGR9d2wurKzqBk3nqIT/9zLxRRjgZ9bqQgub+DdoeCC03Q8j+0QhFhBHR/eP3U/zCln7Uu+hihJ1+bBNffLIvmkyP0gpBZWYXhKussK6mBz5HT6M1Nqpcp+mBCPXosYQfrekGvrjewd59/GvKCE7TbK/04/ZV5QZYVWmDwH1mF3xa2Q3ra3DBC5vBT1oP7PTj4C0+CcL8c7C2CtejqhuCnuIQHaKHzvcRfZpnylFfXsYJx3pNLwhKzRAwAhEqG0SpusBHfAKkxw3w4627MPhoCH798z7s0ZnBJ/MEJbZSbXPhER2ih7p2ok/zSj2cEJDd4CAe+5WYnBCgR2uruyEw6zRoW6/DWJ/OeAP8pd/BGtzOZKpG8oke0SX6GMmRk6GFlyAc59K32OTEinILRJRchah8HQwND8N435Z9Z0FY1EqtxUg+0SO6RJ/mmXz4VuS+DpxXC3gXmZwIL7dBSH4zKE50wESf8qwVgrP1EIlTO5JP9Igu0aexdh28F1lmAEGJGfh7jE6ElyM5Rw/FDcYJjWhbeiBYoYNIpc2FT/SILivp0F1ipDWk4BIEo2VuodEJUifhbiltnNBIXPUFCMpthtAyqws/BPlEF/VbaIxErdxPphsU7rcCp8DohC+GvBIPJS/tW2jtvTmmAeuNO8BNOYQeG8G/2OzCJ3q+soYB5i6NhMaKr17FSal7GIHheuV3uSCY8qYVuEm1cOzqdWr7ku/R0BDoTT+DT+ohCM6/CCvKLKO4RI+dXPeAuaMqksaKrZ7L3FE5FIFbkIceeOZ2OcHO6wIhTkNo0ffgjRGxEqogXHYUPHfWAC/lADpwGcLRY3aeK4/oRGCKYcZXPVoeX/kelVYY8dUGf8V5EBRbgJXT5QIPhP9ePJi428JKOiEYhYXFBqou2Guh+p/mEB1/RfMw6rY7cxcjTrneI1FrDyuzUSRm9miwEJx8E/gUmqlyvHGkneiwErR21F3tNOK5Tf0yXaT+O7DgCvALTUBXdM4YhC/IawPU+2PduqMvuaR6eoxSwUk75ggqsYJ7VicsnwGIkZBSXKOUww73WGXyqP+J2/b9c+gi1YAg/xpwck3gJuucNrh5JvDPvQr0WFXf0piyt8f8/WI0hV4pRxxkQZdJDfDJNOAmM0Ag8jyT6hz0WGXWuP94Yh2jcfjmXAGvHCMslRimDHYuHuDsy2QtHuIavznhbYURq5R57KpzBBRZKPJi8eQg48h4j8SDdowifdIrEVdU+gbO6QNvRRt4ZBthUaZhUnjlYObNagV3keoeru3rU7rcuceqU1mJBxy+BWZYlNEBH+0eH4vRiB+OYybU2hnblYlTvkHinM4m54YnxSyaZYSF6R3jwgP7udKLGIX6r/lbNa9N6y5MFynjWDtrHd75ZvTYAPO/6RgF0k76mQla3FGq7dO+cH8sKn0Vo7nDllwAhqwLPkxrHwWmHJOo+AKJ4rab5OgrM7rVu8eWb2Pu0Dh4eDgXoOfvp7Y7QeqknRmvcTBEyq9m/HQQSCSz6LHq3z0yzsNySRfMS253wl2KyRDbcZPcfJKjZmSEOjcxyi+Y8dUOtsIEH6R2wNykdqrkYJ0RV92H0W58pkfQk7cKevsLK10Py8SdMGfXNXATY+pPbyJR/ET6n9nIfztNtZYRV9XniQu9IA2vOVgy4ir7GCLVmmd+zjkH0eAF9Po6K61pmCXHxU5rHMYd1ftc3owjwRSVRzLjKvqZEty6cRUD7jGqiOdu5HG6MdHjNcNYGqfDm5YRzLBBCCDl/2bk8a8gdbqcfwECu62Fg/HrggAAAABJRU5ErkJggg==&quot;;
  }
  */
}


},{&quot;./global/leaflet&quot;:10}],6:[function(require,module,exports){
&quot;use strict&quot;;

var _leaflet = require(&quot;./global/leaflet&quot;);

var _leaflet2 = _interopRequireDefault(_leaflet);

function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { default: obj }; }

// add texxtsize, textOnly, and style
_leaflet2.default.Tooltip.prototype.options.textsize = &quot;10px&quot;;
_leaflet2.default.Tooltip.prototype.options.textOnly = false;
_leaflet2.default.Tooltip.prototype.options.style = null;

// copy original layout to not completely stomp it.
var initLayoutOriginal = _leaflet2.default.Tooltip.prototype._initLayout;

_leaflet2.default.Tooltip.prototype._initLayout = function () {
  initLayoutOriginal.call(this);
  this._container.style.fontSize = this.options.textsize;

  if (this.options.textOnly) {
    _leaflet2.default.DomUtil.addClass(this._container, &quot;leaflet-tooltip-text-only&quot;);
  }

  if (this.options.style) {
    for (var property in this.options.style) {
      this._container.style[property] = this.options.style[property];
    }
  }
};


},{&quot;./global/leaflet&quot;:10}],7:[function(require,module,exports){
&quot;use strict&quot;;

var _leaflet = require(&quot;./global/leaflet&quot;);

var _leaflet2 = _interopRequireDefault(_leaflet);

function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { default: obj }; }

var protocolRegex = /^\/\//;
var upgrade_protocol = function upgrade_protocol(urlTemplate) {
  if (protocolRegex.test(urlTemplate)) {
    if (window.location.protocol === &quot;file:&quot;) {
      // if in a local file, support http
      // http should auto upgrade if necessary
      urlTemplate = &quot;http:&quot; + urlTemplate;
    }
  }
  return urlTemplate;
};

var originalLTileLayerInitialize = _leaflet2.default.TileLayer.prototype.initialize;
_leaflet2.default.TileLayer.prototype.initialize = function (urlTemplate, options) {
  urlTemplate = upgrade_protocol(urlTemplate);
  originalLTileLayerInitialize.call(this, urlTemplate, options);
};

var originalLTileLayerWMSInitialize = _leaflet2.default.TileLayer.WMS.prototype.initialize;
_leaflet2.default.TileLayer.WMS.prototype.initialize = function (urlTemplate, options) {
  urlTemplate = upgrade_protocol(urlTemplate);
  originalLTileLayerWMSInitialize.call(this, urlTemplate, options);
};


},{&quot;./global/leaflet&quot;:10}],8:[function(require,module,exports){
(function (global){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});
exports.default = global.HTMLWidgets;


}).call(this,typeof global !== &quot;undefined&quot; ? global : typeof self !== &quot;undefined&quot; ? self : typeof window !== &quot;undefined&quot; ? window : {})
},{}],9:[function(require,module,exports){
(function (global){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});
exports.default = global.jQuery;


}).call(this,typeof global !== &quot;undefined&quot; ? global : typeof self !== &quot;undefined&quot; ? self : typeof window !== &quot;undefined&quot; ? window : {})
},{}],10:[function(require,module,exports){
(function (global){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});
exports.default = global.L;


}).call(this,typeof global !== &quot;undefined&quot; ? global : typeof self !== &quot;undefined&quot; ? self : typeof window !== &quot;undefined&quot; ? window : {})
},{}],11:[function(require,module,exports){
(function (global){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});
exports.default = global.L.Proj;


}).call(this,typeof global !== &quot;undefined&quot; ? global : typeof self !== &quot;undefined&quot; ? self : typeof window !== &quot;undefined&quot; ? window : {})
},{}],12:[function(require,module,exports){
(function (global){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});
exports.default = global.Shiny;


}).call(this,typeof global !== &quot;undefined&quot; ? global : typeof self !== &quot;undefined&quot; ? self : typeof window !== &quot;undefined&quot; ? window : {})
},{}],13:[function(require,module,exports){
&quot;use strict&quot;;

var _jquery = require(&quot;./global/jquery&quot;);

var _jquery2 = _interopRequireDefault(_jquery);

var _leaflet = require(&quot;./global/leaflet&quot;);

var _leaflet2 = _interopRequireDefault(_leaflet);

var _shiny = require(&quot;./global/shiny&quot;);

var _shiny2 = _interopRequireDefault(_shiny);

var _htmlwidgets = require(&quot;./global/htmlwidgets&quot;);

var _htmlwidgets2 = _interopRequireDefault(_htmlwidgets);

var _util = require(&quot;./util&quot;);

var _crs_utils = require(&quot;./crs_utils&quot;);

var _controlStore = require(&quot;./control-store&quot;);

var _controlStore2 = _interopRequireDefault(_controlStore);

var _layerManager = require(&quot;./layer-manager&quot;);

var _layerManager2 = _interopRequireDefault(_layerManager);

var _methods = require(&quot;./methods&quot;);

var _methods2 = _interopRequireDefault(_methods);

require(&quot;./fixup-default-icon&quot;);

require(&quot;./fixup-default-tooltip&quot;);

require(&quot;./fixup-url-protocol&quot;);

var _dataframe = require(&quot;./dataframe&quot;);

var _dataframe2 = _interopRequireDefault(_dataframe);

var _clusterLayerStore = require(&quot;./cluster-layer-store&quot;);

var _clusterLayerStore2 = _interopRequireDefault(_clusterLayerStore);

function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { default: obj }; }

window.LeafletWidget = {};
window.LeafletWidget.utils = {};
var methods = window.LeafletWidget.methods = _jquery2.default.extend({}, _methods2.default);
window.LeafletWidget.DataFrame = _dataframe2.default;
window.LeafletWidget.ClusterLayerStore = _clusterLayerStore2.default;
window.LeafletWidget.utils.getCRS = _crs_utils.getCRS;

// Send updated bounds back to app. Takes a leaflet event object as input.
function updateBounds(map) {
  var id = map.getContainer().id;
  var bounds = map.getBounds();

  _shiny2.default.onInputChange(id + &quot;_bounds&quot;, {
    north: bounds.getNorthEast().lat,
    east: bounds.getNorthEast().lng,
    south: bounds.getSouthWest().lat,
    west: bounds.getSouthWest().lng
  });
  _shiny2.default.onInputChange(id + &quot;_center&quot;, {
    lng: map.getCenter().lng,
    lat: map.getCenter().lat
  });
  _shiny2.default.onInputChange(id + &quot;_zoom&quot;, map.getZoom());
}

function preventUnintendedZoomOnScroll(map) {
  // Prevent unwanted scroll capturing. Similar in purpose to
  // https://github.com/CliffCloud/Leaflet.Sleep but with a
  // different set of heuristics.

  // The basic idea is that when a mousewheel/DOMMouseScroll
  // event is seen, we disable scroll wheel zooming until the
  // user moves their mouse cursor or clicks on the map. This
  // is slightly trickier than just listening for mousemove,
  // because mousemove is fired when the page is scrolled,
  // even if the user did not physically move the mouse. We
  // handle this by examining the mousemove event's screenX
  // and screenY properties; if they change, we know it's a
  // &quot;true&quot; move.

  // lastScreen can never be null, but its x and y can.
  var lastScreen = { x: null, y: null };
  (0, _jquery2.default)(document).on(&quot;mousewheel DOMMouseScroll&quot;, &quot;*&quot;, function (e) {
    // Disable zooming (until the mouse moves or click)
    map.scrollWheelZoom.disable();
    // Any mousemove events at this screen position will be ignored.
    lastScreen = { x: e.originalEvent.screenX, y: e.originalEvent.screenY };
  });
  (0, _jquery2.default)(document).on(&quot;mousemove&quot;, &quot;*&quot;, function (e) {
    // Did the mouse really move?
    if (lastScreen.x !== null &amp;&amp; e.screenX !== lastScreen.x || e.screenY !== lastScreen.y) {
      // It really moved. Enable zooming.
      map.scrollWheelZoom.enable();
      lastScreen = { x: null, y: null };
    }
  });
  (0, _jquery2.default)(document).on(&quot;mousedown&quot;, &quot;.leaflet&quot;, function (e) {
    // Clicking always enables zooming.
    map.scrollWheelZoom.enable();
    lastScreen = { x: null, y: null };
  });
}

_htmlwidgets2.default.widget({

  name: &quot;leaflet&quot;,
  type: &quot;output&quot;,
  factory: function factory(el, width, height) {

    var map = null;

    return {

      // we need to store our map in our returned object.
      getMap: function getMap() {
        return map;
      },

      renderValue: function renderValue(data) {

        // Create an appropriate CRS Object if specified

        if (data &amp;&amp; data.options &amp;&amp; data.options.crs) {
          data.options.crs = (0, _crs_utils.getCRS)(data.options.crs);
        }

        // As per https://github.com/rstudio/leaflet/pull/294#discussion_r79584810
        if (map) {
          map.remove();
          map = function () {
            return;
          }(); // undefine map
        }

        if (data.options.mapFactory &amp;&amp; typeof data.options.mapFactory === &quot;function&quot;) {
          map = data.options.mapFactory(el, data.options);
        } else {
          map = _leaflet2.default.map(el, data.options);
        }

        preventUnintendedZoomOnScroll(map);

        // Store some state in the map object
        map.leafletr = {
          // Has the map ever rendered successfully?
          hasRendered: false,
          // Data to be rendered when resize is called with area != 0
          pendingRenderData: null
        };

        // Check if the map is rendered statically (no output binding)
        if (_htmlwidgets2.default.shinyMode &amp;&amp; /\bshiny-bound-output\b/.test(el.className)) {
          (function () {

            map.id = el.id;

            // Store the map on the element so we can find it later by ID
            (0, _jquery2.default)(el).data(&quot;leaflet-map&quot;, map);

            // When the map is clicked, send the coordinates back to the app
            map.on(&quot;click&quot;, function (e) {
              _shiny2.default.onInputChange(map.id + &quot;_click&quot;, {
                lat: e.latlng.lat,
                lng: e.latlng.lng,
                &quot;.nonce&quot;: Math.random() // Force reactivity if lat/lng hasn't changed
              });
            });

            var groupTimerId = null;

            map.on(&quot;moveend&quot;, function (e) {
              updateBounds(e.target);
            }).on(&quot;layeradd layerremove&quot;, function (e) {
              // If the layer that's coming or going is a group we created, tell
              // the server.
              if (map.layerManager.getGroupNameFromLayerGroup(e.layer)) {
                // But to avoid chattiness, coalesce events
                if (groupTimerId) {
                  clearTimeout(groupTimerId);
                  groupTimerId = null;
                }
                groupTimerId = setTimeout(function () {
                  groupTimerId = null;
                  _shiny2.default.onInputChange(map.id + &quot;_groups&quot;, map.layerManager.getVisibleGroups());
                }, 100);
              }
            });
          })();
        }
        this.doRenderValue(data, map);
      },
      doRenderValue: function doRenderValue(data, map) {
        // Leaflet does not behave well when you set up a bunch of layers when
        // the map is not visible (width/height == 0). Popups get misaligned
        // relative to their owning markers, and the fitBounds calculations
        // are off. Therefore we wait until the map is actually showing to
        // render the value (we rely on the resize() callback being invoked
        // at the appropriate time).
        //
        // There may be an issue with leafletProxy() calls being made while
        // the map is not being viewed--not sure what the right solution is
        // there.
        if (el.offsetWidth === 0 || el.offsetHeight === 0) {
          map.leafletr.pendingRenderData = data;
          return;
        }
        map.leafletr.pendingRenderData = null;

        // Merge data options into defaults
        var options = _jquery2.default.extend({ zoomToLimits: &quot;always&quot; }, data.options);

        if (!map.layerManager) {
          map.controls = new _controlStore2.default(map);
          map.layerManager = new _layerManager2.default(map);
        } else {
          map.controls.clear();
          map.layerManager.clear();
        }

        var explicitView = false;
        if (data.setView) {
          explicitView = true;
          map.setView.apply(map, data.setView);
        }
        if (data.fitBounds) {
          explicitView = true;
          methods.fitBounds.apply(map, data.fitBounds);
        }
        if (data.flyTo) {
          explicitView = true;
          map.flyTo.apply(map, data.flyTo);
        }
        if (data.flyToBounds) {
          explicitView = true;
          methods.flyToBounds.apply(map, data.flyToBounds);
        }
        if (data.options.center) {
          explicitView = true;
        }

        // Returns true if the zoomToLimits option says that the map should be
        // zoomed to map elements.
        function needsZoom() {
          return options.zoomToLimits === &quot;always&quot; || options.zoomToLimits === &quot;first&quot; &amp;&amp; !map.leafletr.hasRendered;
        }

        if (!explicitView &amp;&amp; needsZoom() &amp;&amp; !map.getZoom()) {
          if (data.limits &amp;&amp; !_jquery2.default.isEmptyObject(data.limits)) {
            // Use the natural limits of what's being drawn on the map
            // If the size of the bounding box is 0, leaflet gets all weird
            var pad = 0.006;
            if (data.limits.lat[0] === data.limits.lat[1]) {
              data.limits.lat[0] = data.limits.lat[0] - pad;
              data.limits.lat[1] = data.limits.lat[1] + pad;
            }
            if (data.limits.lng[0] === data.limits.lng[1]) {
              data.limits.lng[0] = data.limits.lng[0] - pad;
              data.limits.lng[1] = data.limits.lng[1] + pad;
            }
            map.fitBounds([[data.limits.lat[0], data.limits.lng[0]], [data.limits.lat[1], data.limits.lng[1]]]);
          } else {
            map.fitWorld();
          }
        }

        for (var i = 0; data.calls &amp;&amp; i &lt; data.calls.length; i++) {
          var call = data.calls[i];
          if (methods[call.method]) methods[call.method].apply(map, call.args);else (0, _util.log)(&quot;Unknown method &quot; + call.method);
        }

        map.leafletr.hasRendered = true;

        if (_htmlwidgets2.default.shinyMode) {
          setTimeout(function () {
            updateBounds(map);
          }, 1);
        }
      },
      resize: function resize(width, height) {
        if (map) {
          map.invalidateSize();
          if (map.leafletr.pendingRenderData) {
            this.doRenderValue(map.leafletr.pendingRenderData, map);
          }
        }
      }
    };
  }
});

if (_htmlwidgets2.default.shinyMode) {
  _shiny2.default.addCustomMessageHandler(&quot;leaflet-calls&quot;, function (data) {
    var id = data.id;
    var el = document.getElementById(id);
    var map = el ? (0, _jquery2.default)(el).data(&quot;leaflet-map&quot;) : null;
    if (!map) {
      (0, _util.log)(&quot;Couldn't find map with id &quot; + id);
      return;
    }

    for (var i = 0; i &lt; data.calls.length; i++) {
      var call = data.calls[i];
      if (call.dependencies) {
        _shiny2.default.renderDependencies(call.dependencies);
      }
      if (methods[call.method]) methods[call.method].apply(map, call.args);else (0, _util.log)(&quot;Unknown method &quot; + call.method);
    }
  });
}


},{&quot;./cluster-layer-store&quot;:1,&quot;./control-store&quot;:2,&quot;./crs_utils&quot;:3,&quot;./dataframe&quot;:4,&quot;./fixup-default-icon&quot;:5,&quot;./fixup-default-tooltip&quot;:6,&quot;./fixup-url-protocol&quot;:7,&quot;./global/htmlwidgets&quot;:8,&quot;./global/jquery&quot;:9,&quot;./global/leaflet&quot;:10,&quot;./global/shiny&quot;:12,&quot;./layer-manager&quot;:14,&quot;./methods&quot;:15,&quot;./util&quot;:17}],14:[function(require,module,exports){
(function (global){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (&quot;value&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _jquery = require(&quot;./global/jquery&quot;);

var _jquery2 = _interopRequireDefault(_jquery);

var _leaflet = require(&quot;./global/leaflet&quot;);

var _leaflet2 = _interopRequireDefault(_leaflet);

var _util = require(&quot;./util&quot;);

function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(&quot;Cannot call a class as a function&quot;); } }

var LayerManager = function () {
  function LayerManager(map) {
    _classCallCheck(this, LayerManager);

    this._map = map;

    // BEGIN layer indices

    // {&lt;groupname&gt;: {&lt;stamp&gt;: layer}}
    this._byGroup = {};
    // {&lt;categoryName&gt;: {&lt;stamp&gt;: layer}}
    this._byCategory = {};
    // {&lt;categoryName_layerId&gt;: layer}
    this._byLayerId = {};
    // {&lt;stamp&gt;: {
    //             &quot;group&quot;: &lt;groupname&gt;,
    //             &quot;layerId&quot;: &lt;layerId&gt;,
    //             &quot;category&quot;: &lt;category&gt;,
    //             &quot;container&quot;: &lt;container&gt;
    //           }
    // }
    this._byStamp = {};
    // {&lt;crosstalkGroupName&gt;: {&lt;key&gt;: [&lt;stamp&gt;, &lt;stamp&gt;, ...], ...}}
    this._byCrosstalkGroup = {};

    // END layer indices

    // {&lt;categoryName&gt;: L.layerGroup}
    this._categoryContainers = {};
    // {&lt;groupName&gt;: L.layerGroup}
    this._groupContainers = {};
  }

  _createClass(LayerManager, [{
    key: &quot;addLayer&quot;,
    value: function addLayer(layer, category, layerId, group, ctGroup, ctKey) {
      var _this = this;

      // Was a group provided?
      var hasId = typeof layerId === &quot;string&quot;;
      var grouped = typeof group === &quot;string&quot;;

      var stamp = _leaflet2.default.Util.stamp(layer) + &quot;&quot;;

      // This will be the default layer group to add the layer to.
      // We may overwrite this let before using it (i.e. if a group is assigned).
      // This one liner creates the _categoryContainers[category] entry if it
      // doesn't already exist.
      var container = this._categoryContainers[category] = this._categoryContainers[category] || _leaflet2.default.layerGroup().addTo(this._map);

      var oldLayer = null;
      if (hasId) {
        // First, remove any layer with the same category and layerId
        var prefixedLayerId = this._layerIdKey(category, layerId);
        oldLayer = this._byLayerId[prefixedLayerId];
        if (oldLayer) {
          this._removeLayer(oldLayer);
        }

        // Update layerId index
        this._byLayerId[prefixedLayerId] = layer;
      }

      // Update group index
      if (grouped) {
        this._byGroup[group] = this._byGroup[group] || {};
        this._byGroup[group][stamp] = layer;

        // Since a group is assigned, don't add the layer to the category's layer
        // group; instead, use the group's layer group.
        // This one liner creates the _groupContainers[group] entry if it doesn't
        // already exist.
        container = this.getLayerGroup(group, true);
      }

      // Update category index
      this._byCategory[category] = this._byCategory[category] || {};
      this._byCategory[category][stamp] = layer;

      // Update stamp index
      var layerInfo = this._byStamp[stamp] = {
        layer: layer,
        group: group,
        ctGroup: ctGroup,
        ctKey: ctKey,
        layerId: layerId,
        category: category,
        container: container,
        hidden: false
      };

      // Update crosstalk group index
      if (ctGroup) {
        (function () {
          if (layer.setStyle) {
            // Need to save this info so we know what to set opacity to later
            layer.options.origOpacity = typeof layer.options.opacity !== &quot;undefined&quot; ? layer.options.opacity : 0.5;
            layer.options.origFillOpacity = typeof layer.options.fillOpacity !== &quot;undefined&quot; ? layer.options.fillOpacity : 0.2;
          }

          var ctg = _this._byCrosstalkGroup[ctGroup];
          if (!ctg) {
            (function () {
              ctg = _this._byCrosstalkGroup[ctGroup] = {};
              var crosstalk = global.crosstalk;

              var handleFilter = function handleFilter(e) {
                if (!e.value) {
                  var groupKeys = Object.keys(ctg);
                  for (var i = 0; i &lt; groupKeys.length; i++) {
                    var key = groupKeys[i];
                    var _layerInfo = _this._byStamp[ctg[key]];
                    _this._setVisibility(_layerInfo, true);
                  }
                } else {
                  var selectedKeys = {};
                  for (var _i = 0; _i &lt; e.value.length; _i++) {
                    selectedKeys[e.value[_i]] = true;
                  }
                  var _groupKeys = Object.keys(ctg);
                  for (var _i2 = 0; _i2 &lt; _groupKeys.length; _i2++) {
                    var _key = _groupKeys[_i2];
                    var _layerInfo2 = _this._byStamp[ctg[_key]];
                    _this._setVisibility(_layerInfo2, selectedKeys[_groupKeys[_i2]]);
                  }
                }
              };
              var filterHandle = new crosstalk.FilterHandle(ctGroup);
              filterHandle.on(&quot;change&quot;, handleFilter);

              var handleSelection = function handleSelection(e) {
                if (!e.value || !e.value.length) {
                  var groupKeys = Object.keys(ctg);
                  for (var i = 0; i &lt; groupKeys.length; i++) {
                    var key = groupKeys[i];
                    var _layerInfo3 = _this._byStamp[ctg[key]];
                    _this._setOpacity(_layerInfo3, 1.0);
                  }
                } else {
                  var selectedKeys = {};
                  for (var _i3 = 0; _i3 &lt; e.value.length; _i3++) {
                    selectedKeys[e.value[_i3]] = true;
                  }
                  var _groupKeys2 = Object.keys(ctg);
                  for (var _i4 = 0; _i4 &lt; _groupKeys2.length; _i4++) {
                    var _key2 = _groupKeys2[_i4];
                    var _layerInfo4 = _this._byStamp[ctg[_key2]];
                    _this._setOpacity(_layerInfo4, selectedKeys[_groupKeys2[_i4]] ? 1.0 : 0.2);
                  }
                }
              };
              var selHandle = new crosstalk.SelectionHandle(ctGroup);
              selHandle.on(&quot;change&quot;, handleSelection);

              setTimeout(function () {
                handleFilter({ value: filterHandle.filteredKeys });
                handleSelection({ value: selHandle.value });
              }, 100);
            })();
          }

          if (!ctg[ctKey]) ctg[ctKey] = [];
          ctg[ctKey].push(stamp);
        })();
      }

      // Add to container
      if (!layerInfo.hidden) container.addLayer(layer);

      return oldLayer;
    }
  }, {
    key: &quot;brush&quot;,
    value: function brush(bounds, extraInfo) {
      var _this2 = this;

      /* eslint-disable no-console */

      // For each Crosstalk group...
      Object.keys(this._byCrosstalkGroup).forEach(function (ctGroupName) {
        var ctg = _this2._byCrosstalkGroup[ctGroupName];
        var selection = [];
        // ...iterate over each Crosstalk key (each of which may have multiple
        // layers)...
        Object.keys(ctg).forEach(function (ctKey) {
          // ...and for each layer...
          ctg[ctKey].forEach(function (stamp) {
            var layerInfo = _this2._byStamp[stamp];
            // ...if it's something with a point...
            if (layerInfo.layer.getLatLng) {
              // ... and it's inside the selection bounds...
              // TODO: Use pixel containment, not lat/lng containment
              if (bounds.contains(layerInfo.layer.getLatLng())) {
                // ...add the key to the selection.
                selection.push(ctKey);
              }
            }
          });
        });
        new global.crosstalk.SelectionHandle(ctGroupName).set(selection, extraInfo);
      });
    }
  }, {
    key: &quot;unbrush&quot;,
    value: function unbrush(extraInfo) {
      Object.keys(this._byCrosstalkGroup).forEach(function (ctGroupName) {
        new global.crosstalk.SelectionHandle(ctGroupName).clear(extraInfo);
      });
    }
  }, {
    key: &quot;_setVisibility&quot;,
    value: function _setVisibility(layerInfo, visible) {
      if (layerInfo.hidden ^ visible) {
        return;
      } else if (visible) {
        layerInfo.container.addLayer(layerInfo.layer);
        layerInfo.hidden = false;
      } else {
        layerInfo.container.removeLayer(layerInfo.layer);
        layerInfo.hidden = true;
      }
    }
  }, {
    key: &quot;_setOpacity&quot;,
    value: function _setOpacity(layerInfo, opacity) {
      if (layerInfo.layer.setOpacity) {
        layerInfo.layer.setOpacity(opacity);
      } else if (layerInfo.layer.setStyle) {
        layerInfo.layer.setStyle({
          opacity: opacity * layerInfo.layer.options.origOpacity,
          fillOpacity: opacity * layerInfo.layer.options.origFillOpacity
        });
      }
    }
  }, {
    key: &quot;getLayer&quot;,
    value: function getLayer(category, layerId) {
      return this._byLayerId[this._layerIdKey(category, layerId)];
    }
  }, {
    key: &quot;removeLayer&quot;,
    value: function removeLayer(category, layerIds) {
      var _this3 = this;

      // Find layer info
      _jquery2.default.each((0, _util.asArray)(layerIds), function (i, layerId) {
        var layer = _this3._byLayerId[_this3._layerIdKey(category, layerId)];
        if (layer) {
          _this3._removeLayer(layer);
        }
      });
    }
  }, {
    key: &quot;clearLayers&quot;,
    value: function clearLayers(category) {
      var _this4 = this;

      // Find all layers in _byCategory[category]
      var catTable = this._byCategory[category];
      if (!catTable) {
        return false;
      }

      // Remove all layers. Make copy of keys to avoid mutating the collection
      // behind the iterator you're accessing.
      var stamps = [];
      _jquery2.default.each(catTable, function (k, v) {
        stamps.push(k);
      });
      _jquery2.default.each(stamps, function (i, stamp) {
        _this4._removeLayer(stamp);
      });
    }
  }, {
    key: &quot;getLayerGroup&quot;,
    value: function getLayerGroup(group, ensureExists) {
      var g = this._groupContainers[group];
      if (ensureExists &amp;&amp; !g) {
        this._byGroup[group] = this._byGroup[group] || {};
        g = this._groupContainers[group] = _leaflet2.default.featureGroup();
        g.groupname = group;
        g.addTo(this._map);
      }
      return g;
    }
  }, {
    key: &quot;getGroupNameFromLayerGroup&quot;,
    value: function getGroupNameFromLayerGroup(layerGroup) {
      return layerGroup.groupname;
    }
  }, {
    key: &quot;getVisibleGroups&quot;,
    value: function getVisibleGroups() {
      var _this5 = this;

      var result = [];
      _jquery2.default.each(this._groupContainers, function (k, v) {
        if (_this5._map.hasLayer(v)) {
          result.push(k);
        }
      });
      return result;
    }
  }, {
    key: &quot;getAllGroupNames&quot;,
    value: function getAllGroupNames() {
      var result = [];
      _jquery2.default.each(this._groupContainers, function (k, v) {
        result.push(k);
      });
      return result;
    }
  }, {
    key: &quot;clearGroup&quot;,
    value: function clearGroup(group) {
      var _this6 = this;

      // Find all layers in _byGroup[group]
      var groupTable = this._byGroup[group];
      if (!groupTable) {
        return false;
      }

      // Remove all layers. Make copy of keys to avoid mutating the collection
      // behind the iterator you're accessing.
      var stamps = [];
      _jquery2.default.each(groupTable, function (k, v) {
        stamps.push(k);
      });
      _jquery2.default.each(stamps, function (i, stamp) {
        _this6._removeLayer(stamp);
      });
    }
  }, {
    key: &quot;clear&quot;,
    value: function clear() {
      function clearLayerGroup(key, layerGroup) {
        layerGroup.clearLayers();
      }
      // Clear all indices and layerGroups
      this._byGroup = {};
      this._byCategory = {};
      this._byLayerId = {};
      this._byStamp = {};
      this._byCrosstalkGroup = {};
      _jquery2.default.each(this._categoryContainers, clearLayerGroup);
      this._categoryContainers = {};
      _jquery2.default.each(this._groupContainers, clearLayerGroup);
      this._groupContainers = {};
    }
  }, {
    key: &quot;_removeLayer&quot;,
    value: function _removeLayer(layer) {
      var stamp = void 0;
      if (typeof layer === &quot;string&quot;) {
        stamp = layer;
      } else {
        stamp = _leaflet2.default.Util.stamp(layer);
      }

      var layerInfo = this._byStamp[stamp];
      if (!layerInfo) {
        return false;
      }

      layerInfo.container.removeLayer(stamp);
      if (typeof layerInfo.group === &quot;string&quot;) {
        delete this._byGroup[layerInfo.group][stamp];
      }
      if (typeof layerInfo.layerId === &quot;string&quot;) {
        delete this._byLayerId[this._layerIdKey(layerInfo.category, layerInfo.layerId)];
      }
      delete this._byCategory[layerInfo.category][stamp];
      delete this._byStamp[stamp];
      if (layerInfo.ctGroup) {
        var ctGroup = this._byCrosstalkGroup[layerInfo.ctGroup];
        var layersForKey = ctGroup[layerInfo.ctKey];
        var idx = layersForKey ? layersForKey.indexOf(stamp) : -1;
        if (idx &gt;= 0) {
          if (layersForKey.length === 1) {
            delete ctGroup[layerInfo.ctKey];
          } else {
            layersForKey.splice(idx, 1);
          }
        }
      }
    }
  }, {
    key: &quot;_layerIdKey&quot;,
    value: function _layerIdKey(category, layerId) {
      return category + &quot;\n&quot; + layerId;
    }
  }]);

  return LayerManager;
}();

exports.default = LayerManager;


}).call(this,typeof global !== &quot;undefined&quot; ? global : typeof self !== &quot;undefined&quot; ? self : typeof window !== &quot;undefined&quot; ? window : {})
},{&quot;./global/jquery&quot;:9,&quot;./global/leaflet&quot;:10,&quot;./util&quot;:17}],15:[function(require,module,exports){
(function (global){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});

var _typeof = typeof Symbol === &quot;function&quot; &amp;&amp; typeof Symbol.iterator === &quot;symbol&quot; ? function (obj) { return typeof obj; } : function (obj) { return obj &amp;&amp; typeof Symbol === &quot;function&quot; &amp;&amp; obj.constructor === Symbol ? &quot;symbol&quot; : typeof obj; };

var _jquery = require(&quot;./global/jquery&quot;);

var _jquery2 = _interopRequireDefault(_jquery);

var _leaflet = require(&quot;./global/leaflet&quot;);

var _leaflet2 = _interopRequireDefault(_leaflet);

var _shiny = require(&quot;./global/shiny&quot;);

var _shiny2 = _interopRequireDefault(_shiny);

var _htmlwidgets = require(&quot;./global/htmlwidgets&quot;);

var _htmlwidgets2 = _interopRequireDefault(_htmlwidgets);

var _util = require(&quot;./util&quot;);

var _crs_utils = require(&quot;./crs_utils&quot;);

var _dataframe = require(&quot;./dataframe&quot;);

var _dataframe2 = _interopRequireDefault(_dataframe);

var _clusterLayerStore = require(&quot;./cluster-layer-store&quot;);

var _clusterLayerStore2 = _interopRequireDefault(_clusterLayerStore);

var _mipmapper = require(&quot;./mipmapper&quot;);

var _mipmapper2 = _interopRequireDefault(_mipmapper);

function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { default: obj }; }

var methods = {};
exports.default = methods;


function mouseHandler(mapId, layerId, group, eventName, extraInfo) {
  return function (e) {
    if (!_htmlwidgets2.default.shinyMode) return;

    var eventInfo = _jquery2.default.extend({
      id: layerId,
      &quot;.nonce&quot;: Math.random() // force reactivity
    }, group !== null ? { group: group } : null, e.target.getLatLng ? e.target.getLatLng() : e.latlng, extraInfo);

    _shiny2.default.onInputChange(mapId + &quot;_&quot; + eventName, eventInfo);
  };
}

methods.mouseHandler = mouseHandler;

methods.clearGroup = function (group) {
  var _this = this;

  _jquery2.default.each((0, _util.asArray)(group), function (i, v) {
    _this.layerManager.clearGroup(v);
  });
};

methods.setView = function (center, zoom, options) {
  this.setView(center, zoom, options);
};

methods.fitBounds = function (lat1, lng1, lat2, lng2, options) {
  this.fitBounds([[lat1, lng1], [lat2, lng2]], options);
};

methods.flyTo = function (center, zoom, options) {
  this.flyTo(center, zoom, options);
};

methods.flyToBounds = function (lat1, lng1, lat2, lng2, options) {
  this.flyToBounds([[lat1, lng1], [lat2, lng2]], options);
};

methods.setMaxBounds = function (lat1, lng1, lat2, lng2) {
  this.setMaxBounds([[lat1, lng1], [lat2, lng2]]);
};

methods.addPopups = function (lat, lng, popup, layerId, group, options) {
  var _this2 = this;

  var df = new _dataframe2.default().col(&quot;lat&quot;, lat).col(&quot;lng&quot;, lng).col(&quot;popup&quot;, popup).col(&quot;layerId&quot;, layerId).col(&quot;group&quot;, group).cbind(options);

  var _loop = function _loop(i) {
    if (_jquery2.default.isNumeric(df.get(i, &quot;lat&quot;)) &amp;&amp; _jquery2.default.isNumeric(df.get(i, &quot;lng&quot;))) {
      (function () {
        var popup = _leaflet2.default.popup(df.get(i)).setLatLng([df.get(i, &quot;lat&quot;), df.get(i, &quot;lng&quot;)]).setContent(df.get(i, &quot;popup&quot;));
        var thisId = df.get(i, &quot;layerId&quot;);
        var thisGroup = df.get(i, &quot;group&quot;);
        this.layerManager.addLayer(popup, &quot;popup&quot;, thisId, thisGroup);
      }).call(_this2);
    }
  };

  for (var i = 0; i &lt; df.nrow(); i++) {
    _loop(i);
  }
};

methods.removePopup = function (layerId) {
  this.layerManager.removeLayer(&quot;popup&quot;, layerId);
};

methods.clearPopups = function () {
  this.layerManager.clearLayers(&quot;popup&quot;);
};

methods.addTiles = function (urlTemplate, layerId, group, options) {
  this.layerManager.addLayer(_leaflet2.default.tileLayer(urlTemplate, options), &quot;tile&quot;, layerId, group);
};

methods.removeTiles = function (layerId) {
  this.layerManager.removeLayer(&quot;tile&quot;, layerId);
};

methods.clearTiles = function () {
  this.layerManager.clearLayers(&quot;tile&quot;);
};

methods.addWMSTiles = function (baseUrl, layerId, group, options) {
  if (options &amp;&amp; options.crs) {
    options.crs = (0, _crs_utils.getCRS)(options.crs);
  }
  this.layerManager.addLayer(_leaflet2.default.tileLayer.wms(baseUrl, options), &quot;tile&quot;, layerId, group);
};

// Given:
//   {data: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], index: [0, 1, 0, 2]}
// returns:
//   [&quot;a&quot;, &quot;b&quot;, &quot;a&quot;, &quot;c&quot;]
function unpackStrings(iconset) {
  if (!iconset) {
    return iconset;
  }
  if (typeof iconset.index === &quot;undefined&quot;) {
    return iconset;
  }

  iconset.data = (0, _util.asArray)(iconset.data);
  iconset.index = (0, _util.asArray)(iconset.index);

  return _jquery2.default.map(iconset.index, function (e, i) {
    return iconset.data[e];
  });
}

function addMarkers(map, df, group, clusterOptions, clusterId, markerFunc) {
  (function () {
    var _this3 = this;

    var clusterGroup = this.layerManager.getLayer(&quot;cluster&quot;, clusterId),
        cluster = clusterOptions !== null;
    if (cluster &amp;&amp; !clusterGroup) {
      clusterGroup = _leaflet2.default.markerClusterGroup.layerSupport(clusterOptions);
      if (clusterOptions.freezeAtZoom) {
        var freezeAtZoom = clusterOptions.freezeAtZoom;
        delete clusterOptions.freezeAtZoom;
        clusterGroup.freezeAtZoom(freezeAtZoom);
      }
      clusterGroup.clusterLayerStore = new _clusterLayerStore2.default(clusterGroup);
    }
    var extraInfo = cluster ? { clusterId: clusterId } : {};

    var _loop2 = function _loop2(i) {
      if (_jquery2.default.isNumeric(df.get(i, &quot;lat&quot;)) &amp;&amp; _jquery2.default.isNumeric(df.get(i, &quot;lng&quot;))) {
        (function () {
          var marker = markerFunc(df, i);
          var thisId = df.get(i, &quot;layerId&quot;);
          var thisGroup = cluster ? null : df.get(i, &quot;group&quot;);
          if (cluster) {
            clusterGroup.clusterLayerStore.add(marker, thisId);
          } else {
            this.layerManager.addLayer(marker, &quot;marker&quot;, thisId, thisGroup, df.get(i, &quot;ctGroup&quot;, true), df.get(i, &quot;ctKey&quot;, true));
          }
          var popup = df.get(i, &quot;popup&quot;);
          var popupOptions = df.get(i, &quot;popupOptions&quot;);
          if (popup !== null) {
            if (popupOptions !== null) {
              marker.bindPopup(popup, popupOptions);
            } else {
              marker.bindPopup(popup);
            }
          }
          var label = df.get(i, &quot;label&quot;);
          var labelOptions = df.get(i, &quot;labelOptions&quot;);
          if (label !== null) {
            if (labelOptions !== null) {
              if (labelOptions.permanent) {
                marker.bindTooltip(label, labelOptions).openTooltip();
              } else {
                marker.bindTooltip(label, labelOptions);
              }
            } else {
              marker.bindTooltip(label);
            }
          }
          marker.on(&quot;click&quot;, mouseHandler(this.id, thisId, thisGroup, &quot;marker_click&quot;, extraInfo), this);
          marker.on(&quot;mouseover&quot;, mouseHandler(this.id, thisId, thisGroup, &quot;marker_mouseover&quot;, extraInfo), this);
          marker.on(&quot;mouseout&quot;, mouseHandler(this.id, thisId, thisGroup, &quot;marker_mouseout&quot;, extraInfo), this);
          marker.on(&quot;dragend&quot;, mouseHandler(this.id, thisId, thisGroup, &quot;marker_dragend&quot;, extraInfo), this);
        }).call(_this3);
      }
    };

    for (var i = 0; i &lt; df.nrow(); i++) {
      _loop2(i);
    }

    if (cluster) {
      this.layerManager.addLayer(clusterGroup, &quot;cluster&quot;, clusterId, group);
    }
  }).call(map);
}

methods.addGenericMarkers = addMarkers;

methods.addMarkers = function (lat, lng, icon, layerId, group, options, popup, popupOptions, clusterOptions, clusterId, label, labelOptions, crosstalkOptions) {
  var icondf = void 0;
  var getIcon = void 0;

  if (icon) {
    // Unpack icons
    icon.iconUrl = unpackStrings(icon.iconUrl);
    icon.iconRetinaUrl = unpackStrings(icon.iconRetinaUrl);
    icon.shadowUrl = unpackStrings(icon.shadowUrl);
    icon.shadowRetinaUrl = unpackStrings(icon.shadowRetinaUrl);

    // This cbinds the icon URLs and any other icon options; they're all
    // present on the icon object.
    icondf = new _dataframe2.default().cbind(icon);

    // Constructs an icon from a specified row of the icon dataframe.
    getIcon = function getIcon(i) {
      var opts = icondf.get(i);
      if (!opts.iconUrl) {
        return new _leaflet2.default.Icon.Default();
      }

      // Composite options (like points or sizes) are passed from R with each
      // individual component as its own option. We need to combine them now
      // into their composite form.
      if (opts.iconWidth) {
        opts.iconSize = [opts.iconWidth, opts.iconHeight];
      }
      if (opts.shadowWidth) {
        opts.shadowSize = [opts.shadowWidth, opts.shadowHeight];
      }
      if (opts.iconAnchorX) {
        opts.iconAnchor = [opts.iconAnchorX, opts.iconAnchorY];
      }
      if (opts.shadowAnchorX) {
        opts.shadowAnchor = [opts.shadowAnchorX, opts.shadowAnchorY];
      }
      if (opts.popupAnchorX) {
        opts.popupAnchor = [opts.popupAnchorX, opts.popupAnchorY];
      }

      return new _leaflet2.default.Icon(opts);
    };
  }

  if (!(_jquery2.default.isEmptyObject(lat) || _jquery2.default.isEmptyObject(lng)) || _jquery2.default.isNumeric(lat) &amp;&amp; _jquery2.default.isNumeric(lng)) {

    var df = new _dataframe2.default().col(&quot;lat&quot;, lat).col(&quot;lng&quot;, lng).col(&quot;layerId&quot;, layerId).col(&quot;group&quot;, group).col(&quot;popup&quot;, popup).col(&quot;popupOptions&quot;, popupOptions).col(&quot;label&quot;, label).col(&quot;labelOptions&quot;, labelOptions).cbind(options).cbind(crosstalkOptions || {});

    if (icon) icondf.effectiveLength = df.nrow();

    addMarkers(this, df, group, clusterOptions, clusterId, function (df, i) {
      var options = df.get(i);
      if (icon) options.icon = getIcon(i);
      return _leaflet2.default.marker([df.get(i, &quot;lat&quot;), df.get(i, &quot;lng&quot;)], options);
    });
  }
};

methods.addAwesomeMarkers = function (lat, lng, icon, layerId, group, options, popup, popupOptions, clusterOptions, clusterId, label, labelOptions, crosstalkOptions) {
  var icondf = void 0;
  var getIcon = void 0;
  if (icon) {

    // This cbinds the icon URLs and any other icon options; they're all
    // present on the icon object.
    icondf = new _dataframe2.default().cbind(icon);

    // Constructs an icon from a specified row of the icon dataframe.
    getIcon = function getIcon(i) {
      var opts = icondf.get(i);
      if (!opts) {
        return new _leaflet2.default.AwesomeMarkers.icon();
      }

      if (opts.squareMarker) {
        opts.className = &quot;awesome-marker awesome-marker-square&quot;;
      }
      return new _leaflet2.default.AwesomeMarkers.icon(opts);
    };
  }

  if (!(_jquery2.default.isEmptyObject(lat) || _jquery2.default.isEmptyObject(lng)) || _jquery2.default.isNumeric(lat) &amp;&amp; _jquery2.default.isNumeric(lng)) {

    var df = new _dataframe2.default().col(&quot;lat&quot;, lat).col(&quot;lng&quot;, lng).col(&quot;layerId&quot;, layerId).col(&quot;group&quot;, group).col(&quot;popup&quot;, popup).col(&quot;popupOptions&quot;, popupOptions).col(&quot;label&quot;, label).col(&quot;labelOptions&quot;, labelOptions).cbind(options).cbind(crosstalkOptions || {});

    if (icon) icondf.effectiveLength = df.nrow();

    addMarkers(this, df, group, clusterOptions, clusterId, function (df, i) {
      var options = df.get(i);
      if (icon) options.icon = getIcon(i);
      return _leaflet2.default.marker([df.get(i, &quot;lat&quot;), df.get(i, &quot;lng&quot;)], options);
    });
  }
};

function addLayers(map, category, df, layerFunc) {
  var _loop3 = function _loop3(i) {
    (function () {
      var _this4 = this;

      var layer = layerFunc(df, i);
      if (!_jquery2.default.isEmptyObject(layer)) {
        (function () {
          var thisId = df.get(i, &quot;layerId&quot;);
          var thisGroup = df.get(i, &quot;group&quot;);
          _this4.layerManager.addLayer(layer, category, thisId, thisGroup, df.get(i, &quot;ctGroup&quot;, true), df.get(i, &quot;ctKey&quot;, true));
          if (layer.bindPopup) {
            var popup = df.get(i, &quot;popup&quot;);
            var popupOptions = df.get(i, &quot;popupOptions&quot;);
            if (popup !== null) {
              if (popupOptions !== null) {
                layer.bindPopup(popup, popupOptions);
              } else {
                layer.bindPopup(popup);
              }
            }
          }
          if (layer.bindTooltip) {
            var label = df.get(i, &quot;label&quot;);
            var labelOptions = df.get(i, &quot;labelOptions&quot;);
            if (label !== null) {
              if (labelOptions !== null) {
                layer.bindTooltip(label, labelOptions);
              } else {
                layer.bindTooltip(label);
              }
            }
          }
          layer.on(&quot;click&quot;, mouseHandler(_this4.id, thisId, thisGroup, category + &quot;_click&quot;), _this4);
          layer.on(&quot;mouseover&quot;, mouseHandler(_this4.id, thisId, thisGroup, category + &quot;_mouseover&quot;), _this4);
          layer.on(&quot;mouseout&quot;, mouseHandler(_this4.id, thisId, thisGroup, category + &quot;_mouseout&quot;), _this4);
          var highlightStyle = df.get(i, &quot;highlightOptions&quot;);

          if (!_jquery2.default.isEmptyObject(highlightStyle)) {
            (function () {

              var defaultStyle = {};
              _jquery2.default.each(highlightStyle, function (k, v) {
                if (k != &quot;bringToFront&quot; &amp;&amp; k != &quot;sendToBack&quot;) {
                  if (df.get(i, k)) {
                    defaultStyle[k] = df.get(i, k);
                  }
                }
              });

              layer.on(&quot;mouseover&quot;, function (e) {
                this.setStyle(highlightStyle);
                if (highlightStyle.bringToFront) {
                  this.bringToFront();
                }
              });
              layer.on(&quot;mouseout&quot;, function (e) {
                this.setStyle(defaultStyle);
                if (highlightStyle.sendToBack) {
                  this.bringToBack();
                }
              });
            })();
          }
        })();
      }
    }).call(map);
  };

  for (var i = 0; i &lt; df.nrow(); i++) {
    _loop3(i);
  }
}

methods.addGenericLayers = addLayers;

methods.addCircles = function (lat, lng, radius, layerId, group, options, popup, popupOptions, label, labelOptions, highlightOptions, crosstalkOptions) {
  if (!(_jquery2.default.isEmptyObject(lat) || _jquery2.default.isEmptyObject(lng)) || _jquery2.default.isNumeric(lat) &amp;&amp; _jquery2.default.isNumeric(lng)) {
    var df = new _dataframe2.default().col(&quot;lat&quot;, lat).col(&quot;lng&quot;, lng).col(&quot;radius&quot;, radius).col(&quot;layerId&quot;, layerId).col(&quot;group&quot;, group).col(&quot;popup&quot;, popup).col(&quot;popupOptions&quot;, popupOptions).col(&quot;label&quot;, label).col(&quot;labelOptions&quot;, labelOptions).col(&quot;highlightOptions&quot;, highlightOptions).cbind(options).cbind(crosstalkOptions || {});

    addLayers(this, &quot;shape&quot;, df, function (df, i) {
      if (_jquery2.default.isNumeric(df.get(i, &quot;lat&quot;)) &amp;&amp; _jquery2.default.isNumeric(df.get(i, &quot;lng&quot;)) &amp;&amp; _jquery2.default.isNumeric(df.get(i, &quot;radius&quot;))) {
        return _leaflet2.default.circle([df.get(i, &quot;lat&quot;), df.get(i, &quot;lng&quot;)], df.get(i, &quot;radius&quot;), df.get(i));
      } else {
        return null;
      }
    });
  }
};

methods.addCircleMarkers = function (lat, lng, radius, layerId, group, options, clusterOptions, clusterId, popup, popupOptions, label, labelOptions, crosstalkOptions) {
  if (!(_jquery2.default.isEmptyObject(lat) || _jquery2.default.isEmptyObject(lng)) || _jquery2.default.isNumeric(lat) &amp;&amp; _jquery2.default.isNumeric(lng)) {
    var df = new _dataframe2.default().col(&quot;lat&quot;, lat).col(&quot;lng&quot;, lng).col(&quot;radius&quot;, radius).col(&quot;layerId&quot;, layerId).col(&quot;group&quot;, group).col(&quot;popup&quot;, popup).col(&quot;popupOptions&quot;, popupOptions).col(&quot;label&quot;, label).col(&quot;labelOptions&quot;, labelOptions).cbind(crosstalkOptions || {}).cbind(options);

    addMarkers(this, df, group, clusterOptions, clusterId, function (df, i) {
      return _leaflet2.default.circleMarker([df.get(i, &quot;lat&quot;), df.get(i, &quot;lng&quot;)], df.get(i));
    });
  }
};

/*
 * @param lat Array of arrays of latitude coordinates for polylines
 * @param lng Array of arrays of longitude coordinates for polylines
 */
methods.addPolylines = function (polygons, layerId, group, options, popup, popupOptions, label, labelOptions, highlightOptions) {
  if (polygons.length &gt; 0) {
    var df = new _dataframe2.default().col(&quot;shapes&quot;, polygons).col(&quot;layerId&quot;, layerId).col(&quot;group&quot;, group).col(&quot;popup&quot;, popup).col(&quot;popupOptions&quot;, popupOptions).col(&quot;label&quot;, label).col(&quot;labelOptions&quot;, labelOptions).col(&quot;highlightOptions&quot;, highlightOptions).cbind(options);

    addLayers(this, &quot;shape&quot;, df, function (df, i) {
      var shapes = df.get(i, &quot;shapes&quot;);
      shapes = shapes.map(function (shape) {
        return _htmlwidgets2.default.dataframeToD3(shape[0]);
      });
      if (shapes.length &gt; 1) {
        return _leaflet2.default.polyline(shapes, df.get(i));
      } else {
        return _leaflet2.default.polyline(shapes[0], df.get(i));
      }
    });
  }
};

methods.removeMarker = function (layerId) {
  this.layerManager.removeLayer(&quot;marker&quot;, layerId);
};

methods.clearMarkers = function () {
  this.layerManager.clearLayers(&quot;marker&quot;);
};

methods.removeMarkerCluster = function (layerId) {
  this.layerManager.removeLayer(&quot;cluster&quot;, layerId);
};

methods.removeMarkerFromCluster = function (layerId, clusterId) {
  var cluster = this.layerManager.getLayer(&quot;cluster&quot;, clusterId);
  if (!cluster) return;
  cluster.clusterLayerStore.remove(layerId);
};

methods.clearMarkerClusters = function () {
  this.layerManager.clearLayers(&quot;cluster&quot;);
};

methods.removeShape = function (layerId) {
  this.layerManager.removeLayer(&quot;shape&quot;, layerId);
};

methods.clearShapes = function () {
  this.layerManager.clearLayers(&quot;shape&quot;);
};

methods.addRectangles = function (lat1, lng1, lat2, lng2, layerId, group, options, popup, popupOptions, label, labelOptions, highlightOptions) {
  var df = new _dataframe2.default().col(&quot;lat1&quot;, lat1).col(&quot;lng1&quot;, lng1).col(&quot;lat2&quot;, lat2).col(&quot;lng2&quot;, lng2).col(&quot;layerId&quot;, layerId).col(&quot;group&quot;, group).col(&quot;popup&quot;, popup).col(&quot;popupOptions&quot;, popupOptions).col(&quot;label&quot;, label).col(&quot;labelOptions&quot;, labelOptions).col(&quot;highlightOptions&quot;, highlightOptions).cbind(options);

  addLayers(this, &quot;shape&quot;, df, function (df, i) {
    if (_jquery2.default.isNumeric(df.get(i, &quot;lat1&quot;)) &amp;&amp; _jquery2.default.isNumeric(df.get(i, &quot;lng1&quot;)) &amp;&amp; _jquery2.default.isNumeric(df.get(i, &quot;lat2&quot;)) &amp;&amp; _jquery2.default.isNumeric(df.get(i, &quot;lng2&quot;))) {
      return _leaflet2.default.rectangle([[df.get(i, &quot;lat1&quot;), df.get(i, &quot;lng1&quot;)], [df.get(i, &quot;lat2&quot;), df.get(i, &quot;lng2&quot;)]], df.get(i));
    } else {
      return null;
    }
  });
};

/*
 * @param lat Array of arrays of latitude coordinates for polygons
 * @param lng Array of arrays of longitude coordinates for polygons
 */
methods.addPolygons = function (polygons, layerId, group, options, popup, popupOptions, label, labelOptions, highlightOptions) {
  if (polygons.length &gt; 0) {
    var df = new _dataframe2.default().col(&quot;shapes&quot;, polygons).col(&quot;layerId&quot;, layerId).col(&quot;group&quot;, group).col(&quot;popup&quot;, popup).col(&quot;popupOptions&quot;, popupOptions).col(&quot;label&quot;, label).col(&quot;labelOptions&quot;, labelOptions).col(&quot;highlightOptions&quot;, highlightOptions).cbind(options);

    addLayers(this, &quot;shape&quot;, df, function (df, i) {
      // This code used to use L.multiPolygon, but that caused
      // double-click on a multipolygon to fail to zoom in on the
      // map. Surprisingly, putting all the rings in a single
      // polygon seems to still work; complicated multipolygons
      // are still rendered correctly.
      var shapes = df.get(i, &quot;shapes&quot;).map(function (polygon) {
        return polygon.map(_htmlwidgets2.default.dataframeToD3);
      }).reduce(function (acc, val) {
        return acc.concat(val);
      }, []);
      return _leaflet2.default.polygon(shapes, df.get(i));
    });
  }
};

methods.addGeoJSON = function (data, layerId, group, style) {
  // This time, self is actually needed because the callbacks below need
  // to access both the inner and outer senses of &quot;this&quot;
  var self = this;
  if (typeof data === &quot;string&quot;) {
    data = JSON.parse(data);
  }

  var globalStyle = _jquery2.default.extend({}, style, data.style || {});

  var gjlayer = _leaflet2.default.geoJson(data, {
    style: function style(feature) {
      if (feature.style || feature.properties.style) {
        return _jquery2.default.extend({}, globalStyle, feature.style, feature.properties.style);
      } else {
        return globalStyle;
      }
    },
    onEachFeature: function onEachFeature(feature, layer) {
      var extraInfo = {
        featureId: feature.id,
        properties: feature.properties
      };
      var popup = feature.properties.popup;
      if (typeof popup !== &quot;undefined&quot; &amp;&amp; popup !== null) layer.bindPopup(popup);
      layer.on(&quot;click&quot;, mouseHandler(self.id, layerId, group, &quot;geojson_click&quot;, extraInfo), this);
      layer.on(&quot;mouseover&quot;, mouseHandler(self.id, layerId, group, &quot;geojson_mouseover&quot;, extraInfo), this);
      layer.on(&quot;mouseout&quot;, mouseHandler(self.id, layerId, group, &quot;geojson_mouseout&quot;, extraInfo), this);
    }
  });
  this.layerManager.addLayer(gjlayer, &quot;geojson&quot;, layerId, group);
};

methods.removeGeoJSON = function (layerId) {
  this.layerManager.removeLayer(&quot;geojson&quot;, layerId);
};

methods.clearGeoJSON = function () {
  this.layerManager.clearLayers(&quot;geojson&quot;);
};

methods.addTopoJSON = function (data, layerId, group, style) {
  // This time, self is actually needed because the callbacks below need
  // to access both the inner and outer senses of &quot;this&quot;
  var self = this;
  if (typeof data === &quot;string&quot;) {
    data = JSON.parse(data);
  }

  var globalStyle = _jquery2.default.extend({}, style, data.style || {});

  var gjlayer = _leaflet2.default.geoJson(null, {
    style: function style(feature) {
      if (feature.style || feature.properties.style) {
        return _jquery2.default.extend({}, globalStyle, feature.style, feature.properties.style);
      } else {
        return globalStyle;
      }
    },
    onEachFeature: function onEachFeature(feature, layer) {
      var extraInfo = {
        featureId: feature.id,
        properties: feature.properties
      };
      var popup = feature.properties.popup;
      if (typeof popup !== &quot;undefined&quot; &amp;&amp; popup !== null) layer.bindPopup(popup);
      layer.on(&quot;click&quot;, mouseHandler(self.id, layerId, group, &quot;topojson_click&quot;, extraInfo), this);
      layer.on(&quot;mouseover&quot;, mouseHandler(self.id, layerId, group, &quot;topojson_mouseover&quot;, extraInfo), this);
      layer.on(&quot;mouseout&quot;, mouseHandler(self.id, layerId, group, &quot;topojson_mouseout&quot;, extraInfo), this);
    }
  });
  global.omnivore.topojson.parse(data, null, gjlayer);
  this.layerManager.addLayer(gjlayer, &quot;topojson&quot;, layerId, group);
};

methods.removeTopoJSON = function (layerId) {
  this.layerManager.removeLayer(&quot;topojson&quot;, layerId);
};

methods.clearTopoJSON = function () {
  this.layerManager.clearLayers(&quot;topojson&quot;);
};

methods.addControl = function (html, position, layerId, classes) {
  function onAdd(map) {
    var div = _leaflet2.default.DomUtil.create(&quot;div&quot;, classes);
    if (typeof layerId !== &quot;undefined&quot; &amp;&amp; layerId !== null) {
      div.setAttribute(&quot;id&quot;, layerId);
    }
    this._div = div;

    // It's possible for window.Shiny to be true but Shiny.initializeInputs to
    // not be, when a static leaflet widget is included as part of the shiny
    // UI directly (not through leafletOutput or uiOutput). In this case we
    // don't do the normal Shiny stuff as that will all happen when Shiny
    // itself loads and binds the entire doc.

    if (window.Shiny &amp;&amp; _shiny2.default.initializeInputs) {
      _shiny2.default.renderHtml(html, this._div);
      _shiny2.default.initializeInputs(this._div);
      _shiny2.default.bindAll(this._div);
    } else {
      this._div.innerHTML = html;
    }

    return this._div;
  }
  function onRemove(map) {
    if (window.Shiny &amp;&amp; _shiny2.default.unbindAll) {
      _shiny2.default.unbindAll(this._div);
    }
  }
  var Control = _leaflet2.default.Control.extend({
    options: { position: position },
    onAdd: onAdd,
    onRemove: onRemove
  });
  this.controls.add(new Control(), layerId, html);
};

methods.addCustomControl = function (control, layerId) {
  this.controls.add(control, layerId);
};

methods.removeControl = function (layerId) {
  this.controls.remove(layerId);
};

methods.getControl = function (layerId) {
  this.controls.get(layerId);
};

methods.clearControls = function () {
  this.controls.clear();
};

methods.addLegend = function (options) {
  var _this5 = this;

  var legend = _leaflet2.default.control({ position: options.position });
  var gradSpan = void 0;

  legend.onAdd = function (map) {
    var div = _leaflet2.default.DomUtil.create(&quot;div&quot;, options.className),
        colors = options.colors,
        labels = options.labels,
        legendHTML = &quot;&quot;;
    if (options.type === &quot;numeric&quot;) {
      (function () {
        // # Formatting constants.
        var singleBinHeight = 20; // The distance between tick marks, in px
        var vMargin = 8; // If 1st tick mark starts at top of gradient, how
        // many extra px are needed for the top half of the
        // 1st label? (ditto for last tick mark/label)
        var tickWidth = 4; // How wide should tick marks be, in px?
        var labelPadding = 6; // How much distance to reserve for tick mark?
        // (Must be &gt;= tickWidth)

        // # Derived formatting parameters.

        // What's the height of a single bin, in percentage (of gradient height)?
        // It might not just be 1/(n-1), if the gradient extends past the tick
        // marks (which can be the case for pretty cut points).
        var singleBinPct = (options.extra.p_n - options.extra.p_1) / (labels.length - 1);
        // Each bin is `singleBinHeight` high. How tall is the gradient?
        var totalHeight = 1 / singleBinPct * singleBinHeight + 1;
        // How far should the first tick be shifted down, relative to the top
        // of the gradient?
        var tickOffset = singleBinHeight / singleBinPct * options.extra.p_1;

        gradSpan = (0, _jquery2.default)(&quot;&lt;span/&gt;&quot;).css({
          &quot;background&quot;: &quot;linear-gradient(&quot; + colors + &quot;)&quot;,
          &quot;opacity&quot;: options.opacity,
          &quot;height&quot;: totalHeight + &quot;px&quot;,
          &quot;width&quot;: &quot;18px&quot;,
          &quot;display&quot;: &quot;block&quot;,
          &quot;margin-top&quot;: vMargin + &quot;px&quot;
        });
        var leftDiv = (0, _jquery2.default)(&quot;&lt;div/&gt;&quot;).css(&quot;float&quot;, &quot;left&quot;),
            rightDiv = (0, _jquery2.default)(&quot;&lt;div/&gt;&quot;).css(&quot;float&quot;, &quot;left&quot;);
        leftDiv.append(gradSpan);
        (0, _jquery2.default)(div).append(leftDiv).append(rightDiv).append((0, _jquery2.default)(&quot;&lt;br&gt;&quot;));

        // Have to attach the div to the body at this early point, so that the
        // svg text getComputedTextLength() actually works, below.
        document.body.appendChild(div);

        var ns = &quot;http://www.w3.org/2000/svg&quot;;
        var svg = document.createElementNS(ns, &quot;svg&quot;);
        rightDiv.append(svg);
        var g = document.createElementNS(ns, &quot;g&quot;);
        (0, _jquery2.default)(g).attr(&quot;transform&quot;, &quot;translate(0, &quot; + vMargin + &quot;)&quot;);
        svg.appendChild(g);

        // max label width needed to set width of svg, and right-justify text
        var maxLblWidth = 0;

        // Create tick marks and labels
        _jquery2.default.each(labels, function (i, label) {
          var y = tickOffset + i * singleBinHeight + 0.5;

          var thisLabel = document.createElementNS(ns, &quot;text&quot;);
          (0, _jquery2.default)(thisLabel).text(labels[i]).attr(&quot;y&quot;, y).attr(&quot;dx&quot;, labelPadding).attr(&quot;dy&quot;, &quot;0.5ex&quot;);
          g.appendChild(thisLabel);
          maxLblWidth = Math.max(maxLblWidth, thisLabel.getComputedTextLength());

          var thisTick = document.createElementNS(ns, &quot;line&quot;);
          (0, _jquery2.default)(thisTick).attr(&quot;x1&quot;, 0).attr(&quot;x2&quot;, tickWidth).attr(&quot;y1&quot;, y).attr(&quot;y2&quot;, y).attr(&quot;stroke-width&quot;, 1);
          g.appendChild(thisTick);
        });

        // Now that we know the max label width, we can right-justify
        (0, _jquery2.default)(svg).find(&quot;text&quot;).attr(&quot;dx&quot;, labelPadding + maxLblWidth).attr(&quot;text-anchor&quot;, &quot;end&quot;);
        // Final size for &lt;svg&gt;
        (0, _jquery2.default)(svg).css({
          width: maxLblWidth + labelPadding + &quot;px&quot;,
          height: totalHeight + vMargin * 2 + &quot;px&quot;
        });

        if (options.na_color &amp;&amp; _jquery2.default.inArray(options.na_label, labels) &lt; 0) {
          (0, _jquery2.default)(div).append(&quot;&lt;div&gt;&lt;i style=\&quot;&quot; + &quot;background:&quot; + options.na_color + &quot;;opacity:&quot; + options.opacity + &quot;;margin-right:&quot; + labelPadding + &quot;px&quot; + &quot;;\&quot;&gt;&lt;/i&gt;&quot; + options.na_label + &quot;&lt;/div&gt;&quot;);
        }
      })();
    } else {
      if (options.na_color &amp;&amp; _jquery2.default.inArray(options.na_label, labels) &lt; 0) {
        colors.push(options.na_color);
        labels.push(options.na_label);
      }
      for (var i = 0; i &lt; colors.length; i++) {
        legendHTML += &quot;&lt;i style=\&quot;background:&quot; + colors[i] + &quot;;opacity:&quot; + options.opacity + &quot;\&quot;&gt;&lt;/i&gt; &quot; + labels[i] + &quot;&lt;br&gt;&quot;;
      }
      div.innerHTML = legendHTML;
    }
    if (options.title) (0, _jquery2.default)(div).prepend(&quot;&lt;div style=\&quot;margin-bottom:3px\&quot;&gt;&lt;strong&gt;&quot; + options.title + &quot;&lt;/strong&gt;&lt;/div&gt;&quot;);
    return div;
  };

  if (options.group) {
    (function () {
      // Auto generate a layerID if not provided
      if (!options.layerId) {
        options.layerId = _leaflet2.default.Util.stamp(legend);
      }

      var map = _this5;
      map.on(&quot;overlayadd&quot;, function (e) {
        if (e.name === options.group) {
          map.controls.add(legend, options.layerId);
        }
      });
      map.on(&quot;overlayremove&quot;, function (e) {
        if (e.name === options.group) {
          map.controls.remove(options.layerId);
        }
      });
      map.on(&quot;groupadd&quot;, function (e) {
        if (e.name === options.group) {
          map.controls.add(legend, options.layerId);
        }
      });
      map.on(&quot;groupremove&quot;, function (e) {
        if (e.name === options.group) {
          map.controls.remove(options.layerId);
        }
      });
    })();
  }

  this.controls.add(legend, options.layerId);
};

methods.addLayersControl = function (baseGroups, overlayGroups, options) {
  var _this6 = this;

  // Only allow one layers control at a time
  methods.removeLayersControl.call(this);

  var firstLayer = true;
  var base = {};
  _jquery2.default.each((0, _util.asArray)(baseGroups), function (i, g) {
    var layer = _this6.layerManager.getLayerGroup(g, true);
    if (layer) {
      base[g] = layer;

      // Check if &gt;1 base layers are visible; if so, hide all but the first one
      if (_this6.hasLayer(layer)) {
        if (firstLayer) {
          firstLayer = false;
        } else {
          _this6.removeLayer(layer);
        }
      }
    }
  });
  var overlay = {};
  _jquery2.default.each((0, _util.asArray)(overlayGroups), function (i, g) {
    var layer = _this6.layerManager.getLayerGroup(g, true);
    if (layer) {
      overlay[g] = layer;
    }
  });

  this.currentLayersControl = _leaflet2.default.control.layers(base, overlay, options);
  this.addControl(this.currentLayersControl);
};

methods.removeLayersControl = function () {
  if (this.currentLayersControl) {
    this.removeControl(this.currentLayersControl);
    this.currentLayersControl = null;
  }
};

methods.addScaleBar = function (options) {

  // Only allow one scale bar at a time
  methods.removeScaleBar.call(this);

  var scaleBar = _leaflet2.default.control.scale(options).addTo(this);
  this.currentScaleBar = scaleBar;
};

methods.removeScaleBar = function () {
  if (this.currentScaleBar) {
    this.currentScaleBar.removeFrom(this);
    this.currentScaleBar = null;
  }
};

methods.hideGroup = function (group) {
  var _this7 = this;

  _jquery2.default.each((0, _util.asArray)(group), function (i, g) {
    var layer = _this7.layerManager.getLayerGroup(g, true);
    if (layer) {
      _this7.removeLayer(layer);
    }
  });
};

methods.showGroup = function (group) {
  var _this8 = this;

  _jquery2.default.each((0, _util.asArray)(group), function (i, g) {
    var layer = _this8.layerManager.getLayerGroup(g, true);
    if (layer) {
      _this8.addLayer(layer);
    }
  });
};

function setupShowHideGroupsOnZoom(map) {
  if (map.leafletr._hasInitializedShowHideGroups) {
    return;
  }
  map.leafletr._hasInitializedShowHideGroups = true;

  function setVisibility(layer, visible, group) {
    if (visible !== map.hasLayer(layer)) {
      if (visible) {
        map.addLayer(layer);
        map.fire(&quot;groupadd&quot;, { &quot;name&quot;: group, &quot;layer&quot;: layer });
      } else {
        map.removeLayer(layer);
        map.fire(&quot;groupremove&quot;, { &quot;name&quot;: group, &quot;layer&quot;: layer });
      }
    }
  }

  function showHideGroupsOnZoom() {
    if (!map.layerManager) return;

    var zoom = map.getZoom();
    map.layerManager.getAllGroupNames().forEach(function (group) {
      var layer = map.layerManager.getLayerGroup(group, false);
      if (layer &amp;&amp; typeof layer.zoomLevels !== &quot;undefined&quot;) {
        setVisibility(layer, layer.zoomLevels === true || layer.zoomLevels.indexOf(zoom) &gt;= 0, group);
      }
    });
  }

  map.showHideGroupsOnZoom = showHideGroupsOnZoom;
  map.on(&quot;zoomend&quot;, showHideGroupsOnZoom);
}

methods.setGroupOptions = function (group, options) {
  var _this9 = this;

  _jquery2.default.each((0, _util.asArray)(group), function (i, g) {
    var layer = _this9.layerManager.getLayerGroup(g, true);
    // This slightly tortured check is because 0 is a valid value for zoomLevels
    if (typeof options.zoomLevels !== &quot;undefined&quot; &amp;&amp; options.zoomLevels !== null) {
      layer.zoomLevels = (0, _util.asArray)(options.zoomLevels);
    }
  });

  setupShowHideGroupsOnZoom(this);
  this.showHideGroupsOnZoom();
};

methods.addRasterImage = function (uri, bounds, opacity, attribution, layerId, group) {
  // uri is a data URI containing an image. We want to paint this image as a
  // layer at (top-left) bounds[0] to (bottom-right) bounds[1].

  // We can't simply use ImageOverlay, as it uses bilinear scaling which looks
  // awful as you zoom in (and sometimes shifts positions or disappears).
  // Instead, we'll use a TileLayer.Canvas to draw pieces of the image.

  // First, some helper functions.

  // degree2tile converts latitude, longitude, and zoom to x and y tile
  // numbers. The tile numbers returned can be non-integral, as there's no
  // reason to expect that the lat/lng inputs are exactly on the border of two
  // tiles.
  //
  // We'll use this to convert the bounds we got from the server, into coords
  // in tile-space at a given zoom level. Note that once we do the conversion,
  // we don't to do any more trigonometry to convert between pixel coordinates
  // and tile coordinates; the source image pixel coords, destination canvas
  // pixel coords, and tile coords all can be scaled linearly.
  function degree2tile(lat, lng, zoom) {
    // See http://wiki.openstreetmap.org/wiki/Slippy_map_tilenames
    var latRad = lat * Math.PI / 180;
    var n = Math.pow(2, zoom);
    var x = (lng + 180) / 360 * n;
    var y = (1 - Math.log(Math.tan(latRad) + 1 / Math.cos(latRad)) / Math.PI) / 2 * n;
    return { x: x, y: y };
  }

  // Given a range [from,to) and either one or two numbers, returns true if
  // there is any overlap between [x,x1) and the range--or if x1 is omitted,
  // then returns true if x is within [from,to).
  function overlap(from, to, x, /* optional */x1) {
    if (arguments.length == 3) x1 = x;
    return x &lt; to &amp;&amp; x1 &gt;= from;
  }

  function getCanvasSmoothingProperty(ctx) {
    var candidates = [&quot;imageSmoothingEnabled&quot;, &quot;mozImageSmoothingEnabled&quot;, &quot;webkitImageSmoothingEnabled&quot;, &quot;msImageSmoothingEnabled&quot;];
    for (var i = 0; i &lt; candidates.length; i++) {
      if (typeof ctx[candidates[i]] !== &quot;undefined&quot;) {
        return candidates[i];
      }
    }
    return null;
  }

  // Our general strategy is to:
  // 1. Load the data URI in an Image() object, so we can get its pixel
  //    dimensions and the underlying image data. (We could have done this
  //    by not encoding as PNG at all but just send an array of RGBA values
  //    from the server, but that would inflate the JSON too much.)
  // 2. Create a hidden canvas that we use just to extract the image data
  //    from the Image (using Context2D.getImageData()).
  // 3. Create a TileLayer.Canvas and add it to the map.

  // We want to synchronously create and attach the TileLayer.Canvas (so an
  // immediate call to clearRasters() will be respected, for example), but
  // Image loads its data asynchronously. Fortunately we can resolve this
  // by putting TileLayer.Canvas into async mode, which will let us create
  // and attach the layer but have it wait until the image is loaded before
  // it actually draws anything.

  // These are the variables that we will populate once the image is loaded.
  var imgData = null; // 1d row-major array, four [0-255] integers per pixel
  var imgDataMipMapper = null;
  var w = null; // image width in pixels
  var h = null; // image height in pixels

  // We'll use this array to store callbacks that need to be invoked once
  // imgData, w, and h have been resolved.
  var imgDataCallbacks = [];

  // Consumers of imgData, w, and h can call this to be notified when data
  // is available.
  function getImageData(callback) {
    if (imgData != null) {
      // Must not invoke the callback immediately; it's too confusing and
      // fragile to have a function invoke the callback *either* immediately
      // or in the future. Better to be consistent here.
      setTimeout(function () {
        callback(imgData, w, h, imgDataMipMapper);
      }, 0);
    } else {
      imgDataCallbacks.push(callback);
    }
  }

  var img = new Image();
  img.onload = function () {
    // Save size
    w = img.width;
    h = img.height;

    // Create a dummy canvas to extract the image data
    var imgDataCanvas = document.createElement(&quot;canvas&quot;);
    imgDataCanvas.width = w;
    imgDataCanvas.height = h;
    imgDataCanvas.style.display = &quot;none&quot;;
    document.body.appendChild(imgDataCanvas);

    var imgDataCtx = imgDataCanvas.getContext(&quot;2d&quot;);
    imgDataCtx.drawImage(img, 0, 0);

    // Save the image data.
    imgData = imgDataCtx.getImageData(0, 0, w, h).data;
    imgDataMipMapper = new _mipmapper2.default(img);

    // Done with the canvas, remove it from the page so it can be gc'd.
    document.body.removeChild(imgDataCanvas);

    // Alert any getImageData callers who are waiting.
    for (var i = 0; i &lt; imgDataCallbacks.length; i++) {
      imgDataCallbacks[i](imgData, w, h, imgDataMipMapper);
    }
    imgDataCallbacks = [];
  };
  img.src = uri;

  var canvasTiles = _leaflet2.default.gridLayer({
    opacity: opacity,
    attribution: attribution,
    detectRetina: true,
    async: true
  });

  // NOTE: The done() function MUST NOT be invoked until after the current
  // tick; done() looks in Leaflet's tile cache for the current tile, and
  // since it's still being constructed, it won't be found.
  canvasTiles.createTile = function (tilePoint, done) {
    var zoom = tilePoint.z;
    var canvas = _leaflet2.default.DomUtil.create(&quot;canvas&quot;);
    var error = void 0;

    // setup tile width and height according to the options
    var size = this.getTileSize();
    canvas.width = size.x;
    canvas.height = size.y;

    getImageData(function (imgData, w, h, mipmapper) {
      try {
        var _ret8 = function () {
          // The Context2D we'll being drawing onto. It's always 256x256.
          var ctx = canvas.getContext(&quot;2d&quot;);

          // Convert our image data's top-left and bottom-right locations into
          // x/y tile coordinates. This is essentially doing a spherical mercator
          // projection, then multiplying by 2^zoom.
          var topLeft = degree2tile(bounds[0][0], bounds[0][1], zoom);
          var bottomRight = degree2tile(bounds[1][0], bounds[1][1], zoom);
          // The size of the image in x/y tile coordinates.
          var extent = { x: bottomRight.x - topLeft.x, y: bottomRight.y - topLeft.y };

          // Short circuit if tile is totally disjoint from image.
          if (!overlap(tilePoint.x, tilePoint.x + 1, topLeft.x, bottomRight.x)) return {
              v: void 0
            };
          if (!overlap(tilePoint.y, tilePoint.y + 1, topLeft.y, bottomRight.y)) return {
              v: void 0
            };

          // The linear resolution of the tile we're drawing is always 256px per tile unit.
          // If the linear resolution (in either direction) of the image is less than 256px
          // per tile unit, then use nearest neighbor; otherwise, use the canvas's built-in
          // scaling.
          var imgRes = {
            x: w / extent.x,
            y: h / extent.y
          };

          // We can do the actual drawing in one of three ways:
          // - Call drawImage(). This is easy and fast, and results in smooth
          //   interpolation (bilinear?). This is what we want when we are
          //   reducing the image from its native size.
          // - Call drawImage() with imageSmoothingEnabled=false. This is easy
          //   and fast and gives us nearest-neighbor interpolation, which is what
          //   we want when enlarging the image. However, it's unsupported on many
          //   browsers (including QtWebkit).
          // - Do a manual nearest-neighbor interpolation. This is what we'll fall
          //   back to when enlarging, and imageSmoothingEnabled isn't supported.
          //   In theory it's slower, but still pretty fast on my machine, and the
          //   results look the same AFAICT.

          // Is imageSmoothingEnabled supported? If so, we can let canvas do
          // nearest-neighbor interpolation for us.
          var smoothingProperty = getCanvasSmoothingProperty(ctx);

          if (smoothingProperty || imgRes.x &gt;= 256 &amp;&amp; imgRes.y &gt;= 256) {
            // Use built-in scaling

            // Turn off anti-aliasing if necessary
            if (smoothingProperty) {
              ctx[smoothingProperty] = imgRes.x &gt;= 256 &amp;&amp; imgRes.y &gt;= 256;
            }

            // Don't necessarily draw with the full-size image; if we're
            // downscaling, use the mipmapper to get a pre-downscaled image
            // (see comments on Mipmapper class for why this matters).
            mipmapper.getBySize(extent.x * 256, extent.y * 256, function (mip) {
              // It's possible that the image will go off the edge of the canvas--
              // that's OK, the canvas should clip appropriately.
              ctx.drawImage(mip,
              // Convert abs tile coords to rel tile coords, then *256 to convert
              // to rel pixel coords
              (topLeft.x - tilePoint.x) * 256, (topLeft.y - tilePoint.y) * 256,
              // Always draw the whole thing and let canvas clip; so we can just
              // convert from size in tile coords straight to pixels
              extent.x * 256, extent.y * 256);
            });
          } else {
            // Use manual nearest-neighbor interpolation

            // Calculate the source image pixel coordinates that correspond with
            // the top-left and bottom-right of this tile. (If the source image
            // only partially overlaps the tile, we use max/min to limit the
            // sourceStart/End to only reflect the overlapping portion.)
            var sourceStart = {
              x: Math.max(0, Math.floor((tilePoint.x - topLeft.x) * imgRes.x)),
              y: Math.max(0, Math.floor((tilePoint.y - topLeft.y) * imgRes.y))
            };
            var sourceEnd = {
              x: Math.min(w, Math.ceil((tilePoint.x + 1 - topLeft.x) * imgRes.x)),
              y: Math.min(h, Math.ceil((tilePoint.y + 1 - topLeft.y) * imgRes.y))
            };

            // The size, in dest pixels, that each source pixel should occupy.
            // This might be greater or less than 1 (e.g. if x and y resolution
            // are very different).
            var pixelSize = {
              x: 256 / imgRes.x,
              y: 256 / imgRes.y
            };

            // For each pixel in the source image that overlaps the tile...
            for (var row = sourceStart.y; row &lt; sourceEnd.y; row++) {
              for (var col = sourceStart.x; col &lt; sourceEnd.x; col++) {
                // ...extract the pixel data...
                var i = (row * w + col) * 4;
                var r = imgData[i];
                var g = imgData[i + 1];
                var b = imgData[i + 2];
                var a = imgData[i + 3];
                ctx.fillStyle = &quot;rgba(&quot; + [r, g, b, a / 255].join(&quot;,&quot;) + &quot;)&quot;;

                // ...calculate the corresponding pixel coord in the dest image
                // where it should be drawn...
                var pixelPos = {
                  x: (col / imgRes.x + topLeft.x - tilePoint.x) * 256,
                  y: (row / imgRes.y + topLeft.y - tilePoint.y) * 256
                };

                // ...and draw a rectangle there.
                ctx.fillRect(Math.round(pixelPos.x), Math.round(pixelPos.y),
                // Looks crazy, but this is necessary to prevent rounding from
                // causing overlap between this rect and its neighbors. The
                // minuend is the location of the next pixel, while the
                // subtrahend is the position of the current pixel (to turn an
                // absolute coordinate to a width/height). Yes, I had to look
                // up minuend and subtrahend.
                Math.round(pixelPos.x + pixelSize.x) - Math.round(pixelPos.x), Math.round(pixelPos.y + pixelSize.y) - Math.round(pixelPos.y));
              }
            }
          }
        }();

        if ((typeof _ret8 === &quot;undefined&quot; ? &quot;undefined&quot; : _typeof(_ret8)) === &quot;object&quot;) return _ret8.v;
      } catch (e) {
        error = e;
      } finally {
        done(error, canvas);
      }
    });
    return canvas;
  };

  this.layerManager.addLayer(canvasTiles, &quot;image&quot;, layerId, group);
};

methods.removeImage = function (layerId) {
  this.layerManager.removeLayer(&quot;image&quot;, layerId);
};

methods.clearImages = function () {
  this.layerManager.clearLayers(&quot;image&quot;);
};

methods.addMeasure = function (options) {
  // if a measureControl already exists, then remove it and
  //   replace with a new one
  methods.removeMeasure.call(this);
  this.measureControl = _leaflet2.default.control.measure(options);
  this.addControl(this.measureControl);
};

methods.removeMeasure = function () {
  if (this.measureControl) {
    this.removeControl(this.measureControl);
    this.measureControl = null;
  }
};

methods.addSelect = function (ctGroup) {
  var _this10 = this;

  methods.removeSelect.call(this);

  this._selectButton = _leaflet2.default.easyButton({
    states: [{
      stateName: &quot;select-inactive&quot;,
      icon: &quot;ion-qr-scanner&quot;,
      title: &quot;Make a selection&quot;,
      onClick: function onClick(btn, map) {
        btn.state(&quot;select-active&quot;);
        _this10._locationFilter = new _leaflet2.default.LocationFilter2();

        if (ctGroup) {
          (function () {
            var selectionHandle = new global.crosstalk.SelectionHandle(ctGroup);
            selectionHandle.on(&quot;change&quot;, function (e) {
              if (e.sender !== selectionHandle) {
                if (_this10._locationFilter) {
                  _this10._locationFilter.disable();
                  btn.state(&quot;select-inactive&quot;);
                }
              }
            });
            var handler = function handler(e) {
              _this10.layerManager.brush(_this10._locationFilter.getBounds(), { sender: selectionHandle });
            };
            _this10._locationFilter.on(&quot;enabled&quot;, handler);
            _this10._locationFilter.on(&quot;change&quot;, handler);
            _this10._locationFilter.on(&quot;disabled&quot;, function () {
              selectionHandle.close();
              _this10._locationFilter = null;
            });
          })();
        }

        _this10._locationFilter.addTo(map);
      }
    }, {
      stateName: &quot;select-active&quot;,
      icon: &quot;ion-close-round&quot;,
      title: &quot;Dismiss selection&quot;,
      onClick: function onClick(btn, map) {
        btn.state(&quot;select-inactive&quot;);
        _this10._locationFilter.disable();
        // If explicitly dismissed, clear the crosstalk selections
        _this10.layerManager.unbrush();
      }
    }]
  });

  this._selectButton.addTo(this);
};

methods.removeSelect = function () {
  if (this._locationFilter) {
    this._locationFilter.disable();
  }

  if (this._selectButton) {
    this.removeControl(this._selectButton);
    this._selectButton = null;
  }
};


}).call(this,typeof global !== &quot;undefined&quot; ? global : typeof self !== &quot;undefined&quot; ? self : typeof window !== &quot;undefined&quot; ? window : {})
},{&quot;./cluster-layer-store&quot;:1,&quot;./crs_utils&quot;:3,&quot;./dataframe&quot;:4,&quot;./global/htmlwidgets&quot;:8,&quot;./global/jquery&quot;:9,&quot;./global/leaflet&quot;:10,&quot;./global/shiny&quot;:12,&quot;./mipmapper&quot;:16,&quot;./util&quot;:17}],16:[function(require,module,exports){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (&quot;value&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(&quot;Cannot call a class as a function&quot;); } }

// This class simulates a mipmap, which shrinks images by powers of two. This
// stepwise reduction results in &quot;pixel-perfect downscaling&quot; (where every
// pixel of the original image has some contribution to the downscaled image)
// as opposed to a single-step downscaling which will discard a lot of data
// (and with sparse images at small scales can give very surprising results).

var Mipmapper = function () {
  function Mipmapper(img) {
    _classCallCheck(this, Mipmapper);

    this._layers = [img];
  }

  // The various functions on this class take a callback function BUT MAY OR MAY
  // NOT actually behave asynchronously.


  _createClass(Mipmapper, [{
    key: &quot;getBySize&quot;,
    value: function getBySize(desiredWidth, desiredHeight, callback) {
      var _this = this;

      var i = 0;
      var lastImg = this._layers[0];
      var testNext = function testNext() {
        _this.getByIndex(i, function (img) {
          // If current image is invalid (i.e. too small to be rendered) or
          // it's smaller than what we wanted, return the last known good image.
          if (!img || img.width &lt; desiredWidth || img.height &lt; desiredHeight) {
            callback(lastImg);
            return;
          } else {
            lastImg = img;
            i++;
            testNext();
            return;
          }
        });
      };
      testNext();
    }
  }, {
    key: &quot;getByIndex&quot;,
    value: function getByIndex(i, callback) {
      var _this2 = this;

      if (this._layers[i]) {
        callback(this._layers[i]);
        return;
      }

      this.getByIndex(i - 1, function (prevImg) {
        if (!prevImg) {
          // prevImg could not be calculated (too small, possibly)
          callback(null);
          return;
        }
        if (prevImg.width &lt; 2 || prevImg.height &lt; 2) {
          // Can't reduce this image any further
          callback(null);
          return;
        }
        // If reduce ever becomes truly asynchronous, we should stuff a promise or
        // something into this._layers[i] before calling this.reduce(), to prevent
        // redundant reduce operations from happening.
        _this2.reduce(prevImg, function (reducedImg) {
          _this2._layers[i] = reducedImg;
          callback(reducedImg);
          return;
        });
      });
    }
  }, {
    key: &quot;reduce&quot;,
    value: function reduce(img, callback) {
      var imgDataCanvas = document.createElement(&quot;canvas&quot;);
      imgDataCanvas.width = Math.ceil(img.width / 2);
      imgDataCanvas.height = Math.ceil(img.height / 2);
      imgDataCanvas.style.display = &quot;none&quot;;
      document.body.appendChild(imgDataCanvas);
      try {
        var imgDataCtx = imgDataCanvas.getContext(&quot;2d&quot;);
        imgDataCtx.drawImage(img, 0, 0, img.width / 2, img.height / 2);
        callback(imgDataCanvas);
      } finally {
        document.body.removeChild(imgDataCanvas);
      }
    }
  }]);

  return Mipmapper;
}();

exports.default = Mipmapper;


},{}],17:[function(require,module,exports){
&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});
exports.log = log;
exports.recycle = recycle;
exports.asArray = asArray;
function log(message) {
  /* eslint-disable no-console */
  if (console &amp;&amp; console.log) console.log(message);
  /* eslint-enable no-console */
}

function recycle(values, length, inPlace) {
  if (length === 0 &amp;&amp; !inPlace) return [];

  if (!(values instanceof Array)) {
    if (inPlace) {
      throw new Error(&quot;Can't do in-place recycling of a non-Array value&quot;);
    }
    values = [values];
  }
  if (typeof length === &quot;undefined&quot;) length = values.length;

  var dest = inPlace ? values : [];
  var origLength = values.length;
  while (dest.length &lt; length) {
    dest.push(values[dest.length % origLength]);
  }
  if (dest.length &gt; length) {
    dest.splice(length, dest.length - length);
  }
  return dest;
}

function asArray(value) {
  if (value instanceof Array) return value;else return [value];
}


},{}]},{},[13]);
&lt;/script&gt;
&lt;script&gt;(function (root, factory) {
	if (typeof define === 'function' &amp;&amp; define.amd) {
		// AMD. Register as an anonymous module.
		define(['leaflet'], factory);
	} else if (typeof modules === 'object' &amp;&amp; module.exports) {
		// define a Common JS module that relies on 'leaflet'
		module.exports = factory(require('leaflet'));
	} else {
		// Assume Leaflet is loaded into global object L already
		factory(L);
	}
}(this, function (L) {
	'use strict';

	L.TileLayer.Provider = L.TileLayer.extend({
		initialize: function (arg, options) {
			var providers = L.TileLayer.Provider.providers;

			var parts = arg.split('.');

			var providerName = parts[0];
			var variantName = parts[1];

			if (!providers[providerName]) {
				throw 'No such provider (' + providerName + ')';
			}

			var provider = {
				url: providers[providerName].url,
				options: providers[providerName].options
			};

			// overwrite values in provider from variant.
			if (variantName &amp;&amp; 'variants' in providers[providerName]) {
				if (!(variantName in providers[providerName].variants)) {
					throw 'No such variant of ' + providerName + ' (' + variantName + ')';
				}
				var variant = providers[providerName].variants[variantName];
				var variantOptions;
				if (typeof variant === 'string') {
					variantOptions = {
						variant: variant
					};
				} else {
					variantOptions = variant.options;
				}
				provider = {
					url: variant.url || provider.url,
					options: L.Util.extend({}, provider.options, variantOptions)
				};
			}

			// If retina option is set
			if (provider.options.retina) {
				// Check retina screen
				if (options.detectRetina &amp;&amp; L.Browser.retina) {
					// The retina option will be active now
					// But we need to prevent Leaflet retina mode
					options.detectRetina = false;
				} else {
					// No retina, remove option
					provider.options.retina = '';
				}
			}

			// replace attribution placeholders with their values from toplevel provider attribution,
			// recursively
			var attributionReplacer = function (attr) {
				if (attr.indexOf('{attribution.') === -1) {
					return attr;
				}
				return attr.replace(/\{attribution.(\w*)\}/,
					function (match, attributionName) {
						return attributionReplacer(providers[attributionName].options.attribution);
					}
				);
			};
			provider.options.attribution = attributionReplacer(provider.options.attribution);

			// Compute final options combining provider options with any user overrides
			var layerOpts = L.Util.extend({}, provider.options, options);
			L.TileLayer.prototype.initialize.call(this, provider.url, layerOpts);
		}
	});

	/**
	 * Definition of providers.
	 * see http://leafletjs.com/reference.html#tilelayer for options in the options map.
	 */

	L.TileLayer.Provider.providers = {
		OpenStreetMap: {
			url: '//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
			options: {
				maxZoom: 19,
				attribution:
					'&amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;'
			},
			variants: {
				Mapnik: {},
				BlackAndWhite: {
					url: 'http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png',
					options: {
						maxZoom: 18
					}
				},
				DE: {
					url: '//{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png',
					options: {
						maxZoom: 18
					}
				},
				CH: {
					url: '//tile.osm.ch/switzerland/{z}/{x}/{y}.png',
					options: {
						maxZoom: 18
					}
				},
				France: {
					url: '//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png',
					options: {
						maxZoom: 20,
						attribution: '&amp;copy; Openstreetmap France | {attribution.OpenStreetMap}'
					}
				},
				HOT: {
					url: '//{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png',
					options: {
						attribution: '{attribution.OpenStreetMap}, Tiles courtesy of &lt;a href=&quot;http://hot.openstreetmap.org/&quot; target=&quot;_blank&quot;&gt;Humanitarian OpenStreetMap Team&lt;/a&gt;'
					}
				},
				BZH: {
					url: 'https://tile.openstreetmap.bzh/br/{z}/{x}/{y}.png',
					options: {
						attribution: '{attribution.OpenStreetMap}, Tiles courtesy of &lt;a href=&quot;http://www.openstreetmap.bzh/&quot; target=&quot;_blank&quot;&gt;Breton OpenStreetMap Team&lt;/a&gt;',
						bounds: [[46.2, -5.5], [50, 0.7]]
					}
				}
			}
		},
		OpenInfraMap: {
			url: 'https://tiles-{s}.openinframap.org/{variant}/{z}/{x}/{y}.png',
			options: {
				maxZoom: 18,
				attribution:
					'{attribution.OpenStreetMap}, &lt;a href=&quot;http://www.openinframap.org/about.html&quot;&gt;About OpenInfraMap&lt;/a&gt;'
			},
			variants: {
				  Power:       'power' ,
				  Telecom:     'telecoms' ,
				  Petroleum:   'petroleum' ,
				  Water:       'water'
			}
		},
		OpenSeaMap: {
			url: '//tiles.openseamap.org/seamark/{z}/{x}/{y}.png',
			options: {
				attribution: 'Map data: &amp;copy; &lt;a href=&quot;http://www.openseamap.org&quot;&gt;OpenSeaMap&lt;/a&gt; contributors'
			}
		},
		OpenPtMap: {
			url: 'http://openptmap.org/tiles/{z}/{x}/{y}.png',
			options: {
				maxZoom: 17,
				attribution: 'Map data: &amp;copy; &lt;a href=&quot;http://www.openptmap.org&quot;&gt;OpenPtMap&lt;/a&gt; contributors'
			}
		},
		OpenTopoMap: {
			url: 'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png',
			options: {
				maxZoom: 17,
				attribution: 'Map data: {attribution.OpenStreetMap}, &lt;a href=&quot;http://viewfinderpanoramas.org&quot;&gt;SRTM&lt;/a&gt; | Map style: &amp;copy; &lt;a href=&quot;https://opentopomap.org&quot;&gt;OpenTopoMap&lt;/a&gt; (&lt;a href=&quot;https://creativecommons.org/licenses/by-sa/3.0/&quot;&gt;CC-BY-SA&lt;/a&gt;)'
			}
		},
		OpenRailwayMap: {
			url: 'https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png',
			options: {
				maxZoom: 19,
				attribution: 'Map data: {attribution.OpenStreetMap} | Map style: &amp;copy; &lt;a href=&quot;https://www.OpenRailwayMap.org&quot;&gt;OpenRailwayMap&lt;/a&gt; (&lt;a href=&quot;https://creativecommons.org/licenses/by-sa/3.0/&quot;&gt;CC-BY-SA&lt;/a&gt;)'
			}
		},
		OpenFireMap: {
			url: 'http://openfiremap.org/hytiles/{z}/{x}/{y}.png',
			options: {
				maxZoom: 19,
				attribution: 'Map data: {attribution.OpenStreetMap} | Map style: &amp;copy; &lt;a href=&quot;http://www.openfiremap.org&quot;&gt;OpenFireMap&lt;/a&gt; (&lt;a href=&quot;https://creativecommons.org/licenses/by-sa/3.0/&quot;&gt;CC-BY-SA&lt;/a&gt;)'
			}
		},
		SafeCast: {
			url: '//s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png',
			options: {
				maxZoom: 16,
				attribution: 'Map data: {attribution.OpenStreetMap} | Map style: &amp;copy; &lt;a href=&quot;https://blog.safecast.org/about/&quot;&gt;SafeCast&lt;/a&gt; (&lt;a href=&quot;https://creativecommons.org/licenses/by-sa/3.0/&quot;&gt;CC-BY-SA&lt;/a&gt;)'
			}
		},
		Thunderforest: {
			url: 'https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}',
			options: {
				attribution:
					'&amp;copy; &lt;a href=&quot;http://www.thunderforest.com/&quot;&gt;Thunderforest&lt;/a&gt;, {attribution.OpenStreetMap}',
				variant: 'cycle',
				apikey: '&lt;insert your api key here&gt;',
				maxZoom: 22
			},
			variants: {
				OpenCycleMap: 'cycle',
				Transport: {
					options: {
						variant: 'transport'
					}
				},
				TransportDark: {
					options: {
						variant: 'transport-dark'
					}
				},
				SpinalMap: {
					options: {
						variant: 'spinal-map'
					}
				},
				Landscape: 'landscape',
				Outdoors: 'outdoors',
				Pioneer: 'pioneer'
			}
		},
		OpenMapSurfer: {
			url: 'https://korona.geog.uni-heidelberg.de/tiles/{variant}/x={x}&amp;y={y}&amp;z={z}',
			options: {
				maxZoom: 20,
				variant: 'roads',
				attribution: 'Imagery from &lt;a href=&quot;http://giscience.uni-hd.de/&quot;&gt;GIScience Research Group @ University of Heidelberg&lt;/a&gt; &amp;mdash; Map data {attribution.OpenStreetMap}'
			},
			variants: {
				Roads: 'roads',
				AdminBounds: {
					options: {
						variant: 'adminb',
						maxZoom: 19
					}
				},
				Grayscale: {
					options: {
						variant: 'roadsg',
						maxZoom: 19
					}
				}
			}
		},
		Hydda: {
			url: '//{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png',
			options: {
				maxZoom: 18,
				variant: 'full',
				attribution: 'Tiles courtesy of &lt;a href=&quot;http://openstreetmap.se/&quot; target=&quot;_blank&quot;&gt;OpenStreetMap Sweden&lt;/a&gt; &amp;mdash; Map data {attribution.OpenStreetMap}'
			},
			variants: {
				Full: 'full',
				Base: 'base',
				RoadsAndLabels: 'roads_and_labels'
			}
		},
		MapBox: {
			url: 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}',
			options: {
				attribution:
					'Imagery from &lt;a href=&quot;http://mapbox.com/about/maps/&quot;&gt;MapBox&lt;/a&gt; &amp;mdash; ' +
					'Map data {attribution.OpenStreetMap}',
				subdomains: 'abcd',
				id: 'streets',
				accessToken: '&lt;insert your access token here&gt;',
			}
		},
		Stamen: {
			url: '//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}',
			options: {
				attribution:
					'Map tiles by &lt;a href=&quot;http://stamen.com&quot;&gt;Stamen Design&lt;/a&gt;, ' +
					'&lt;a href=&quot;http://creativecommons.org/licenses/by/3.0&quot;&gt;CC BY 3.0&lt;/a&gt; &amp;mdash; ' +
					'Map data {attribution.OpenStreetMap}',
				subdomains: 'abcd',
				minZoom: 0,
				maxZoom: 20,
				variant: 'toner',
				ext: 'png'
			},
			variants: {
				Toner: 'toner',
				TonerBackground: 'toner-background',
				TonerHybrid: 'toner-hybrid',
				TonerLines: 'toner-lines',
				TonerLabels: 'toner-labels',
				TonerLite: 'toner-lite',
				Watercolor: {
					options: {
						variant: 'watercolor',
						minZoom: 1,
						maxZoom: 16
					}
				},
				Terrain: {
					options: {
						variant: 'terrain',
						minZoom: 0,
						maxZoom: 18
					}
				},
				TerrainBackground: {
					options: {
						variant: 'terrain-background',
						minZoom: 0,
						maxZoom: 18
					}
				},
				TopOSMRelief: {
					options: {
						variant: 'toposm-color-relief',
						ext: 'jpg',
						bounds: [[22, -132], [51, -56]]
					}
				},
				TopOSMFeatures: {
					options: {
						variant: 'toposm-features',
						bounds: [[22, -132], [51, -56]],
						opacity: 0.9
					}
				}
			}
		},
		Esri: {
			url: '//server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}',
			options: {
				variant: 'World_Street_Map',
				attribution: 'Tiles &amp;copy; Esri'
			},
			variants: {
				WorldStreetMap: {
					options: {
						attribution:
							'{attribution.Esri} &amp;mdash; ' +
							'Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012'
					}
				},
				DeLorme: {
					options: {
						variant: 'Specialty/DeLorme_World_Base_Map',
						minZoom: 1,
						maxZoom: 11,
						attribution: '{attribution.Esri} &amp;mdash; Copyright: &amp;copy;2012 DeLorme'
					}
				},
				WorldTopoMap: {
					options: {
						variant: 'World_Topo_Map',
						attribution:
							'{attribution.Esri} &amp;mdash; ' +
							'Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community'
					}
				},
				WorldImagery: {
					options: {
						variant: 'World_Imagery',
						attribution:
							'{attribution.Esri} &amp;mdash; ' +
							'Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
					}
				},
				WorldTerrain: {
					options: {
						variant: 'World_Terrain_Base',
						maxZoom: 13,
						attribution:
							'{attribution.Esri} &amp;mdash; ' +
							'Source: USGS, Esri, TANA, DeLorme, and NPS'
					}
				},
				WorldShadedRelief: {
					options: {
						variant: 'World_Shaded_Relief',
						maxZoom: 13,
						attribution: '{attribution.Esri} &amp;mdash; Source: Esri'
					}
				},
				WorldPhysical: {
					options: {
						variant: 'World_Physical_Map',
						maxZoom: 8,
						attribution: '{attribution.Esri} &amp;mdash; Source: US National Park Service'
					}
				},
				OceanBasemap: {
					options: {
						variant: 'Ocean_Basemap',
						maxZoom: 13,
						attribution: '{attribution.Esri} &amp;mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri'
					}
				},
				NatGeoWorldMap: {
					options: {
						variant: 'NatGeo_World_Map',
						maxZoom: 16,
						attribution: '{attribution.Esri} &amp;mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC'
					}
				},
				WorldGrayCanvas: {
					options: {
						variant: 'Canvas/World_Light_Gray_Base',
						maxZoom: 16,
						attribution: '{attribution.Esri} &amp;mdash; Esri, DeLorme, NAVTEQ'
					}
				}
			}
		},
		OpenWeatherMap: {
			url: 'http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}',
			options: {
				maxZoom: 19,
				attribution: 'Map data &amp;copy; &lt;a href=&quot;http://openweathermap.org&quot;&gt;OpenWeatherMap&lt;/a&gt;',
				apiKey:'&lt;insert your api key here&gt;',
				opacity: 0.5
			},
			variants: {
				Clouds: 'clouds',
				CloudsClassic: 'clouds_cls',
				Precipitation: 'precipitation',
				PrecipitationClassic: 'precipitation_cls',
				Rain: 'rain',
				RainClassic: 'rain_cls',
				Pressure: 'pressure',
				PressureContour: 'pressure_cntr',
				Wind: 'wind',
				Temperature: 'temp',
				Snow: 'snow'
			}
		},
		HERE: {
			/*
			 * HERE maps, formerly Nokia maps.
			 * These basemaps are free, but you need an API key. Please sign up at
			 * http://developer.here.com/getting-started
			 *
			 * Note that the base urls contain '.cit' whichs is HERE's
			 * 'Customer Integration Testing' environment. Please remove for production
			 * envirionments.
			 */
			url:
				'//{s}.{base}.maps.cit.api.here.com/maptile/2.1/' +
				'{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?' +
				'app_id={app_id}&amp;app_code={app_code}&amp;lg={language}',
			options: {
				attribution:
					'Map &amp;copy; 1987-2014 &lt;a href=&quot;http://developer.here.com&quot;&gt;HERE&lt;/a&gt;',
				subdomains: '1234',
				mapID: 'newest',
				'app_id': '&lt;insert your app_id here&gt;',
				'app_code': '&lt;insert your app_code here&gt;',
				base: 'base',
				variant: 'normal.day',
				maxZoom: 20,
				type: 'maptile',
				language: 'eng',
				format: 'png8',
				size: '256'
			},
			variants: {
				normalDay: 'normal.day',
				normalDayCustom: 'normal.day.custom',
				normalDayGrey: 'normal.day.grey',
				normalDayMobile: 'normal.day.mobile',
				normalDayGreyMobile: 'normal.day.grey.mobile',
				normalDayTransit: 'normal.day.transit',
				normalDayTransitMobile: 'normal.day.transit.mobile',
				normalNight: 'normal.night',
				normalNightMobile: 'normal.night.mobile',
				normalNightGrey: 'normal.night.grey',
				normalNightGreyMobile: 'normal.night.grey.mobile',

				basicMap: {
					options: {
						type: 'basetile'
					}
				},
				mapLabels: {
					options: {
						type: 'labeltile',
						format: 'png'
					}
				},
				trafficFlow: {
					options: {
						base: 'traffic',
						type: 'flowtile'
					}
				},
				carnavDayGrey: 'carnav.day.grey',
				hybridDay: {
					options: {
						base: 'aerial',
						variant: 'hybrid.day'
					}
				},
				hybridDayMobile: {
					options: {
						base: 'aerial',
						variant: 'hybrid.day.mobile'
					}
				},
				pedestrianDay: 'pedestrian.day',
				pedestrianNight: 'pedestrian.night',
				satelliteDay: {
					options: {
						base: 'aerial',
						variant: 'satellite.day'
					}
				},
				terrainDay: {
					options: {
						base: 'aerial',
						variant: 'terrain.day'
					}
				},
				terrainDayMobile: {
					options: {
						base: 'aerial',
						variant: 'terrain.day.mobile'
					}
				}
			}
		},
		FreeMapSK: {
			url: 'http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg',
			options: {
				minZoom: 8,
				maxZoom: 16,
				subdomains: '1234',
				bounds: [[47.204642, 15.996093], [49.830896, 22.576904]],
				attribution:
					'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 &lt;a href=&quot;http://freemap.sk&quot;&gt;Freemap.sk&lt;/a&gt;'
			}
		},
		MtbMap: {
			url: 'http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png',
			options: {
				attribution:
					'{attribution.OpenStreetMap} &amp;amp; USGS'
			}
		},
		CartoDB: {
			url: 'https://cartodb-basemaps-{s}.global.ssl.fastly.net/{variant}/{z}/{x}/{y}.png',
			options: {
				attribution: '{attribution.OpenStreetMap} &amp;copy; &lt;a href=&quot;http://cartodb.com/attributions&quot;&gt;CartoDB&lt;/a&gt;',
				subdomains: 'abcd',
				maxZoom: 19,
				variant: 'light_all'
			},
			variants: {
				Positron: 'light_all',
				PositronNoLabels: 'light_nolabels',
				PositronOnlyLabels: 'light_only_labels',
				DarkMatter: 'dark_all',
				DarkMatterNoLabels: 'dark_nolabels',
				DarkMatterOnlyLabels: 'dark_only_labels'
			}
		},
		HikeBike: {
			url: 'http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png',
			options: {
				maxZoom: 19,
				attribution: '{attribution.OpenStreetMap}',
				variant: 'hikebike'
			},
			variants: {
				HikeBike: {},
				HillShading: {
					options: {
						maxZoom: 15,
						variant: 'hillshading'
					}
				}
			}
		},
		BasemapAT: {
			url: '//maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}',
			options: {
				maxZoom: 19,
				attribution: 'Datenquelle: &lt;a href=&quot;https://www.basemap.at&quot;&gt;basemap.at&lt;/a&gt;',
				subdomains: ['', '1', '2', '3', '4'],
				format: 'png',
				bounds: [[46.358770, 8.782379], [49.037872, 17.189532]],
				variant: 'geolandbasemap'
			},
			variants: {
				basemap: {
					options: {
						maxZoom: 20, // currently only in Vienna
						variant: 'geolandbasemap'
					}
				},
				grau: 'bmapgrau',
				overlay: 'bmapoverlay',
				highdpi: {
					options: {
						variant: 'bmaphidpi',
						format: 'jpeg'
					}
				},
				orthofoto: {
					options: {
						maxZoom: 20, // currently only in Vienna
						variant: 'bmaporthofoto30cm',
						format: 'jpeg'
					}
				}
			}
		},
		nlmaps: {
			url: '//geodata.nationaalgeoregister.nl/tiles/service/wmts/{variant}/EPSG:3857/{z}/{x}/{y}.png',
			options: {
				minZoom: 6,
				maxZoom: 19,
				bounds: [[50.5, 3.25], [54, 7.6]],
				attribution: 'Kaartgegevens &amp;copy; &lt;a href=&quot;kadaster.nl&quot;&gt;Kadaster&lt;/a&gt;'
			},
			variants: {
				'standaard': 'brtachtergrondkaart',
				'pastel': 'brtachtergrondkaartpastel',
				'grijs': 'brtachtergrondkaartgrijs',
				'luchtfoto': {
					'url': '//geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts/1.0.0/2016_ortho25/EPSG:3857/{z}/{x}/{y}.png',
				}
			}
		},
		NASAGIBS: {
			url: 'https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}',
			options: {
				attribution:
					'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System ' +
					'(&lt;a href=&quot;https://earthdata.nasa.gov&quot;&gt;ESDIS&lt;/a&gt;) with funding provided by NASA/HQ.',
				bounds: [[-85.0511287776, -179.999999975], [85.0511287776, 179.999999975]],
				minZoom: 1,
				maxZoom: 9,
				format: 'jpg',
				time: '',
				tilematrixset: 'GoogleMapsCompatible_Level'
			},
			variants: {
				ModisTerraTrueColorCR: 'MODIS_Terra_CorrectedReflectance_TrueColor',
				ModisTerraBands367CR: 'MODIS_Terra_CorrectedReflectance_Bands367',
				ViirsEarthAtNight2012: {
					options: {
						variant: 'VIIRS_CityLights_2012',
						maxZoom: 8
					}
				},
				ModisTerraLSTDay: {
					options: {
						variant: 'MODIS_Terra_Land_Surface_Temp_Day',
						format: 'png',
						maxZoom: 7,
						opacity: 0.75
					}
				},
				ModisTerraSnowCover: {
					options: {
						variant: 'MODIS_Terra_Snow_Cover',
						format: 'png',
						maxZoom: 8,
						opacity: 0.75
					}
				},
				ModisTerraAOD: {
					options: {
						variant: 'MODIS_Terra_Aerosol',
						format: 'png',
						maxZoom: 6,
						opacity: 0.75
					}
				},
				ModisTerraChlorophyll: {
					options: {
						variant: 'MODIS_Terra_Chlorophyll_A',
						format: 'png',
						maxZoom: 7,
						opacity: 0.75
					}
				}
			}
		},
		NLS: {
			// NLS maps are copyright National library of Scotland.
			// http://maps.nls.uk/projects/api/index.html
			// Please contact NLS for anything other than non-commercial low volume usage
			//
			// Map sources: Ordnance Survey 1:1m to 1:63K, 1920s-1940s
			//   z0-9  - 1:1m
			//  z10-11 - quarter inch (1:253440)
			//  z12-18 - one inch (1:63360)
			url: '//nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg',
			options: {
				attribution: '&lt;a href=&quot;http://geo.nls.uk/maps/&quot;&gt;National Library of Scotland Historic Maps&lt;/a&gt;',
				bounds: [[49.6, -12], [61.7, 3]],
				minZoom: 1,
				maxZoom: 18,
				subdomains: '0123',
			}
		},
		JusticeMap: {
			// Justice Map (http://www.justicemap.org/)
			// Visualize race and income data for your community, county and country.
			// Includes tools for data journalists, bloggers and community activists.
			url: 'http://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.png',
			options: {
				attribution: '&lt;a href=&quot;http://www.justicemap.org/terms.php&quot;&gt;Justice Map&lt;/a&gt;',
				// one of 'county', 'tract', 'block'
				size: 'county',
				// Bounds for USA, including Alaska and Hawaii
				bounds: [[14, -180], [72, -56]]
			},
			variants: {
				income: 'income',
				americanIndian: 'indian',
				asian: 'asian',
				black: 'black',
				hispanic: 'hispanic',
				multi: 'multi',
				nonWhite: 'nonwhite',
				white: 'white',
				plurality: 'plural'
			}
		},
		Wikimedia: {
			url: 'https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png',
			options: {
				attribution: '&lt;a href=&quot;https://wikimediafoundation.org/wiki/Maps_Terms_of_Use&quot;&gt;Wikimedia&lt;/a&gt;',
				minZoom: 1,
				maxZoom: 18
			}
		}
	};

	L.tileLayer.provider = function (provider, options) {
		return new L.TileLayer.Provider(provider, options);
	};

	return L;
}));
&lt;/script&gt;
&lt;script&gt;LeafletWidget.methods.addProviderTiles = function(provider, layerId, group, options) {
  this.layerManager.addLayer(L.tileLayer.provider(provider, options), &quot;tile&quot;, layerId, group);
};
&lt;/script&gt;
&lt;/head&gt;
&lt;body style=&quot;background-color:white;&quot;&gt;
&lt;div id=&quot;htmlwidget_container&quot;&gt;
&lt;div id=&quot;htmlwidget-8e632f1fcf6a8956e79b&quot; class=&quot;leaflet html-widget&quot; style=&quot;width:700px;height:500px;&quot;&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;script type=&quot;application/json&quot; data-for=&quot;htmlwidget-8e632f1fcf6a8956e79b&quot;&gt;{&quot;x&quot;:{&quot;options&quot;:{&quot;crs&quot;:{&quot;crsClass&quot;:&quot;L.CRS.EPSG3857&quot;,&quot;code&quot;:null,&quot;proj4def&quot;:null,&quot;projectedBounds&quot;:null,&quot;options&quot;:{}}},&quot;calls&quot;:[{&quot;method&quot;:&quot;addMarkers&quot;,&quot;args&quot;:[32.218451,-7.935646,null,null,null,{&quot;interactive&quot;:true,&quot;draggable&quot;:false,&quot;keyboard&quot;:true,&quot;title&quot;:&quot;&quot;,&quot;alt&quot;:&quot;&quot;,&quot;zIndexOffset&quot;:0,&quot;opacity&quot;:1,&quot;riseOnHover&quot;:false,&quot;riseOffset&quot;:250},&quot;Mohammed VI Polytechnic University&quot;,null,null,null,null,{&quot;interactive&quot;:false,&quot;permanent&quot;:false,&quot;direction&quot;:&quot;auto&quot;,&quot;opacity&quot;:1,&quot;offset&quot;:[0,0],&quot;textsize&quot;:&quot;10px&quot;,&quot;textOnly&quot;:false,&quot;className&quot;:&quot;&quot;,&quot;sticky&quot;:true},null]},{&quot;method&quot;:&quot;addMarkers&quot;,&quot;args&quot;:[32.214353,-7.896351,null,null,null,{&quot;interactive&quot;:true,&quot;draggable&quot;:false,&quot;keyboard&quot;:true,&quot;title&quot;:&quot;&quot;,&quot;alt&quot;:&quot;&quot;,&quot;zIndexOffset&quot;:0,&quot;opacity&quot;:1,&quot;riseOnHover&quot;:false,&quot;riseOffset&quot;:250},&quot;Our hotel accomadation&quot;,null,null,null,null,{&quot;interactive&quot;:false,&quot;permanent&quot;:false,&quot;direction&quot;:&quot;auto&quot;,&quot;opacity&quot;:1,&quot;offset&quot;:[0,0],&quot;textsize&quot;:&quot;10px&quot;,&quot;textOnly&quot;:false,&quot;className&quot;:&quot;&quot;,&quot;sticky&quot;:true},null]},{&quot;method&quot;:&quot;addTiles&quot;,&quot;args&quot;:[&quot;//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,null,&quot;OSM (default)&quot;,{&quot;minZoom&quot;:0,&quot;maxZoom&quot;:18,&quot;tileSize&quot;:256,&quot;subdomains&quot;:&quot;abc&quot;,&quot;errorTileUrl&quot;:&quot;&quot;,&quot;tms&quot;:false,&quot;noWrap&quot;:false,&quot;zoomOffset&quot;:0,&quot;zoomReverse&quot;:false,&quot;opacity&quot;:1,&quot;zIndex&quot;:1,&quot;detectRetina&quot;:false,&quot;attribution&quot;:&quot;&amp;copy; &lt;a href=\&quot;http://openstreetmap.org\&quot;&gt;OpenStreetMap&lt;\/a&gt; contributors, &lt;a href=\&quot;http://creativecommons.org/licenses/by-sa/2.0/\&quot;&gt;CC-BY-SA&lt;\/a&gt;&quot;}]},{&quot;method&quot;:&quot;addProviderTiles&quot;,&quot;args&quot;:[&quot;Esri.WorldImagery&quot;,null,null,{&quot;errorTileUrl&quot;:&quot;&quot;,&quot;noWrap&quot;:false,&quot;detectRetina&quot;:false}]},{&quot;method&quot;:&quot;addLayersControl&quot;,&quot;args&quot;:[[&quot;OSM (default)&quot;,&quot;Imagery&quot;],[],{&quot;collapsed&quot;:true,&quot;autoZIndex&quot;:true,&quot;position&quot;:&quot;topright&quot;}]}],&quot;limits&quot;:{&quot;lat&quot;:[32.214353,32.218451],&quot;lng&quot;:[-7.935646,-7.896351]}},&quot;evals&quot;:[],&quot;jsHooks&quot;:[]}&lt;/script&gt;
&lt;script type=&quot;application/htmlwidget-sizing&quot; data-for=&quot;htmlwidget-8e632f1fcf6a8956e79b&quot;&gt;{&quot;viewer&quot;:{&quot;width&quot;:700,&quot;height&quot;:500,&quot;padding&quot;:0,&quot;fill&quot;:false},&quot;browser&quot;:{&quot;width&quot;:700,&quot;height&quot;:500,&quot;padding&quot;:0,&quot;fill&quot;:false}}&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;p&gt;Agri Analytics Days is platform that aims at exploring Big Data to provide new efficient decisionmaking tools for helping agricultural sustainable development. New acquired, aggregated and shared data is a breeding ground for extracting and sharing useful information and knowledge among different actors involved in agriculture and technology domains to provide actionable onfarm decisions.&lt;/p&gt;

&lt;p&gt;Today, a number of digital technologies and trends with the potential of entirely transforming the way we work are now becoming available to the agricultural sector. These include big data, internet of things, robotics, etc. Applying these technologies to agriculture have a revolutionary potential in the form of data driven decision-making support that has not been possible before.&lt;/p&gt;

&lt;h3 id=&quot;the-program&quot;&gt;The program&lt;/h3&gt;

&lt;p&gt;Agri Analytics days was a full 2 day program with general plenary-like talks and more directed thematic talks around digital technology, digital soil science, plant and ag production analytics and weather analytics and associated forecasting.&lt;/p&gt;

&lt;h4 id=&quot;day-1-program&quot;&gt;Day 1 program&lt;/h4&gt;

&lt;figure&gt;
    &lt;img src=&quot;/images/20180905Morocco/day1 program.png&quot; alt=&quot;day 1 program&quot; /&gt;
    &lt;figcaption&gt;Figure 1. Day 1 scientific program.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h4 id=&quot;day-2-program&quot;&gt;Day 2 program&lt;/h4&gt;

&lt;figure&gt;
    &lt;img src=&quot;/images/20180905Morocco/day2 program.png&quot; alt=&quot;day 2 program&quot; /&gt;
    &lt;figcaption&gt;Figure 2. Day 2 scientific program.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h3 id=&quot;my-observations-and-thoughts&quot;&gt;My observations and thoughts&lt;/h3&gt;

&lt;p&gt;The digital agriculture space is very interesting to me in that it seems clear agriculture will be all the better by having all sorts of data streams that can be used to help improve the way it is currently done. The potential flow on benefits to this are the more sustainable use of our natural resources and improved ability to respond to major environmental challenges in a timely manner. It is now abundantly clear that there are many sensors, data platforms and analytics available and innovative ways to measure and monitor phenomena more regularly and in real time. Many talks had examples of this, and it is clearly an active space with new ways to collect, record and manage data.&lt;/p&gt;

&lt;p&gt;As researchers in this digital agriculture space it is a very fun and productive time and place to be. There are so many ways to look at and analyse data that there is likely to be a never-ending development of new data, tools and techniques to busy ourselves with. We are all loving what we can do and measure, and pretty much all believe that agriculture will benefit immensely from these developments. I agree with this too, but I was kind of hoping to see at this meeting a few more examples of where the new technology has made tangible impact. I kind of feel we are not too far away from this, and a few examples from Africa indicated a growing use and acceptance of new measurement and analysis approaches in agriculture. I would have liked to see more and in particular it would of have been great benefit to the meeting to have had a few farmers that use new technologies on their farms and hear of their experiences first hand. But I guess this is a difficult thing to organise and I can understand this.&lt;/p&gt;

&lt;p&gt;But in any case, if digital agriculture is going to give any benefit to farmers we need to see a few more tangible examples. Clearly private organisations have locked onto the value proposition of digital agriculture, and there are a many growing number of players entering the game. They can see that benefit is possible if not likely in some cases. Officially from the private businesses working in this space all I heard were good news stories. Some of the services offered by the digital agriculture businesses is impressive from the soil science perspective in terms of measurement and mapping. However, it is hard to tell what expertise and rigour is being put into actually generating the information that farmers are likely to get out of them. I get the feeling that there is much scope for cowboys to enter into this space because an opportunity is there. Its just how business operates really. From a unofficial discussion I had with someone I did get some insight into the difficulties of being a player in the space particularly for those at the forefront of taking research and trying to commercialise it. People that I spoke to had invested significantly in vis-NIR measurement for characterisation of soils but are not seeing the benefits of improved predictions with this technology to warrant wide spread use. It may be useful when there is no information on hand, but when it is used to complement other exiting measurements and data out there for improved recommendations (for fertiliser inputs etc.) those recommendations are often poorer than when just using exclusively the existing information. This is a problem as you want better recommendations with this technology not worse. The problem with vis-NIR, while useful, is that it is just not quite there in terms of the accuracy to deliver the precision needed for improved recommendations about fertiliser inputs. There is hope out there though and there is potential to make improvements but it costs money, and being at the forefront of the game is often dangerous because others are just waiting to see where you go wrong then swoop in to take up the where the others have had to stop. I guess this is how progress is made but inevitably progress will be slow. I still think there is hope for vi-NIR, it has its both pros and cons, but I am glad I am not in the business game of trying to get this technology into commercialised soil measurement contexts. The current trend I observed now is the mobile laboratory that goes to the site of measurement and is equipment with instrumentation for processing soils and then subjected to mid-infrared and XRF scanning. Those at the forefront of commercialisation of portablised and insitu measurement of soils are taking huge financial lashes and are trying to get out of the game because of this. It will come soon, but the technology and processes are just not quite there yet.&lt;/p&gt;

&lt;p&gt;It is just me, but I am always a little suspicious of private business and their purported strengths and claims. I do admire the ones that actually try to be at the forefront of new research, but recognise the riskiness of this endeavour from the financial point of view. I have no time for those waiting on the wings to swoop in and grab their opportunity to make money and don’t have any real interest in agriculture or knowledge of it. I did not see any of these type of people around this week thankfully, but I feel the people that represented the few businesses and consultancies that were were more disposed to the finance and business side of things rather that the real development of the technology and science underpinning it. In short there was often a lack of detail around things which was a bit frustrating to me and made me switch off a bit (or maybe that was just the jet lag).&lt;/p&gt;

&lt;p&gt;On the back of all this there was the talk from Rothamsted Research that was really encouraging from the point of view that the UK Government have identified a real value in digital agriculture and have backed this up with the &lt;a href=&quot;https://www.agrimetrics.co.uk/&quot;&gt;Rothamsted Agrimetrics&lt;/a&gt; research organisation. This is a fully funded digital agriculture research arm of Rothamsted. I like it because they genuinely have a clear objective that is not jaded by commercial interests. Well that’s what it seems presently, but even that institutionalised research and commercialisation synergy that is happening more often these days makes it difficult to make a robust assessment of this. Nevertheless it was encouraging to see that is some serious effort and resources being put into getting digital agriculture to become mainstream agriculture. I know of only few examples of others doing similar things to what Rothamsted are doing. The CSIRO in Australia I think are getting onto it but have probably not established themselves to the same extent that Rothamsted have. Saying that however, the organisational structure of Agrimetrics does appear to date mainly have expertise in data science principally, without any clear synergy with the sciences that do work in agriculture. I am sure Rothamsted have that expertise in spades, but I would be interested to see specifically how agricultural research can be piped into the Agrimetrics scope of work.&lt;/p&gt;

&lt;p&gt;Examples of other grower funded or Government and non-Government funded programs that are now moving into the digital agriculture space include the &lt;a href=&quot;http://www.ipni.net/&quot;&gt;International Plant Nutrition Institute&lt;/a&gt;, &lt;a href=&quot;http://www.godan.info/&quot;&gt;Global Open Data for Agriculture and Nutrition&lt;/a&gt;, and a project related to phase 2 of the African Soil Information Service (&lt;a href=&quot;http://www.worldagroforestry.org/project/africa-soil-information-service-afsis-phase-ii&quot;&gt;AfSIS&lt;/a&gt;). It was hard to tell what specific measures were being done in these organisations in the digital agriculture space other than that they recognise the value of it and want to stay relevant in supporting their stakeholders. The phase 2 of AfSIS appears interesting and will be geared towards more localised agricultural management recommendations to support farmers rather than continental soil mapping. The updating of the AfSIS maps is still part of the program but I was unable to get any specific information about what this might entail and the sampling effort to support such work. Something aside from all the digital agriculture talk, I was fascinated to here from the speaker from IPNI about some of the experiments for testing responses to fertiliser inputs within a precision agriculture setting. The work on the enhanced learning blocks, which are essentially randomised block designs incorporated into a field that allow one to unbiasedly determine response effects to treatments. On the matter of fertiliser response curves, I was made aware of from another person from IPNI about the significant amount of work done in Australia in this space. The &lt;a href=&quot;http://www.bfdc.com.au/interrogator/frontpage.vm&quot;&gt;Better Fertiliser Decisions&lt;/a&gt; data interrogator aggregates numerous fertiliser trial data from around the country to give farmers useful information about optimal fertiliser rates that would be suitable to their specific location. I thought this was really cool and will need to be looked at further I think. It is funny though that it got on my radar only through talking about random stuff with my colleagues from the USA.&lt;/p&gt;

&lt;p&gt;So what did I learn over the past few days? Digital agriculture has global appeal. I thought it only extended to westernised nations and to those who had the resources available to make it a reality. Seeing the many people from Africa being vocally enthusiastic, and providing examples of current use cases was something that made me quite impressed. I am now also convinced that we can measure and monitor all manner of things without any problem, but are a bit of the way off on getting these new things into the lives and operations of the everyday farmers and agriculturalists. Precision Ag has been around for over 20 years but it does not have blanket coverage across aquaculture. Digital agriculture is slightly broader in scope than precision agriculture, but can we expect the have the same staggered development and use that has been observed for precision agriculture (rhetorical question). I kind of think the answer is a yes. In any case I walk away from this meeting satisfied that I love what I do in terms of soil science research, but a little challenged that some of the things we are doing there may take years to come into fruition in the mainstream to make real benefits to agriculture. As long as the research keeps getting done then we can at least get comfort that our work on addressing the contemporary issues of our time can at least be potentially realised, but we like to dither around a bit, so who knows when that is likely to happen (another rhetorical question).&lt;/p&gt;

&lt;h3 id=&quot;some-photos&quot;&gt;Some photos&lt;/h3&gt;

&lt;p&gt;This trip to Morocco did not give me much time to look around the place. After the conference, i did get to do a day trip to Marrakech which i enjoyed a great deal. Here are some photos of my time spent in Morocco.&lt;/p&gt;

&lt;figure&gt;
    &lt;img src=&quot;/images/20180905Morocco/morocc1.png&quot; alt=&quot;photos 1&quot; /&gt;
    &lt;figcaption&gt;Figure 3. Some shots from the conference. Mohammed VI Polytechnic University is literally a brand new university. The facilities here were excellent and of the highest quality. The conference centre would be up there as one of the best i have been to. It was an honour to give a presentation here. The AV and technology system gave the whole event a very professional feel.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
    &lt;img src=&quot;/images/20180905Morocco/morocc2.png&quot; alt=&quot;photos 1&quot; /&gt;
    &lt;figcaption&gt;Figure 4. I managed to get in a day to visit Marrakech, which is not too far from Benguerir. Marrakech is an old and busy city. I took in the Manara Botanic gardens where there was a 12th Century irrigation system and very well establish olive grove. This was worth the visit. I also got to visit the old city of Medina, which was buzzing with activity. The marketplace was a maze of souks selling all sorts of produce. The herb and spice souks were amazing. &lt;/figcaption&gt;
&lt;/figure&gt;


    &lt;p&gt;&lt;a href=&quot;/2018/05/AgriAnalytics&quot;&gt;Agri-Analytics Conference&lt;/a&gt; was originally published by Smart Digital Agriculture at &lt;a href=&quot;&quot;&gt;Smart Digital Agriculture&lt;/a&gt; on May 08, 2018.&lt;/p&gt;
  </content>
</entry>

</feed>
